var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function o(e,t,n){e.$$.on_destroy.push(a(t,n))}function l(e,t,n,r){if(e){const i=c(e,t,n,r);return e[0](i)}}function c(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r,i,s,a){const o=function(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|i[r];return e}return t.dirty|i}return t.dirty}(t,r,i,s);if(o){const i=c(t,n,r,a);e.p(i,o)}}function d(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function v(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function g(e){return document.createTextNode(e)}function _(){return g(" ")}function w(){return g("")}function y(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function $(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}}function x(e,t,n){e.classList[n?"add":"remove"](t)}class T{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=m(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)p(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(f)}}let R;function P(e){R=e}function S(){if(!R)throw new Error("Function called outside component initialization");return R}function C(e){S().$$.on_mount.push(e)}function A(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const D=[],F=[],q=[],L=[],z=Promise.resolve();let M=!1;function O(e){q.push(e)}function N(e){L.push(e)}let I=!1;const B=new Set;function U(){if(!I){I=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];P(t),j(t.$$)}for(P(null),D.length=0;F.length;)F.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];B.has(t)||(B.add(t),t())}q.length=0}while(D.length);for(;L.length;)L.pop()();M=!1,I=!1,B.clear()}}function j(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const X=new Set;let V;function H(){V={r:0,c:[],p:V}}function Z(){V.r||r(V.c),V=V.p}function W(e,t){e&&e.i&&(X.delete(e),e.i(t))}function G(e,t,n,r){if(e&&e.o){if(X.has(e))return;X.add(e),V.c.push((()=>{X.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function Y(e,t){G(e,1,1,(()=>{t.delete(e.key)}))}function Q(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function K(e){e&&e.c()}function J(e,n,s,a){const{fragment:o,on_mount:l,on_destroy:c,after_update:u}=e.$$;o&&o.m(n,s),a||O((()=>{const n=l.map(t).filter(i);c?c.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(O)}function ee(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(D.push(e),M||(M=!0,z.then(U)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(t,i,s,a,o,l,c=[-1]){const u=R;P(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:i.context||[]),callbacks:n(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=s?s(t,i.props||{},((e,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&o(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),p&&te(t,e)),n})):[],d.update(),p=!0,r(d.before_update),d.fragment=!!a&&a(d.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);d.fragment&&d.fragment.l(e),e.forEach(f)}else d.fragment&&d.fragment.c();i.intro&&W(t.$$.fragment),J(t,i.target,i.anchor,i.customElement),U()}P(u)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ie=null;
/*!
     * wavesurfer.js 2.0.5 (Thu Jun 28 2018 18:36:40 GMT-0700 (Pacific Daylight Time))
     * https://github.com/katspaugh/wavesurfer.js
     * @license BSD-3-Clause
     */const se=function(e,t,n,r){switch(this.bufferSize=e,this.sampleRate=t,this.bandwidth=2/e*(t/2),this.sinTable=new Float32Array(e),this.cosTable=new Float32Array(e),this.windowValues=new Float32Array(e),this.reverseTable=new Uint32Array(e),this.peakBand=0,this.peak=0,n){case"bartlett":for(i=0;i<e;i++)this.windowValues[i]=2/(e-1)*((e-1)/2-Math.abs(i-(e-1)/2));break;case"bartlettHann":for(i=0;i<e;i++)this.windowValues[i]=.62-.48*Math.abs(i/(e-1)-.5)-.38*Math.cos(2*Math.PI*i/(e-1));break;case"blackman":for(r=r||.16,i=0;i<e;i++)this.windowValues[i]=(1-r)/2-.5*Math.cos(2*Math.PI*i/(e-1))+r/2*Math.cos(4*Math.PI*i/(e-1));break;case"cosine":for(i=0;i<e;i++)this.windowValues[i]=Math.cos(Math.PI*i/(e-1)-Math.PI/2);break;case"gauss":for(r=r||.25,i=0;i<e;i++)this.windowValues[i]=Math.pow(Math.E,-.5*Math.pow((i-(e-1)/2)/(r*(e-1)/2),2));break;case"hamming":for(i=0;i<e;i++)this.windowValues[i]=.54-.46*Math.cos(2*Math.PI*i/(e-1));break;case"hann":case void 0:for(i=0;i<e;i++)this.windowValues[i]=.5*(1-Math.cos(2*Math.PI*i/(e-1)));break;case"lanczoz":for(i=0;i<e;i++)this.windowValues[i]=Math.sin(Math.PI*(2*i/(e-1)-1))/(Math.PI*(2*i/(e-1)-1));break;case"rectangular":for(i=0;i<e;i++)this.windowValues[i]=1;break;case"triangular":for(i=0;i<e;i++)this.windowValues[i]=2/e*(e/2-Math.abs(i-(e-1)/2));break;default:throw Error("No such window function '"+n+"'")}for(var i,s=1,a=e>>1;s<e;){for(i=0;i<s;i++)this.reverseTable[i+s]=this.reverseTable[i]+a;s<<=1,a>>=1}for(i=0;i<e;i++)this.sinTable[i]=Math.sin(-Math.PI/i),this.cosTable[i]=Math.cos(-Math.PI/i);this.calculateSpectrum=function(e){var t,n,r,i=this.bufferSize,s=this.cosTable,a=this.sinTable,o=this.reverseTable,l=new Float32Array(i),c=new Float32Array(i),u=2/this.bufferSize,d=Math.sqrt,p=new Float32Array(i/2),f=Math.floor(Math.log(i)/Math.LN2);if(Math.pow(2,f)!==i)throw"Invalid buffer size, must be a power of 2.";if(i!==e.length)throw"Supplied buffer is not the same size as defined FFT. FFT Size: "+i+" Buffer Size: "+e.length;for(var h,m,v,g,_,w,y,b,k=1,E=0;E<i;E++)l[E]=e[o[E]]*this.windowValues[o[E]],c[E]=0;for(;k<i;){h=s[k],m=a[k],v=1,g=0;for(var $=0;$<k;$++){for(E=$;E<i;)w=v*l[_=E+k]-g*c[_],y=v*c[_]+g*l[_],l[_]=l[E]-w,c[_]=c[E]-y,l[E]+=w,c[E]+=y,E+=k<<1;v=(b=v)*h-g*m,g=b*m+g*h}k<<=1}E=0;for(var x=i/2;E<x;E++)(r=u*d((t=l[E])*t+(n=c[E])*n))>this.peak&&(this.peakBand=E,this.peak=r),p[E]=r;return p}};var ae,oe;ae=window,oe=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/wavesurfer.js")}({"./node_modules/debounce/index.js":
/*!****************************************!*\
      !*** ./node_modules/debounce/index.js ***!
      \****************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,n){var r,i,s,a,o;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(o=e.apply(s,i),s=i=null))}null==t&&(t=100);var c=function(){s=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(o=e.apply(s,i),s=i=null),o};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(o=e.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}},"./src/drawer.js":
/*!***********************!*\
      !*** ./src/drawer.js ***!
      \***********************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(/*! ./util */"./src/util/index.js")),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.container=e,r.params=n,r.width=0,r.height=n.height*r.params.pixelRatio,r.lastPos=0,r.wrapper=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"style",value:function(e,t){return i.style(e,t)}},{key:"createWrapper",value:function(){this.wrapper=this.container.appendChild(document.createElement("wave")),this.style(this.wrapper,{display:"block",position:"relative",userSelect:"none",webkitUserSelect:"none",height:this.params.height+"px"}),(this.params.fillParent||this.params.scrollParent)&&this.style(this.wrapper,{width:"100%",overflowX:this.params.hideScrollbar?"hidden":"auto",overflowY:"hidden"}),this.setupWrapperEvents()}},{key:"handleEvent",value:function(e,t){var n=e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].clientX:e.clientX,r=this._bbox,i=this.width,s=this.getWidth(),a=0;return!this.params.fillParent&&i<s?(a=(a=(n-r.left)*this.params.pixelRatio)||0)>1&&(a=1):a=(n-r.left)/this.width||0,a}},{key:"setupWrapperEvents",value:function(){var e=this;this.wrapper.addEventListener("click",(function(t){e.params.interact&&e.fireEvent("click",t,e.handleEvent(t))})),this.wrapper.addEventListener("touchstart",(function(t){e.params.interact&&e.fireEvent("touchstart",t)})),this.wrapper.addEventListener("touchmove",(function(t){e.params.interact&&e.fireEvent("touchmove",t)})),this.wrapper.addEventListener("touchend",(function(t){e.params.interact&&e.fireEvent("touchend",t)})),this.wrapper.addEventListener("scroll",(function(t){return e.fireEvent("scroll",t)})),this.wrapper.addEventListener("wheel",(function(t){return e.fireEvent("wheel",t)}))}},{key:"drawPeaks",value:function(e,t,n,r,i,s){var a=this;requestAnimationFrame((function(){a.shift=s,a.setWidth(t)||a.clearWave(),a.drawWave(e,0,n,r,i)}))}},{key:"drawSpectre",value:function(e,t,n,r,i,s,a){var o=this;o.setWidth(t)||o.clearWave();var l,c,u=[[0,0,0,1],[.011764705882352941,0,0,1],[.023529411764705882,0,0,1],[.03529411764705882,0,0,1],[.047058823529411764,0,0,1],[.058823529411764705,0,0,1],[.07058823529411765,0,0,1],[.08235294117647059,0,0,1],[.09411764705882353,0,0,1],[.10588235294117647,0,0,1],[.11764705882352941,0,0,1],[.12941176470588237,0,0,1],[.1411764705882353,0,0,1],[.15294117647058825,0,0,1],[.16470588235294117,0,0,1],[.17647058823529413,0,0,1],[.18823529411764706,0,0,1],[.2,0,0,1],[.21176470588235294,0,0,1],[.2235294117647059,0,0,1],[.23529411764705882,0,0,1],[.24705882352941178,0,0,1],[.25882352941176473,0,0,1],[.27058823529411763,0,0,1],[.2823529411764706,0,0,1],[.29411764705882354,0,0,1],[.3058823529411765,0,0,1],[.3176470588235294,0,0,1],[.32941176470588235,0,0,1],[.3411764705882353,0,0,1],[.35294117647058826,0,0,1],[.36470588235294116,0,0,1],[.3764705882352941,0,0,1],[.38823529411764707,0,0,1],[.4,0,0,1],[.4117647058823529,0,0,1],[.4235294117647059,0,0,1],[.43529411764705883,0,0,1],[.4470588235294118,0,0,1],[.4549019607843137,0,0,1],[.4666666666666667,0,0,1],[.47843137254901963,0,0,1],[.49019607843137253,0,0,1],[.5019607843137255,0,0,1],[.5137254901960784,0,0,1],[.5254901960784314,0,0,1],[.5372549019607843,0,0,1],[.5490196078431373,0,0,1],[.5607843137254902,0,0,1],[.5725490196078431,0,0,1],[.5843137254901961,0,0,1],[.596078431372549,0,0,1],[.6078431372549019,0,0,1],[.6196078431372549,0,0,1],[.6313725490196078,0,0,1],[.6431372549019608,0,0,1],[.6549019607843137,0,0,1],[.6666666666666666,0,0,1],[.6784313725490196,0,0,1],[.6901960784313725,0,0,1],[.7019607843137254,0,0,1],[.7137254901960784,0,0,1],[.7254901960784313,0,0,1],[.7372549019607844,0,0,1],[.7490196078431373,0,0,1],[.7607843137254902,0,0,1],[.7725490196078432,0,0,1],[.7843137254901961,0,0,1],[.796078431372549,0,0,1],[.807843137254902,0,0,1],[.8196078431372549,0,0,1],[.8313725490196079,0,0,1],[.8431372549019608,0,0,1],[.8549019607843137,0,0,1],[.8666666666666667,0,0,1],[.8784313725490196,0,0,1],[.8901960784313725,0,0,1],[.9019607843137255,0,0,1],[.9019607843137255,.011764705882352941,0,1],[.9058823529411765,.023529411764705882,0,1],[.9058823529411765,.03137254901960784,0,1],[.9058823529411765,.043137254901960784,0,1],[.9098039215686274,.054901960784313725,0,1],[.9098039215686274,.06666666666666667,0,1],[.9098039215686274,.07450980392156863,0,1],[.9137254901960784,.08627450980392157,0,1],[.9137254901960784,.09803921568627451,0,1],[.9137254901960784,.10980392156862745,0,1],[.9176470588235294,.11764705882352941,0,1],[.9176470588235294,.12941176470588237,0,1],[.9176470588235294,.1411764705882353,0,1],[.9215686274509803,.15294117647058825,0,1],[.9215686274509803,.1607843137254902,0,1],[.9215686274509803,.17254901960784313,0,1],[.9254901960784314,.1843137254901961,0,1],[.9254901960784314,.19607843137254902,0,1],[.9254901960784314,.20784313725490197,0,1],[.9294117647058824,.21568627450980393,0,1],[.9294117647058824,.22745098039215686,0,1],[.9294117647058824,.23921568627450981,0,1],[.9333333333333333,.25098039215686274,0,1],[.9333333333333333,.25882352941176473,0,1],[.9333333333333333,.27058823529411763,0,1],[.9372549019607843,.2823529411764706,0,1],[.9372549019607843,.29411764705882354,0,1],[.9372549019607843,.30196078431372547,0,1],[.9411764705882353,.3137254901960784,0,1],[.9411764705882353,.3254901960784314,0,1],[.9411764705882353,.33725490196078434,0,1],[.9450980392156862,.34509803921568627,0,1],[.9450980392156862,.3568627450980392,0,1],[.9450980392156862,.3686274509803922,0,1],[.9490196078431372,.3803921568627451,0,1],[.9490196078431372,.38823529411764707,0,1],[.9490196078431372,.4,0,1],[.9529411764705882,.4117647058823529,0,1],[.9529411764705882,.4235294117647059,0,1],[.9529411764705882,.43529411764705883,0,1],[.9529411764705882,.44313725490196076,0,1],[.9568627450980393,.4549019607843137,0,1],[.9568627450980393,.4666666666666667,0,1],[.9568627450980393,.47843137254901963,0,1],[.9607843137254902,.48627450980392156,0,1],[.9607843137254902,.4980392156862745,0,1],[.9607843137254902,.5098039215686274,0,1],[.9647058823529412,.5215686274509804,0,1],[.9647058823529412,.5294117647058824,0,1],[.9647058823529412,.5411764705882353,0,1],[.9686274509803922,.5529411764705883,0,1],[.9686274509803922,.5647058823529412,0,1],[.9686274509803922,.5725490196078431,0,1],[.9725490196078431,.5843137254901961,0,1],[.9725490196078431,.596078431372549,0,1],[.9725490196078431,.6078431372549019,0,1],[.9764705882352941,.6196078431372549,0,1],[.9764705882352941,.6274509803921569,0,1],[.9764705882352941,.6392156862745098,0,1],[.9803921568627451,.6509803921568628,0,1],[.9803921568627451,.6627450980392157,0,1],[.9803921568627451,.6705882352941176,0,1],[.984313725490196,.6823529411764706,0,1],[.984313725490196,.6941176470588235,0,1],[.984313725490196,.7058823529411765,0,1],[.9882352941176471,.7137254901960784,0,1],[.9882352941176471,.7254901960784313,0,1],[.9882352941176471,.7372549019607844,0,1],[.9921568627450981,.7490196078431373,0,1],[.9921568627450981,.7568627450980392,0,1],[.9921568627450981,.7686274509803922,0,1],[.996078431372549,.7803921568627451,0,1],[.996078431372549,.792156862745098,0,1],[.996078431372549,.8,0,1],[1,.8117647058823529,0,1],[1,.8235294117647058,0,1],[1,.8235294117647058,.011764705882352941,1],[1,.8274509803921568,.0196078431372549,1],[1,.8274509803921568,.03137254901960784,1],[1,.8313725490196079,.0392156862745098,1],[1,.8313725490196079,.050980392156862744,1],[1,.8352941176470589,.058823529411764705,1],[1,.8352941176470589,.07058823529411765,1],[1,.8392156862745098,.0784313725490196,1],[1,.8392156862745098,.09019607843137255,1],[1,.8392156862745098,.09803921568627451,1],[1,.8431372549019608,.10980392156862745,1],[1,.8431372549019608,.11764705882352941,1],[1,.8470588235294118,.12941176470588237,1],[1,.8470588235294118,.13725490196078433,1],[1,.8509803921568627,.14901960784313725,1],[1,.8509803921568627,.1568627450980392,1],[1,.8549019607843137,.16862745098039217,1],[1,.8549019607843137,.17647058823529413,1],[1,.8549019607843137,.18823529411764706,1],[1,.8588235294117647,.19607843137254902,1],[1,.8588235294117647,.20784313725490197,1],[1,.8627450980392157,.21568627450980393,1],[1,.8627450980392157,.22745098039215686,1],[1,.8666666666666667,.23529411764705882,1],[1,.8666666666666667,.24705882352941178,1],[1,.8666666666666667,.2549019607843137,1],[1,.8705882352941177,.26666666666666666,1],[1,.8705882352941177,.27450980392156865,1],[1,.8745098039215686,.28627450980392155,1],[1,.8745098039215686,.29411764705882354,1],[1,.8784313725490196,.3058823529411765,1],[1,.8784313725490196,.3137254901960784,1],[1,.8823529411764706,.3254901960784314,1],[1,.8823529411764706,.3333333333333333,1],[1,.8823529411764706,.34509803921568627,1],[1,.8862745098039215,.35294117647058826,1],[1,.8862745098039215,.36470588235294116,1],[1,.8901960784313725,.37254901960784315,1],[1,.8901960784313725,.3843137254901961,1],[1,.8941176470588236,.39215686274509803,1],[1,.8941176470588236,.403921568627451,1],[1,.8980392156862745,.4117647058823529,1],[1,.8980392156862745,.4235294117647059,1],[1,.8980392156862745,.43137254901960786,1],[1,.9019607843137255,.44313725490196076,1],[1,.9019607843137255,.45098039215686275,1],[1,.9058823529411765,.4627450980392157,1],[1,.9058823529411765,.47058823529411764,1],[1,.9098039215686274,.4823529411764706,1],[1,.9098039215686274,.49019607843137253,1],[1,.9137254901960784,.5019607843137255,1],[1,.9137254901960784,.5098039215686274,1],[1,.9137254901960784,.5215686274509804,1],[1,.9176470588235294,.5294117647058824,1],[1,.9176470588235294,.5411764705882353,1],[1,.9215686274509803,.5490196078431373,1],[1,.9215686274509803,.5607843137254902,1],[1,.9254901960784314,.5686274509803921,1],[1,.9254901960784314,.5803921568627451,1],[1,.9254901960784314,.5882352941176471,1],[1,.9294117647058824,.6,1],[1,.9294117647058824,.6078431372549019,1],[1,.9333333333333333,.6196078431372549,1],[1,.9333333333333333,.6274509803921569,1],[1,.9372549019607843,.6392156862745098,1],[1,.9372549019607843,.6470588235294118,1],[1,.9411764705882353,.6588235294117647,1],[1,.9411764705882353,.6666666666666666,1],[1,.9411764705882353,.6784313725490196,1],[1,.9450980392156862,.6862745098039216,1],[1,.9450980392156862,.6980392156862745,1],[1,.9490196078431372,.7058823529411765,1],[1,.9490196078431372,.7176470588235294,1],[1,.9529411764705882,.7254901960784313,1],[1,.9529411764705882,.7372549019607844,1],[1,.9568627450980393,.7450980392156863,1],[1,.9568627450980393,.7568627450980392,1],[1,.9568627450980393,.7647058823529411,1],[1,.9607843137254902,.7764705882352941,1],[1,.9607843137254902,.7843137254901961,1],[1,.9647058823529412,.796078431372549,1],[1,.9647058823529412,.803921568627451,1],[1,.9686274509803922,.8156862745098039,1],[1,.9686274509803922,.8235294117647058,1],[1,.9725490196078431,.8352941176470589,1],[1,.9725490196078431,.8431372549019608,1],[1,.9725490196078431,.8549019607843137,1],[1,.9764705882352941,.8627450980392157,1],[1,.9764705882352941,.8745098039215686,1],[1,.9803921568627451,.8823529411764706,1],[1,.9803921568627451,.8941176470588236,1],[1,.984313725490196,.9019607843137255,1],[1,.984313725490196,.9137254901960784,1],[1,.984313725490196,.9215686274509803,1],[1,.9882352941176471,.9333333333333333,1],[1,.9882352941176471,.9411764705882353,1],[1,.9921568627450981,.9529411764705882,1],[1,.9921568627450981,.9607843137254902,1],[1,.996078431372549,.9725490196078431,1],[1,.996078431372549,.9803921568627451,1],[1,1,.9921568627450981,1],[1,1,1,1]],d=this.height,p=function(e){var t=o.width,r=e.length,a=r/t,l=[];s<n+i&&(i=s-n);var c=n/s,u=0;0!==c&&(u=r*c>>0);var d=i/s;1!==d&&(a=(r-((1-d)*r>>0))/t);for(var p=0;p<t;++p)l[p]=e[u+p*a>>0];return l}(e);this.canvases.forEach((function(e){var t=0;for(p[0]&&(t=p[0].length-1),o.imagedata||(o.imagedata=e.waveCtx.createImageData(o.width,d)),l=0;l<p.length;l++)for(c=0;c<p[l].length;c++){var n=u[p[l][c]],r=4*((t-c)*o.width+l);o.imagedata.data[r]=255*n[0],o.imagedata.data[r+1]=255*n[1],o.imagedata.data[r+2]=255*n[2],o.imagedata.data[r+3]=255*n[3]}e.waveCtx.putImageData(o.imagedata,0,0)}))}},{key:"resetScroll",value:function(){null!==this.wrapper&&(this.wrapper.scrollLeft=0)}},{key:"recenter",value:function(e){var t=this.wrapper.scrollWidth*e;this.recenterOnPosition(t,!0)}},{key:"recenterOnPosition",value:function(e,t){var n=this.wrapper.scrollLeft,r=~~(this.wrapper.clientWidth/2),i=this.wrapper.scrollWidth-this.wrapper.clientWidth,s=e-r,a=s-n;0!=i&&(!t&&-r<=a&&a<r&&(s=n+(a=Math.max(-5,Math.min(5,a)))),(s=Math.max(0,Math.min(i,s)))!=n&&(this.wrapper.scrollLeft=s))}},{key:"getScrollX",value:function(){var e=this.params.pixelRatio,t=Math.round(this.wrapper.scrollLeft*e);if(this.params.scrollParent){var n=~~(this.wrapper.scrollWidth*e-this.getWidth());t=Math.min(n,Math.max(0,t))}return t}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(e){return this.width!=e&&(this.width=e,this.params.fillParent||this.params.scrollParent?this.style(this.wrapper,{width:""}):this.style(this.wrapper,{width:~~(this.width/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"setHeight",value:function(e){return e!=this.height&&(this.height=e,this.style(this.wrapper,{height:~~(this.height/this.params.pixelRatio)+"px"}),this.updateSize(),!0)}},{key:"progress",value:function(e,t,n){if(0!=e){e=(e-t)*n;var r=1/this.params.pixelRatio,i=Math.round(e*this.width)*r;this.updateProgress(i)}else this.updateProgress(-1)}},{key:"destroy",value:function(){this.unAll(),this.wrapper&&(this.wrapper.parentNode==this.container&&this.container.removeChild(this.wrapper),this.wrapper=null)}},{key:"updateCursor",value:function(){}},{key:"updateSize",value:function(){}},{key:"drawBars",value:function(e,t,n,r){}},{key:"drawWave",value:function(e,t,n,r){}},{key:"clearWave",value:function(){}},{key:"updateProgress",value:function(e){}}]),t}(i.Observer);t.default=s,e.exports=t.default},"./src/drawer.multicanvas.js":
/*!***********************************!*\
      !*** ./src/drawer.multicanvas.js ***!
      \***********************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(/*! ./drawer */"./src/drawer.js"),a=(r=s)&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(/*! ./util */"./src/util/index.js"));function l(e,t){var n=e>>0,r=e-n;if(n<10)n="00:0"+n;else if(n<60)n="00:"+n;else{var i=n/60,s=n%60;n=((i>>=0)<10?"0":"")+i+":"+(s<10?"0"+s:s)}return 1===t?n+":"+(r+"").substr(2,2):n}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.maxCanvasWidth=n.maxCanvasWidth,r.maxCanvasElementWidth=Math.round(n.maxCanvasWidth/n.pixelRatio),r.hasProgressCanvas=!1,r.halfPixel=.5/n.pixelRatio,r.canvases=[],r.progressWave=null,r.CursorMarker=null,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(){this.createWrapper(),this.createElements()}},{key:"createElements",value:function(){this.progressWave=this.wrapper.appendChild(this.style(document.createElement("wave"),{})),this.progressWave.id="pk_prgwv",this.addCanvas(),this.ZMarker=document.querySelector(".pk_wavepoint"),this.CursorMarker=document.createElement("div"),this.CursorMarker.className="pk_wave_cursor",this.wrapper.appendChild(this.CursorMarker)}},{key:"updateCursor",value:function(){this.style(this.progressWave,{borderRightWidth:this.params.cursorWidth+"px",borderRightColor:this.params.cursorColor})}},{key:"updateSize",value:function(){var e=this;for(Math.round(this.width/this.params.pixelRatio);this.canvases.length<1;)this.addCanvas();for(;this.canvases.length>1;)this.removeCanvas();this.canvases.forEach((function(t,n){var r=e.maxCanvasWidth+2*Math.ceil(e.params.pixelRatio/2);n==e.canvases.length-1&&(r=e.width-e.maxCanvasWidth*(e.canvases.length-1)),e.updateDimensions(t,r,e.height),e.clearWaveForEntry(t)}))}},{key:"addCanvas",value:function(){var e={},t=this.maxCanvasElementWidth*this.canvases.length;e.wave=this.wrapper.appendChild(this.style(document.createElement("canvas"),{position:"absolute",zIndex:2,left:t+"px",top:0,bottom:0,height:"100%",pointerEvents:"none"})),e.waveCtx=e.wave.getContext("2d",{alpha:!1,antialias:!1}),e.waveCtx.font="12px Arial lighter",this.hasProgressCanvas&&(e.progress=this.progressWave.appendChild(this.style(document.createElement("canvas"),{position:"absolute",left:t+"px",top:0,bottom:0,height:"100%"})),e.progressCtx=e.progress.getContext("2d",{alpha:!1,antialias:!1})),this.canvases.push(e)}},{key:"removeCanvas",value:function(){var e=this.canvases.pop();e.wave.parentElement.removeChild(e.wave),this.hasProgressCanvas&&e.progress.parentElement.removeChild(e.progress)}},{key:"updateDimensions",value:function(e,t,n){var r=Math.round(t/this.params.pixelRatio),i=Math.round(this.width/this.params.pixelRatio);e.start=e.waveCtx.canvas.offsetLeft/i||0,e.end=e.start+r/i,e.waveCtx.canvas.width=t,e.waveCtx.canvas.height=n,this.style(e.waveCtx.canvas,{width:r+"px"}),this.style(this.progressWave,{display:"block"}),this.hasProgressCanvas&&(e.progressCtx.canvas.width=t,e.progressCtx.canvas.height=n,this.style(e.progressCtx.canvas,{width:r+"px"}))}},{key:"clearWave",value:function(){var e=this;this.canvases.forEach((function(t){return e.clearWaveForEntry(t)}))}},{key:"clearWaveForEntry",value:function(e){this.shiftClear=!0,e.waveCtx.fillStyle=this.params.backgroundColor||"#000",e.waveCtx.fillRect(0,0,e.waveCtx.canvas.width,e.waveCtx.canvas.height),e.waveCtx.fillStyle="#99c2c6"}},{key:"drawBars",value:function(e,t,n,r){var i=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,s=e.hasMinVals;e.height;var a=e.offsetY,o=e.halfH,l=e.peaks;if(a+=20,o-=10,void 0!==n){var c=s?2:1,u=l.length/c,d=i.params.barWidth*i.params.pixelRatio,p=d+(null===i.params.barGap?Math.max(i.params.pixelRatio,~~(d/2)):Math.max(i.params.pixelRatio,i.params.barGap*i.params.pixelRatio)),f=u/i.width,h=r,m=void 0;for(m=n;m<h;m+=p){var v=l[Math.floor(m*f*c)]||0,g=Math.round(v/t*o);i.fillRect(m+i.halfPixel,o-g+a,d+i.halfPixel,2*g)}}}))}},{key:"drawWave",value:function(e,t,n,r,i){var s=this;return this.prepareDraw(e,t,n,r,(function(e){var t=e.absmax,i=e.hasMinVals;e.height;var a=e.offsetY,o=e.halfH,l=e.peaks;const c=20*s.params.pixelRatio;if(a+=10+c,o-=c,!i){var u=[],d=l.length,p=void 0;for(p=0;p<d;p++)u[2*p]=l[p],u[2*p+1]=-l[p];l=u}void 0!==n&&s.drawLine(s.params.limits,s.params.timeline,l,t,o,a,n,r,e.channelIndex),s.fillRect(0,o+a-s.halfPixel,s.width,s.halfPixel,10)}),i)}},{key:"drawLine",value:function(e,t,n,r,i,s,a,o,l){this.canvases.forEach((c=>{this.drawLineToContext(e,t,c,c.waveCtx,n,r,i,s,a,o,l)}))}},{key:"drawLinesToNavContext",value:function(e){const t={start:0,end:1},n=ie.getContext("2d"),{width:r,height:i}=ie;let s=i/4;1===e.length&&(s=i/2);const a=r;n.clearRect(0,0,r,i),e.forEach(((e,r)=>{const i=r*s*2;this.drawLineToContext(null,null,t,n,e,1,s-10,i+10,0,a,-1)}))}},{key:"drawLineToContext",value:function(e,t,n,r,i,s,a,o,c,u,d){if(r){var p=i.length/2,f=this.params.fillParent&&this.width!=p?this.width/p:1,h=Math.round(p*n.start),m=Math.round(p*n.end)+1;if(!(h>u||m<c)){var v=Math.min(h,c),g=Math.max(m,u),_=void 0,w=void 0;r.beginPath(),r.moveTo((v-h)*f+this.halfPixel,a+o);var y=d;-1===d?r.fillStyle="rgb(114, 179, 255)":this.params.ActiveChannels[y]?r.fillStyle=this.params.waveColor:r.fillStyle=this.params.waveDisabledColor;var b=g;for(i.length<=2*b&&(b=i.length/2>>0),_=v;_<b;++_){var k=i[2*_],E=Math.round(k/s*a);E=Math.min(E,a),r.lineTo((_-h)*f+this.halfPixel,a-E+o)}for(w=b-1;w>=v;--w){var $=i[2*w+1],x=Math.round($/s*a);x=Math.max(x,-a),r.lineTo((w-h)*f+this.halfPixel,a-x+o)}if(r.closePath(),r.fill(),e){r.fillStyle=this.params.limitsColor||"#fff";var T=10*a/100>>0,R=T+o-(z=1/s*a-a);R>o&&r.fillRect(0,R,this.width,.5*this.params.pixelRatio),(R=2*a-T+o+z)<2*a+o&&r.fillRect(0,R,this.width,.5*this.params.pixelRatio),r.fillStyle=this.params.waveColor}if(t){r.fillStyle="#fff",ft.engine.wavesurfer.VisibleDuration;var P=ft.engine.wavesurfer.LeftProgress,S=ft.engine.wavesurfer.getDuration(),C=ft.engine.wavesurfer.ZoomFactor,A=ft.engine.wavesurfer.drawer.width;if(C>=1){var D=P/S*(A*=C),F=0,q=A/S;r.font=12*this.params.pixelRatio+"px Helvetica, Arial, sans-serif",r.textAlign="center",r.fillStyle=this.params.timelineBackgroundColor||"#111",r.fillRect(0,0,this.width,24*this.params.pixelRatio),r.fillStyle=this.params.timelineTextColor||"#aaa",r.strokeStyle=this.params.timelineMarkingColor||"#aaa",q<60?q=60:q>160&&(q/=1+(q/160>>0)),q*=this.params.pixelRatio;var L=0;for(_=0;_<10*S&&!(F-D>A-2);++_){if(F-D>=-2&&F-D<A-2){var z,M=F/A*S,O=3;(z=M-L)<1?O=1:z<60&&(O=2),L=M,r.fillText(l(M,O),F-D,12*this.params.pixelRatio)}F+=q}for(r.beginPath(),r.lineWidth=this.params.pixelRatio,F=0,_=0;_<10*S&&!(F-D>A-2);++_)F-D>=-2&&F-D<A-2&&(r.moveTo(F-D,16*this.params.pixelRatio),r.lineTo(F-D,24*this.params.pixelRatio)),F+=q;for(F=q/2,_=0;_<10*S&&!(F-D>A-2);++_)F-D>=-2&&F-D<A-2&&(r.moveTo(F-D,19*this.params.pixelRatio),r.lineTo(F-D,24*this.params.pixelRatio)),F+=q;r.stroke()}}this.RCB&&this.RCB(),r.fillStyle=this.params.waveColor}}}},{key:"fillRect",value:function(e,t,n,r,i){var s=Math.floor(e/this.maxCanvasWidth),a=Math.min(Math.ceil((e+n)/this.maxCanvasWidth)+1,this.canvases.length),o=void 0,l=!1;for(o=s;o<a;o++){var c=this.canvases[o],u=o*this.maxCanvasWidth,d={x1:Math.max(e,o*this.maxCanvasWidth),y1:t,x2:Math.min(e+n,o*this.maxCanvasWidth+c.waveCtx.canvas.width),y2:t+r};d.x1<d.x2&&(this.setFillStyles(c),l||(this.fillRectToContext(c.waveCtx,0,this.height/2+i,this.width,.25*this.params.pixelRatio),l=!0),this.fillRectToContext(c.waveCtx,d.x1-u,d.y1,d.x2-d.x1,(d.y2-d.y1)*this.params.pixelRatio))}}},{key:"prepareDraw",value:function(e,t,n,r,i,s){var a=this;return function(){if(e[0]instanceof Array){var l=e;if(a.params.splitChannels)return a.setHeight(a.params.height*a.params.pixelRatio),l.forEach((function(e,t){return a.prepareDraw(e,t,n,r,i,s)}));e=l[0]}var c=1/a.params.barHeight;if(c*=a.params.verticalZoom,a.params.normalize){var u=o.max(e),d=o.min(e);c=-d>u?-d:u}var p=[].some.call(e,(function(e){return e<0})),f=a.params.height/2*a.params.pixelRatio,h=f*t||0,m=f/2;return 1===s&&(h=(f=a.params.height/2*a.params.pixelRatio)*t||0,m=f),i({absmax:c,hasMinVals:p,height:f,offsetY:h,halfH:m,peaks:e,channelIndex:t})}()}},{key:"fillRectToContext",value:function(e,t,n,r,i){e&&e.fillRect(t,n,r,i)}},{key:"setFillStyles",value:function(e){e.waveCtx.fillStyle=this.params.medianColor||this.params.waveColor,this.hasProgressCanvas&&(e.progressCtx.fillStyle=this.params.progressColor)}},{key:"getImage",value:function(e,t){var n=this.canvases.map((function(n){return n.wave.toDataURL(e,t)}));return n.length>1?n:n[0]}},{key:"updateProgress",value:function(e){this.progressWave.style.transform="translate3d("+e+"px,0,0)"}}]),t}(a.default);t.default=c,e.exports=t.default},"./src/mediaelement.js":
/*!*****************************!*\
      !*** ./src/mediaelement.js ***!
      \*****************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var s=Object.getPrototypeOf(t);return null===s?void 0:e(s,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(/*! ./webaudio */"./src/webaudio.js"),o=(r=a)&&r.__esModule?r:{default:r};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(/*! ./util */"./src/util/index.js"));var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.params=e,n.media={currentTime:0,duration:0,paused:!0,playbackRate:1,play:function(){},pause:function(){},volume:0},n.mediaType=e.mediaType.toLowerCase(),n.elementPosition=e.elementPosition,n.peaks=null,n.playbackRate=1,n.volume=1,n.buffer=null,n.onPlayEnd=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(){this.setPlaybackRate(this.params.audioRate),this.createTimer()}},{key:"createTimer",value:function(){var e=this;this.on("play",(function t(){e.isPaused()||(e.fireEvent("audioprocess",e.getCurrentTime()),(window.requestAnimationFrame||window.webkitRequestAnimationFrame)(t))})),this.on("pause",(function(){e.fireEvent("audioprocess",e.getCurrentTime())}))}},{key:"load",value:function(e,t,n,r){var i=document.createElement(this.mediaType);i.controls=this.params.mediaControls,i.autoplay=this.params.autoplay||!1,i.preload=null==r?"auto":r,i.src=e,i.style.width="100%";var s=t.querySelector(this.mediaType);s&&t.removeChild(s),t.appendChild(i),this._load(i,n)}},{key:"loadElt",value:function(e,t){e.controls=this.params.mediaControls,e.autoplay=this.params.autoplay||!1,this._load(e,t)}},{key:"_load",value:function(e,t){var n=this;"function"==typeof e.load&&e.load(),e.addEventListener("error",(function(){n.fireEvent("error","Error loading media element")})),e.addEventListener("canplay",(function(){n.fireEvent("canplay")})),e.addEventListener("ended",(function(){n.fireEvent("finish")})),e.addEventListener("play",(function(){n.fireEvent("play")})),e.addEventListener("pause",(function(){n.fireEvent("pause")})),this.media=e,this.peaks=t,this.onPlayEnd=null,this.buffer=null,this.setPlaybackRate(this.playbackRate),this.setVolume(this.volume)}},{key:"isPaused",value:function(){return!this.media||this.media.paused}},{key:"getDuration",value:function(){if(this.explicitDuration)return this.explicitDuration;var e=(this.buffer||this.media).duration;return e>=1/0&&(e=this.media.seekable.end(0)),e}},{key:"getCurrentTime",value:function(){return this.media&&this.media.currentTime}},{key:"getPlayedPercents",value:function(){return this.getCurrentTime()/this.getDuration()||0}},{key:"getPlaybackRate",value:function(){return this.playbackRate||this.media.playbackRate}},{key:"setPlaybackRate",value:function(e){this.playbackRate=e||1,this.media.playbackRate=this.playbackRate}},{key:"seekTo",value:function(e){null!=e&&(this.media.currentTime=e),this.clearPlayEnd()}},{key:"play",value:function(e,t){this.seekTo(e);var n=this.media.play();return t&&this.setPlayEnd(t),n}},{key:"pause",value:function(){var e=void 0;return this.media&&(e=this.media.pause()),this.clearPlayEnd(),e}},{key:"setPlayEnd",value:function(e){var t=this;this._onPlayEnd=function(n){n>=e&&(t.pause(),t.seekTo(e))},this.on("audioprocess",this._onPlayEnd)}},{key:"clearPlayEnd",value:function(){this._onPlayEnd&&(this.un("audioprocess",this._onPlayEnd),this._onPlayEnd=null)}},{key:"getPeaks",value:function(e,n,r){return this.buffer?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getPeaks",this).call(this,e,n,r):this.peaks||[]}},{key:"setSinkId",value:function(e){return e?this.media.setSinkId?this.media.setSinkId(e):Promise.reject(new Error("setSinkId is not supported in your browser")):Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"getVolume",value:function(){return this.volume||this.media.volume}},{key:"setVolume",value:function(e){this.volume=e,this.media.volume=this.volume}},{key:"destroy",value:function(){this.pause(),this.unAll(),this.params.removeMediaElementOnDestroy&&this.media&&this.media.parentNode&&this.media.parentNode.removeChild(this.media),this.media=null}}]),t}(o.default);t.default=l,e.exports=t.default},"./src/peakcache.js":
/*!**************************!*\
      !*** ./src/peakcache.js ***!
      \**************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clearPeakCache()}return r(e,[{key:"clearPeakCache",value:function(){this.peakCacheRanges=[],this.peakCacheLength=-1}},{key:"addRangeToPeakCache",value:function(e,t,n){e!=this.peakCacheLength&&(this.clearPeakCache(),this.peakCacheLength=e);for(var r=[],i=0;i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<t;)i++;for(i%2==0&&r.push(t);i<this.peakCacheRanges.length&&this.peakCacheRanges[i]<=n;)r.push(this.peakCacheRanges[i]),i++;i%2==0&&r.push(n),r=r.filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]})),this.peakCacheRanges=this.peakCacheRanges.concat(r),this.peakCacheRanges=this.peakCacheRanges.sort((function(e,t){return e-t})).filter((function(e,t,n){return 0==t?e!=n[t+1]:t==n.length-1?e!=n[t-1]:e!=n[t-1]&&e!=n[t+1]}));var s=[];for(i=0;i<r.length;i+=2)s.push([r[i],r[i+1]]);return s}},{key:"getCacheRanges",value:function(){var e=[],t=void 0;for(t=0;t<this.peakCacheRanges.length;t+=2)e.push([this.peakCacheRanges[t],this.peakCacheRanges[t+1]]);return e}}]),e}();t.default=i,e.exports=t.default},"./src/util/ajax.js":
/*!**************************!*\
      !*** ./src/util/ajax.js ***!
      \**************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new s.default,n=new XMLHttpRequest,r=!1;return n.open(e.method||"GET",e.url,!0),n.responseType=e.responseType||"json",e.xhr&&(e.xhr.requestHeaders&&e.xhr.requestHeaders.forEach((function(e){n.setRequestHeader(e.key,e.value)})),e.xhr.withCredentials&&(n.withCredentials=!0)),n.addEventListener("progress",(function(e){t.fireEvent("progress",e),e.lengthComputable&&e.loaded==e.total&&(r=!0)})),n.addEventListener("load",(function(e){r||t.fireEvent("progress",e),t.fireEvent("load",e),200==n.status||206==n.status?t.fireEvent("success",n.response,e):t.fireEvent("error",e)})),n.addEventListener("error",(function(e){return t.fireEvent("error",e)})),n.send(),t.xhr=n,t};var r,i=n(/*! ./observer */"./src/util/observer.js"),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},"./src/util/extend.js":
/*!****************************!*\
      !*** ./src/util/extend.js ***!
      \****************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},e.exports=t.default},"./src/util/frame.js":
/*!***************************!*\
      !*** ./src/util/frame.js ***!
      \***************************/
/*! no static exports found */function(e,t,n){},"./src/util/get-id.js":
/*!****************************!*\
      !*** ./src/util/get-id.js ***!
      \****************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"wavesurfer_"+Math.random().toString(32).substring(2)},e.exports=t.default},"./src/util/index.js":
/*!***************************!*\
      !*** ./src/util/index.js ***!
      \***************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(/*! ./ajax */"./src/util/ajax.js");Object.defineProperty(t,"ajax",{enumerable:!0,get:function(){return h(r).default}});var i=n(/*! ./get-id */"./src/util/get-id.js");Object.defineProperty(t,"getId",{enumerable:!0,get:function(){return h(i).default}});var s=n(/*! ./max */"./src/util/max.js");Object.defineProperty(t,"max",{enumerable:!0,get:function(){return h(s).default}});var a=n(/*! ./min */"./src/util/min.js");Object.defineProperty(t,"min",{enumerable:!0,get:function(){return h(a).default}});var o=n(/*! ./observer */"./src/util/observer.js");Object.defineProperty(t,"Observer",{enumerable:!0,get:function(){return h(o).default}});var l=n(/*! ./extend */"./src/util/extend.js");Object.defineProperty(t,"extend",{enumerable:!0,get:function(){return h(l).default}});var c=n(/*! ./style */"./src/util/style.js");Object.defineProperty(t,"style",{enumerable:!0,get:function(){return h(c).default}});var u=n(/*! ./request-animation-frame */"./src/util/request-animation-frame.js");Object.defineProperty(t,"requestAnimationFrame",{enumerable:!0,get:function(){return h(u).default}});var d=n(/*! ./frame */"./src/util/frame.js");Object.defineProperty(t,"frame",{enumerable:!0,get:function(){return h(d).default}});var p=n(/*! debounce */"./node_modules/debounce/index.js");Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return h(p).default}});var f=n(/*! ./prevent-click */"./src/util/prevent-click.js");function h(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"preventClick",{enumerable:!0,get:function(){return h(f).default}})},"./src/util/max.js":
/*!*************************!*\
      !*** ./src/util/max.js ***!
      \*************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=-1/0;return Object.keys(e).forEach((function(n){e[n]>t&&(t=e[n])})),t},e.exports=t.default},"./src/util/min.js":
/*!*************************!*\
      !*** ./src/util/min.js ***!
      \*************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Number(1/0);return Object.keys(e).forEach((function(n){e[n]<t&&(t=e[n])})),t},e.exports=t.default},"./src/util/observer.js":
/*!******************************!*\
      !*** ./src/util/observer.js ***!
      \******************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handlers=null}return r(e,[{key:"on",value:function(e,t){var n=this;this.handlers||(this.handlers={});var r=this.handlers[e];return r||(r=this.handlers[e]=[]),r.push(t),{name:e,callback:t,un:function(e,t){return n.un(e,t)}}}},{key:"un",value:function(e,t){if(this.handlers){var n=this.handlers[e],r=void 0;if(n)if(t)for(r=n.length-1;r>=0;r--)n[r]==t&&n.splice(r,1);else n.length=0}}},{key:"unAll",value:function(){this.handlers=null}},{key:"once",value:function(e,t){var n=this;return this.on(e,(function r(){for(var i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];t.apply(n,s),setTimeout((function(){n.un(e,r)}),0)}))}},{key:"fireEvent",value:function(e,t,n){if(this.handlers){var r=this.handlers[e];r&&r.forEach((function(e){e(t,n)}))}}}]),e}();t.default=i,e.exports=t.default},"./src/util/prevent-click.js":
/*!***********************************!*\
      !*** ./src/util/prevent-click.js ***!
      \***********************************/
/*! no static exports found */function(e,t,n){function r(e){e.stopPropagation(),document.body.removeEventListener("click",r,!0)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){document.body.addEventListener("click",r,!0)},e.exports=t.default},"./src/util/request-animation-frame.js":
/*!*********************************************!*\
      !*** ./src/util/request-animation-frame.js ***!
      \*********************************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return setTimeout(e,1e3/60)}).bind(window),e.exports=t.default},"./src/util/style.js":
/*!***************************!*\
      !*** ./src/util/style.js ***!
      \***************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Object.keys(t).forEach((function(n){e.style[n]!==t[n]&&(e.style[n]=t[n])})),e},e.exports=t.default},"./src/wavesurfer.js":
/*!***************************!*\
      !*** ./src/wavesurfer.js ***!
      \***************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(/*! ./util */"./src/util/index.js")),s=c(n(/*! ./drawer.multicanvas */"./src/drawer.multicanvas.js")),a=c(n(/*! ./webaudio */"./src/webaudio.js")),o=c(n(/*! ./mediaelement */"./src/mediaelement.js")),l=c(n(/*! ./peakcache */"./src/peakcache.js"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){function e(t,n){d(this,e)}r(e,[{key:"create",value:function(e){}}]),r(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}}])}();var p=function(e){function t(e){d(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(n.defaultParams={audioContext:null,audioRate:1,autoCenter:!0,backend:"WebAudio",barHeight:1,barGap:null,container:null,cursorColor:"#ff8c35",cursorWidth:1,dragSelection:!0,fillParent:!0,forceDecode:!1,height:128,hideScrollbar:!1,interact:!0,loopSelection:!0,maxCanvasWidth:4e3,mediaContainer:null,mediaControls:!1,mediaType:"audio",minPxPerSec:20,normalize:!1,partialRender:!1,pixelRatio:window.devicePixelRatio||screen.deviceXDPI/screen.logicalXDPI,plugins:[],progressColor:"rgba(201,199,229,0.24)",removeMediaElementOnDestroy:!0,renderer:s.default,responsive:!1,scrollParent:!1,skipLength:2,splitChannels:!1,waveColor:"#99c2c6",waveDisabledColor:"#505253",xhr:{},limits:1,timeline:1,verticalZoom:1},n.backends={MediaElement:o.default,WebAudio:a.default},n.util=i,n.params=i.extend({},n.defaultParams,e),n.container="string"==typeof e.container?document.querySelector(n.params.container):n.params.container,!n.container)throw new Error("Container element not found");if(null==n.params.mediaContainer?n.mediaContainer=n.container:"string"==typeof n.params.mediaContainer?n.mediaContainer=document.querySelector(n.params.mediaContainer):n.mediaContainer=n.params.mediaContainer,!n.mediaContainer)throw new Error("Media Container element not found");if(n.params.maxCanvasWidth<=1)throw new Error("maxCanvasWidth must be greater than 1");if(n.params.maxCanvasWidth%2==1)throw new Error("maxCanvasWidth must be an even number");if(n.savedVolume=0,n.isMuted=!1,n.tmpEvents=[],n.currentAjax=null,n.bid={},n.arraybuffer=null,n.drawer=null,n.backend=null,n.peakCache=null,"function"!=typeof n.params.renderer)throw new Error("Renderer parameter is invalid");n.Drawer=n.params.renderer,n.Backend=n.backends[n.params.backend],n.initialisedPluginList={},n.isDestroyed=!1,n.isReady=!1;var r=0;return n._onResize=i.debounce((function(){r==n.drawer.wrapper.clientWidth||n.params.scrollParent||(r=n.drawer.wrapper.clientWidth,n.drawer.fireEvent("redraw"))}),"number"==typeof n.params.responsive?n.params.responsive:100),n.ActiveMarker=0,n.FollowCursor=1,n.Interacting=0,n.ActiveChannels=[1,1],n.SelectedChannelsLen=2,n.LeftProgress=0,n.ZoomFactor=1,n.VisibleDuration=0,u(n,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return ie=document.getElementById("previewCanvas"),new t(e).init()}}]),r(t,[{key:"init",value:function(){return this.registerPlugins(this.params.plugins),this.createDrawer(),this.createBackend(),this.createPeakCache(),this}},{key:"registerPlugins",value:function(e){var t=this;return e.forEach((function(e){return t.addPlugin(e)})),e.forEach((function(e){e.deferInit||t.initPlugin(e.name)})),this.fireEvent("plugins-registered",e),this}},{key:"addPlugin",value:function(e){var t=this;if(!e.name)throw new Error("Plugin does not have a name!");if(!e.instance)throw new Error("Plugin "+e.name+" does not have an instance property!");e.staticProps&&Object.keys(e.staticProps).forEach((function(n){t[n]=e.staticProps[n]}));var n=e.instance;return Object.getOwnPropertyNames(i.Observer.prototype).forEach((function(e){n.prototype[e]=i.Observer.prototype[e]})),this[e.name]=new n(e.params||{},this),this.fireEvent("plugin-added",e.name),this}},{key:"initPlugin",value:function(e){if(!this[e])throw new Error("Plugin "+e+" has not been added yet!");return this.initialisedPluginList[e]&&this.destroyPlugin(e),this[e].init(),this.initialisedPluginList[e]=!0,this.fireEvent("plugin-initialised",e),this}},{key:"destroyPlugin",value:function(e){if(!this[e])throw new Error("Plugin "+e+" has not been added yet and cannot be destroyed!");if(!this.initialisedPluginList[e])throw new Error("Plugin "+e+" is not active and cannot be destroyed!");if("function"!=typeof this[e].destroy)throw new Error("Plugin "+e+" does not have a destroy function!");return this[e].destroy(),delete this.initialisedPluginList[e],this.fireEvent("plugin-destroyed",e),this}},{key:"destroyAllPlugins",value:function(){var e=this;Object.keys(this.initialisedPluginList).forEach((function(t){return e.destroyPlugin(t)}))}},{key:"createDrawer",value:function(){var e=this;if(this.params.ActiveChannels=this.ActiveChannels,this.drawer=new this.Drawer(this.container,this.params),this.drawer.init(),this.fireEvent("drawer-created",this.drawer),this.drawer.on("resize",(function(){e.drawer._width=Math.round(e.drawer.container.clientWidth*e.drawer.params.pixelRatio),e.drawer._bbox=e.drawer.wrapper.getBoundingClientRect()})),this.on("resize",(function(){e.drawer.fireEvent("resize")})),!1!==this.params.responsive&&(window.addEventListener("resize",this._onResize,!0),window.addEventListener("orientationchange",this._onResize,!0)),this.drawer.on("redraw",(function(){e.drawBuffer(),e.drawer.progress(e.backend.getPlayedPercents(),e.LeftProgress/e.getDuration(),e.ZoomFactor)})),"ontouchstart"in document.documentElement){var t={x:0,y:0},n={x:0,y:0};this.drawer.on("touchstart",(function(e){e.touches&&1===e.touches.length&&(t={x:e.touches[0].pageX,y:e.touches[0].pageY})})),this.drawer.on("touchmove",(function(e){e.touches&&1===e.touches.length&&(n={x:e.touches[0].pageX,y:e.touches[0].pageY})})),this.drawer.on("touchend",(function(r){0!==t.x&&0!==t.y&&(0===n.x&&0===n.y||Math.abs(n.x-t.x)<20&&Math.abs(n.y-t.y)<20?setTimeout((function(){var r=e.drawer._bbox,i=e.drawer.width,s=e.drawer.getWidth(),a=0,o=t.x-(window.pageXOffset||document.documentElement.scrollLeft);!e.drawer.params.fillParent&&i<s?(a=(a=(o-r.left)*e.drawer.params.pixelRatio)||0)>1&&(a=1):a=(o-r.left)/i||0;var l=(a*e.VisibleDuration+e.LeftProgress)/e.getDuration();l>=0&&l<=1&&e.seekTo(l),t={x:0,y:0},n={x:0,y:0},e.regions&&e.regions.clear()}),24):(t={x:0,y:0},n={x:0,y:0}))}))}this.drawer.on("click",(function(t,n){var r=t.timeStamp;setTimeout((function(){var t=(n*e.VisibleDuration*e.params.pixelRatio+e.LeftProgress)/e.getDuration();t>=0&&t<=1&&e.seekTo(t,r)}),36)})),this.ResetZoom=function(){e.ZoomFactor=1,e.LeftProgress=0,e.params.verticalZoom=1,e.ForceDraw(),e.fireEvent("DidZoom")},this.SetZoomVertical=function(t,n){var r=e.params.verticalZoom;e.params.verticalZoom<.1?e.params.verticalZoom+=t/24:e.params.verticalZoom<.3?e.params.verticalZoom+=t/20:e.params.verticalZoom<.5?e.params.verticalZoom+=t/16:e.params.verticalZoom<.8?e.params.verticalZoom+=t/12:e.params.verticalZoom<1?e.params.verticalZoom+=t/8:e.params.verticalZoom+=t/4,e.params.verticalZoom<=.1&&(e.params.verticalZoom=.1),(r<1&&e.params.verticalZoom>1||r>1&&e.params.verticalZoom<1)&&(e.params.verticalZoom=1),e.ForceDraw(),e.fireEvent("DidZoom",n)},this.SetZoom=function(t,n,r,i){var s=!1,a=e.drawer.width,o=e.VisibleDuration,l=a*(e.ZoomFactor-n/Math.abs(n))>>0;e.backend.buffer.length/l<1||(t||(t=.5),n<0?(e.ZoomFactor!=e.ZoomFactor>>0?e.ZoomFactor=1+(e.ZoomFactor>>0):(e.ZoomFactor,e.ZoomFactor+=1),e.LeftProgress=e.LeftProgress+t*(o/e.ZoomFactor)):e.ZoomFactor>1&&(e.ZoomFactor!=e.ZoomFactor>>0?e.ZoomFactor=e.ZoomFactor>>0:e.ZoomFactor>6?(i||(s=!0),e.ZoomFactor-=1):e.ZoomFactor-=1,1===e.ZoomFactor?e.LeftProgress=0:e.LeftProgress=e.LeftProgress-t*(o/e.ZoomFactor)),e.ForceDraw(),e.fireEvent("DidZoom",r),s&&this.SetZoom(t,n,r,!0))};var r=0;this.drawer.on("wheel",(function(t){if(!e.params.isMobile&&(t.preventDefault(),t.stopPropagation(),e.isReady&&0!=t.deltaY)){var n=t.timeStamp;if(!(n-r<46)){r=n;var i=e.drawer.width,s=e.drawer._bbox,a=(t.clientX-s.left)/i*e.params.pixelRatio;e.SetZoom(a,t.deltaY,t)}}})),this.drawer.on("scroll",(function(t){e.params.partialRender&&e.drawBuffer(),e.fireEvent("scroll",t)}))}},{key:"ZoomifyValue",value:function(e){return(e*this.VisibleDuration*this.params.pixelRatio+this.LeftProgress)/this.getDuration()}},{key:"UnzoomifyPixelValue",value:function(e){return(e-this.LeftProgress/this.getDuration()*this.drawer.width/this.params.pixelRatio)*this.ZoomFactor}},{key:"DrawTemp",value:function(e,t){this.backend.extraPeaks=t,this.backend.extraOffset=e,this.drawBuffer(1);var n=this.backend.getPlayedPercents(),r=this.getDuration(),i=this.LeftProgress/r,s=(this.ActiveMarker-i)*this.ZoomFactor,a=1/this.drawer.params.pixelRatio,o=Math.round(s*this.drawer.width)*a;this.drawer.CursorMarker.style.transform="translate("+o+"px,0)",this.drawer.progress(n,i,this.ZoomFactor)}},{key:"ForceDraw",value:function(){this.drawBuffer();var e=this.backend.getPlayedPercents(),t=this.getDuration(),n=this.LeftProgress/t,r=(this.ActiveMarker-n)*this.ZoomFactor,i=1/this.drawer.params.pixelRatio,s=Math.round(r*this.drawer.width)*i;this.drawer.CursorMarker.style.transform="translate("+s+"px,0)",this.drawer.ZMarker.style.left=100*this.ActiveMarker+"%",this.drawer.progress(e,n,this.ZoomFactor)}},{key:"getWaveEl",value:function(){return this.drawer.canvases[0].wave}},{key:"createBackend",value:function(){var e=this;this.backend&&this.backend.destroy(),"AudioElement"==this.params.backend&&(this.params.backend="MediaElement"),"WebAudio"!=this.params.backend||this.Backend.prototype.supportsWebAudio.call(null)||(this.params.backend="MediaElement"),this.backend=new this.Backend(this.params),this.backend.init(),this.fireEvent("backend-created",this.backend),this.backend.on("finish",(function(){return e.fireEvent("finish")})),this.backend.on("play",(function(){return e.fireEvent("play")})),this.backend.on("pause",(function(t){return"end"===t&&e.stop(),e.fireEvent("pause")}));var t=this;this.CursorCenter=function(){var e=t.getDuration(),n=t.backend.getPlayedPercents(),r=t.drawer.width*t.ZoomFactor,i=~~(t.drawer.width/2),s=n*r,a=s-i,o=t.LeftProgress/e*r+i>>0;if(o+i>s&&o+i<r)if((n-t.LeftProgress/e)*t.ZoomFactor*100>>0>50){var l=a-o+i;a-=Math.max(0,l-4*t.ZoomFactor/2)}else a=Math.max(0,Math.min(r-2*i,a));else a=Math.max(0,Math.min(r-2*i,a));var c=a/r;t.LeftProgress=c*e,t.fireEvent("cursorcenter",c),document.hidden||t.ForceDraw()};var n=0;t.backend.on("audioprocess",(function(e,r){var i=t.backend.getPlayedPercents();if(t.ZoomFactor>1&&t.FollowCursor&&!t.Interacting){if(r-n>50){n=r;var s=t.getDuration(),a=t.drawer.width*t.ZoomFactor,o=~~(t.drawer.width/2),l=i*a,c=l-o,u=t.LeftProgress/s*a+o>>0;if(u<=l&&l<=u+o){if(u+o>l&&u+o<a)if((i-t.LeftProgress/s)*t.ZoomFactor*100>>0>99){var d=c-u+o;c-=Math.max(0,d-4*t.ZoomFactor/2)}else c=Math.max(0,Math.min(a-2*o,c));else c=Math.max(0,Math.min(a-2*o,c));var p=c/a;t.LeftProgress=p*s,t.fireEvent("cursorcenter",p),document.hidden||t.ForceDraw()}else t.drawer.progress(i,t.LeftProgress/t.getDuration(),t.ZoomFactor)}}else t.drawer.progress(i,t.LeftProgress/t.getDuration(),t.ZoomFactor);t.fireEvent("audioprocess",e,r)}))}},{key:"createPeakCache",value:function(){this.params.partialRender&&(this.peakCache=new l.default)}},{key:"getDuration",value:function(){return this.backend.getDuration()}},{key:"getCurrentTime",value:function(){return this.backend.getCurrentTime()}},{key:"setCurrentTime",value:function(e){e>=this.getDuration()?this.seekTo(1):this.seekTo(e/this.getDuration())}},{key:"play",value:function(e,t){var n=this;return this.fireEvent("interaction",(function(){return n.play(e,t)})),this.backend.play(e,t)}},{key:"pause",value:function(){if(!this.backend.isPaused())return this.backend.pause()}},{key:"playPause",value:function(){return this.backend.isPaused()?this.play():this.pause()}},{key:"isPlaying",value:function(){return!this.backend.isPaused()}},{key:"skipBackward",value:function(e){this.skip(-e||-this.params.skipLength)}},{key:"skipForward",value:function(e){this.skip(e||this.params.skipLength)}},{key:"skip",value:function(e){var t=this.getDuration()||1,n=this.getCurrentTime()||0;n=Math.max(0,Math.min(t,n+(e||0))),this.seekAndCenter(n/t)}},{key:"seekAndCenter",value:function(e){this.seekTo(e),this.drawer.recenter(e)}},{key:"seekTo",value:function(e,t){var n=this;if("number"!=typeof e||!isFinite(e)||e<0||e>1)return console.error("Error calling wavesurfer.seekTo, parameter must be a number between 0 and 1!");this.ActiveMarker=e,this.fireEvent("interaction",(function(){return n.seekTo(e)}));var r=this.backend.isPaused();r||this.backend.pause();var i=this.getDuration();if(this.VisibleDuration/i+this.LeftProgress/i>e&&e>this.LeftProgress/i){var s=this.LeftProgress/i,a=(e-s)*this.ZoomFactor,o=1/this.drawer.params.pixelRatio,l=Math.round(a*this.drawer.width)*o;this.drawer.CursorMarker.style.transform="translate("+l+"px,0)",this.drawer.ZMarker.style.left=100*e+"%",this.drawer.progress(e,s,this.ZoomFactor)}else s=this.LeftProgress/i,0==(e-s)*(i/this.VisibleDuration)?this.drawer.CursorMarker.style.transform="translate(1px,0)":(a=(e-s)*this.ZoomFactor,o=1/this.drawer.params.pixelRatio,l=Math.round(a*this.drawer.width)*o,this.drawer.CursorMarker.style.transform="translate("+l+"px,0)"),this.drawer.progress(0);this.backend.seekTo(e*this.getDuration()),r||this.backend.play(),this.fireEvent("seek",e,t)}},{key:"stop",value:function(){this.pause(),this.seekTo(this.ActiveMarker,window.performance.now()+100),this.drawer.progress(this.ActiveMarker,this.LeftProgress/this.getDuration(),this.ZoomFactor)}},{key:"setSinkId",value:function(e){return this.backend.setSinkId(e)}},{key:"setVolume",value:function(e){this.backend.setVolume(e),this.fireEvent("volume",e)}},{key:"getVolume",value:function(){return this.backend.getVolume()}},{key:"getLoudness",value:function(){return this.backend.getLoudness()}},{key:"setPlaybackRate",value:function(e){this.backend.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this.backend.getPlaybackRate()}},{key:"toggleMute",value:function(){this.setMute(!this.isMuted)}},{key:"setMute",value:function(e){e!==this.isMuted?(e?(this.savedVolume=this.backend.getVolume(),this.backend.setVolume(0),this.isMuted=!0,this.fireEvent("volume",0)):(this.backend.setVolume(this.savedVolume),this.isMuted=!1,this.fireEvent("volume",this.savedVolume)),this.fireEvent("mute",this.isMuted)):this.fireEvent("mute",this.isMuted)}},{key:"getMute",value:function(){return this.isMuted}},{key:"isReady",value:function(){return this.isReady}},{key:"getFilters",value:function(){return this.backend.filters||[]}},{key:"toggleScroll",value:function(){this.params.scrollParent=!this.params.scrollParent,this.drawBuffer()}},{key:"toggleInteraction",value:function(){this.params.interact=!this.params.interact}},{key:"getWaveColor",value:function(){return this.params.waveColor}},{key:"setWaveColor",value:function(e){this.params.waveColor=e,this.drawBuffer()}},{key:"getProgressColor",value:function(){return this.params.progressColor}},{key:"setProgressColor",value:function(e){this.params.progressColor=e,this.drawBuffer()}},{key:"setCursorColor",value:function(e){this.params.cursorColor=e}},{key:"getHeight",value:function(){return this.params.height}},{key:"setHeight",value:function(e){this.params.height=e,this.drawer.setHeight(e*this.params.pixelRatio),this.isReady&&this.drawBuffer()}},{key:"drawBuffer",value:function(e){1===this.ZoomFactor?this.VisibleDuration=this.getDuration():this.VisibleDuration=this.getDuration()/this.ZoomFactor;var t,n=this.drawer.getWidth(),r=this.LeftProgress,i=n*this.ZoomFactor>>0;if(t=this.backend.getPeaks(n,r,i,e),this.drawer.drawPeaks(t,n,0,i,t.length,this.backend.shift),this.backend.extraPeakStart>=0){var s=this;requestAnimationFrame((function(){s.drawer.canvases[0].waveCtx.fillStyle="rgba(255,60,40,0.2)",s.drawer.canvases[0].waveCtx.fillRect(s.backend.extraPeakStart,0,s.backend.extraPeakEnd-s.backend.extraPeakStart,s.drawer.canvases[0].wave.height)}))}this.fireEvent("redraw",t,n)}},{key:"zoom",value:function(e){}},{key:"loadArrayBuffer",value:function(e){var t=this;this.decodeArrayBuffer(e,(function(e){t.isDestroyed||t.loadDecodedBuffer(e)}))}},{key:"loadDecodedBuffer",value:function(e){this.backend.splitPeaks=[],this.backend.mergedPeaks=[],this.createPeakCache(),this.backend.load(e),this.drawBuffer(1),this.drawer.drawLinesToNavContext(this.backend.getPeaks(ie.width,0,ie.width,1)),this.fireEvent("ready"),this.isReady=!0}},{key:"loadBlob",value:function(e){var t=this,n=new FileReader;n.addEventListener("progress",(function(e){return t.onProgress(e)})),n.addEventListener("load",(function(e){return t.loadArrayBuffer(e.target.result)})),n.addEventListener("error",(function(){return t.fireEvent("error","Error reading file")})),n.readAsArrayBuffer(e),this.empty()}},{key:"load",value:function(e,t,n,r){if(this.empty(),n){var i={"Preload is not 'auto', 'none' or 'metadata'":-1===["auto","metadata","none"].indexOf(n),"Peaks are not provided":!t,"Backend is not of type MediaElement":"MediaElement"!==this.params.backend,"Url is not of type string":"string"!=typeof e},s=Object.keys(i).filter((function(e){return i[e]}));s.length&&(console.warn("Preload parameter of wavesurfer.load will be ignored because:\n\t- "+s.join("\n\t- ")),n=null)}switch(this.params.backend){case"WebAudio":return this.loadBuffer(e,t,r);case"MediaElement":return this.loadMediaElement(e,t,n,r)}}},{key:"loadBuffer",value:function(e,t,n){var r=this,i=function(t){return t&&r.tmpEvents.push(r.once("ready",t)),r.getArrayBuffer(e,(function(e){return r.loadArrayBuffer(e)}))};if(!t)return i();this.backend.setPeaks(t,n),this.drawBuffer(1),this.tmpEvents.push(this.once("interaction",i))}},{key:"loadMediaElement",value:function(e,t,n,r){var i=this,s=e;if("string"==typeof e)this.backend.load(s,this.mediaContainer,t,n);else{var a=e;this.backend.loadElt(a,t),s=a.src}this.tmpEvents.push(this.backend.once("canplay",(function(){i.drawBuffer(1),i.fireEvent("ready"),i.isReady=!0})),this.backend.once("error",(function(e){return i.fireEvent("error",e)}))),t&&this.backend.setPeaks(t,r),t&&!this.params.forceDecode||!this.backend.supportsWebAudio()||this.getArrayBuffer(s,(function(e){i.decodeArrayBuffer(e,(function(e){i.backend.buffer=e,i.backend.setPeaks(null),i.drawBuffer(1),i.fireEvent("waveform-ready")}))}))}},{key:"decodeArrayBuffer",value:function(e,t){var n=this,r="q"+(999999*Math.random()>>0);this.bid[r]=1,this.bid.curr=r;var i=this.getDuration();this.backend.decodeArrayBuffer(e,(function(s){if(!n.isDestroyed&&n.bid[r]){var a=!1;n.backend.buffer&&n.backend._add&&(a=!0),t(s),n.arraybuffer=e,a&&setTimeout((function(){n.regions.add({start:i,end:n.getDuration()-.01,id:"t"})}),48)}}),(function(){return n.fireEvent("error","Error decoding audiobuffer. Did you make sure to supply a valid audio file? ")}))}},{key:"getArrayBuffer",value:function(e,t){var n=this,r=i.ajax({url:e,responseType:"arraybuffer",xhr:this.params.xhr});return this.currentAjax=r,this.tmpEvents.push(r.on("progress",(function(e){n.onProgress(e)})),r.on("success",(function(e,r){t(e),n.currentAjax=null})),r.on("error",(function(e){n.fireEvent("error","Could not load remote URL. Make sure the url exists, is a valid audio file,<br />  or that is supports Cross Origin requests (Access-Control-Allow-Origin header) <br />"+e.target.statusText),n.currentAjax=null,PKAudioEditor.fireEvent("RequestResize")}))),r}},{key:"onProgress",value:function(e){var t=void 0;t=e.lengthComputable?e.loaded/e.total:e.loaded/(e.loaded+1e6),this.fireEvent("loading",Math.round(100*t),e.target)}},{key:"exportPCM",value:function(e,t,n,r){e=e||1024,r=r||0,t=t||1e4,n=n||!1;var i=this.backend.getPeaks(e,r),s=[].map.call(i,(function(e){return Math.round(e*t)/t})),a=JSON.stringify(s);return n||window.open("data:application/json;charset=utf-8,"+encodeURIComponent(a)),a}},{key:"exportImage",value:function(e,t){return e||(e="image/png"),t||(t=1),this.drawer.getImage(e,t)}},{key:"cancelBufferLoad",value:function(){return!(!this.bid||!this.bid.curr||(this.bid[this.bid.curr]=null,0))}},{key:"cancelAjax",value:function(){return!!this.currentAjax&&(this.currentAjax.xhr.abort(),this.currentAjax=null,!0)}},{key:"clearTmpEvents",value:function(){this.tmpEvents.forEach((function(e){return e.un()}))}},{key:"empty",value:function(){this.backend.isPaused()||(this.stop(),this.backend.disconnectSource()),this.cancelAjax(),this.clearTmpEvents(),this.drawer.progress(0),this.drawer.setWidth(0),this.drawer.drawPeaks({length:this.drawer.getWidth()},0,2)}},{key:"destroy",value:function(){this.destroyAllPlugins(),this.fireEvent("destroy"),this.cancelAjax(),this.clearTmpEvents(),this.unAll(),!1!==this.params.responsive&&(window.removeEventListener("resize",this._onResize,!0),window.removeEventListener("orientationchange",this._onResize,!0)),this.backend.destroy(),this.drawer.destroy(),this.isDestroyed=!0,this.arraybuffer=null}}]),t}(i.Observer);p.util=i,t.default=p,Array.prototype.copyWithin||(Array.prototype.copyWithin=function(e,t){if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0,i=e>>0,s=i<0?Math.max(r+i,0):Math.min(i,r),a=t>>0,o=a<0?Math.max(r+a,0):Math.min(a,r),l=arguments[2],c=void 0===l?r:l>>0,u=c<0?Math.max(r+c,0):Math.min(c,r),d=Math.min(u-o,r-s),p=1;for(o<s&&s<o+d&&(p=-1,o+=d-1,s+=d-1);d>0;)o in n?n[s]=n[o]:delete n[s],o+=p,s+=p,d--;return n}),e.exports=t.default},"./src/webaudio.js":
/*!*************************!*\
      !*** ./src/webaudio.js ***!
      \*************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(/*! ./util */"./src/util/index.js"));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="playing",o="paused",l="finished",c=navigator.userAgent.toLowerCase().indexOf("safari/")>-1,u=function(e){function t(e){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.audioContext=null,i.offlineAudioContext=null,i.stateBehaviors=(s(n={},a,{init:function(){this.addOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition+this.getPlayedTime()}}),s(n,o,{init:function(){this.removeOnAudioProcess()},getPlayedPercents:function(){var e=this.getDuration();return this.getCurrentTime()/e||0},getCurrentTime:function(){return this.startPosition}}),s(n,l,{init:function(){this.removeOnAudioProcess(),this.fireEvent("finish")},getPlayedPercents:function(){return 1},getCurrentTime:function(){return this.getDuration()}}),n),i.params=e,i.ac=e.audioContext||i.getAudioContext(),i.lastPlay=i.ac.currentTime,i.startPosition=0,i.scheduledPause=null,i.states=(s(r={},a,Object.create(i.stateBehaviors.playing)),s(r,o,Object.create(i.stateBehaviors.paused)),s(r,l,Object.create(i.stateBehaviors.finished)),r),i.analyser=null,i.buffer=null,i.filters=[],i.gainNode1=null,i.gainNode2=null,i.splitterNode=null,i.mergedPeaks=null,i.offlineAc=null,i.peaks=null,i.playbackRate=1,i.analyser=null,i.scriptNode=null,i.source=null,i.splitPeaks=[],i.state=null,i.explicitDuration=null,i.FreqArr=new Uint8Array(512),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"supportsWebAudio",value:function(){return!(!window.AudioContext&&!window.webkitAudioContext)}},{key:"getAudioContext",value:function(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}},{key:"getOfflineAudioContext",value:function(e){return window.WaveSurferOfflineAudioContext||(window.WaveSurferOfflineAudioContext=new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(1,2,e)),window.WaveSurferOfflineAudioContext}}]),r(t,[{key:"init",value:function(){this.createVolumeNode(),this.createScriptNode(),this.createAnalyserNode(),this.setState(o),this.setPlaybackRate(this.params.audioRate),this.setLength(0)}},{key:"disconnectFilters",value:function(){this.filters&&(this.filters.forEach((function(e){e&&e.disconnect()})),this.filters=null,this.analyser.connect(this.mergerNode))}},{key:"setState",value:function(e){this.state!==this.states[e]&&(this.state=this.states[e],this.state.init.call(this))}},{key:"setFilter",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.setFilters(t)}},{key:"setFilters",value:function(e){this.disconnectFilters(),e&&e.length&&(this.filters=e,this.analyser.disconnect(),e.reduce((function(e,t){return e.connect(t),t}),this.analyser).connect(this.gainNode1))}},{key:"createScriptNode",value:function(){this.ac.createScriptProcessor?this.scriptNode=this.ac.createScriptProcessor(t.scriptBufferSize):this.scriptNode=this.ac.createJavaScriptNode(t.scriptBufferSize),this.scriptNode.connect(this.ac.destination)}},{key:"addOnAudioProcess",value:function(){var e=this;this.scriptNode.onaudioprocess=function(t){if(e.states.playing){for(var n=e.getCurrentTime(),r=e.buffer,i=n*r.sampleRate>>0,s=[0,0],a=0,o=0;o<r.numberOfChannels;++o){a=0;for(var c=r.getChannelData(o),u=0;u<512;u+=4){var d=Math.abs(c[i+u]);d>a&&(a=d)}s[o]=20*Math.log10(a)+.001}e.peak_frequency=s,e.logFrequencies&&e.analyser.getByteFrequencyData(e.FreqArr),n>=e.getDuration()?(e.setState(l),e.states.playing=null,e.fireEvent("pause","end")):n>=e.scheduledPause?e.pause():e.state===e.states.playing&&e.fireEvent("audioprocess",n,t.timeStamp),e.peak_frequency=null}}}},{key:"removeOnAudioProcess",value:function(){c||(this.scriptNode.onaudioprocess=null)}},{key:"createAnalyserNode",value:function(){this.analyser=this.ac.createAnalyser(),this.analyser.fftSize=1024,this.analyser.connect(this.splitterNode)}},{key:"SetNumberOfChannels",value:function(e){this.splitterNode.disconnect(0),this.splitterNode.disconnect(1),1===e?(this.splitterNode.connect(this.gainNode1,0),this.splitterNode.connect(this.gainNode2,0)):2===e&&(this.splitterNode.connect(this.gainNode1,1),this.splitterNode.connect(this.gainNode2,0))}},{key:"createVolumeNode",value:function(){this.splitterNode=this.ac.createChannelSplitter(2),this.mergerNode=this.ac.createChannelMerger(2),this.ac.createGain?(this.gainNode1=this.ac.createGain(),this.gainNode2=this.ac.createGain()):(this.gainNode1=this.ac.createGainNode(),this.gainNode2=this.ac.createGainNode()),this.splitterNode.connect(this.gainNode1,1),this.splitterNode.connect(this.gainNode2,0),this.gainNode1.connect(this.mergerNode,0,1),this.gainNode2.connect(this.mergerNode,0,0),this.mergerNode.connect(this.ac.destination)}},{key:"setSinkId",value:function(e){if(e){var t=new window.Audio;if(!t.setSinkId)return Promise.reject(new Error("setSinkId is not supported in your browser"));t.autoplay=!0;var n=this.ac.createMediaStreamDestination();return this.gainNode1.disconnect(),this.gainNode1.connect(n),this.gainNode2.disconnect(),this.gainNode2.connect(n),this.mergerNode.disconnect(),this.mergerNode.connect(n),this.splitterNode.disconnect(),this.splitterNode.connect(n),t.src=URL.createObjectURL(n.stream),t.setSinkId(e)}return Promise.reject(new Error("Invalid deviceId: "+e))}},{key:"setVolume",value:function(e){this.gainNode1.gain.setValueAtTime(e,this.ac.currentTime),this.gainNode2.gain.setValueAtTime(e,this.ac.currentTime)}},{key:"getVolume",value:function(){return this.gainNode1.gain.value}},{key:"getLoudness",value:function(){return this.peak_frequency}},{key:"decodeArrayBuffer",value:function(e,t,n){ft.engine.ID3(e),this.offlineAc||(this.offlineAc=this.getOfflineAudioContext(44100));var r=this.offlineAc.decodeAudioData(e,(function(e){return t(e)}),n);r&&r.catch((function(e){console.log("couldn't load audio")}))}},{key:"setPeaks",value:function(e,t){this.explicitDuration=t,this.peaks=e}},{key:"setLength",value:function(e){if(!this.mergedPeaks||2*e!=this.mergedPeaks.length){this.splitPeaks=[],this.mergedPeaks=[];var t=this.buffer?this.buffer.numberOfChannels:1,n=void 0;for(n=0;n<t;n++)this.splitPeaks[n]=[],this.splitPeaks[n][2*(e-1)]=0,this.splitPeaks[n][2*(e-1)+1]=0;this.mergedPeaks[2*(e-1)]=0,this.mergedPeaks[2*(e-1)+1]=0}}},{key:"getSpectre",value:function(e,t,n,r,i){this.buffer.sampleRate;var s=512,a=this.buffer,o=a.getChannelData(0);a.length;for(var l=a.sampleRate,c=[],u=new se(s,l,this.windowFunc,this.alpha),d=0,p=o.length;d+s<p;){var f=o.slice(d,d+s),h=u.calculateSpectrum(f),m=new Uint8Array(256),v=void 0;for(v=0;v<256;v++)m[v]=Math.max(-255,45*Math.log10(h[v]));c.push(m),d+=512}return c}},{key:"getPeaks",value:function(e,t,n,r){if(t*=this.buffer.sampleRate,n=n||e-1,this.setLength(e),!this.buffer.length){var i=this.createBuffer(1,4096,this.sampleRate);this.buffer=i.buffer}var s=this.buffer.length/n,a=~~(s/10)||1;a>32?a=32:a<6&&(a=6);var o=this.buffer.numberOfChannels,l=void 0,c=0;if(this.shift=0,this.splitPeaks&&!r&&n==this.peaksEnd){var u=(this.peaksStart-t)/s;if(0===u)return this.shift=999999999,this.splitPeaks;for(u=Math.round(u),t=this.peaksStart-u*s,u*=2,this.shift=u,l=0;l<o;++l){var d=this.splitPeaks[l];if(u<0)d.copyWithin(0,-u),c=e+u;else{if(!(u>0))return this.splitPeaks;d.copyWithin(u,0,d.length-u),e=u/2>>0}}}for(l=0;l<o;++l){d=this.splitPeaks[l];var p=this.buffer.getChannelData(l),f=void 0;for(f=c;f<=e;++f){var h=(E=t+f*s>>0)+s>>0,m=0,v=0,g=void 0;for(g=E;g<h;g+=a)($=p[g])>v?v=$:$<m&&(m=$);d[2*f]=v,d[2*f+1]=m}}if(this.extraPeakStart=-1,this.extraPeakEnd=-1,this.extraPeaks){var _=this.extraOffset/s>>0;if(t<=this.extraOffset&&n>_){_=(this.extraOffset-t)/s>>0;var w=this.extraPeaks.length,y=this.extraPeaks[0].length,b=_+y*w/s>>0;for(this.extraPeakStart=_,this.extraPeakEnd=b,l=0;l<o;++l){d=this.splitPeaks[l],f=void 0;var k=0;for(f=_;f<=b;++f){var E;for(h=(E=k*s>>0)+s>>0,m=0,v=0,g=void 0,++k,g=E;g<h;g+=a){var $,x=g/y;if(x>=w)break;($=this.extraPeaks[x>>0][g%y])>v&&(v=$),$<m&&(m=$)}d[2*f]=v,d[2*f+1]=m}}}}return this.peaksStart=t,this.peaksEnd=n,this.splitPeaks}},{key:"getPlayedPercents",value:function(){return this.state.getPlayedPercents.call(this)}},{key:"disconnectSource",value:function(){this.source&&this.source.disconnect()}},{key:"destroy",value:function(){this.isPaused()||this.pause(),this.unAll(),this.buffer=null,this.disconnectFilters(),this.disconnectSource(),this.gainNode1.disconnect(),this.gainNode2.disconnect(),this.mergerNode.disconnect(),this.splitterNode.disconnect(),this.scriptNode.disconnect(),this.analyser.disconnect(),this.params.closeAudioContext&&("function"==typeof this.ac.close&&"closed"!=this.ac.state&&this.ac.close(),this.ac=null,this.params.audioContext?this.params.audioContext=null:window.WaveSurferAudioContext=null,window.WaveSurferOfflineAudioContext=null)}},{key:"load",value:function(e){if(this.buffer&&this._add){var t=this.buffer,n=this.buffer.duration;e.duration,this.buffer.sampleRate;for(var r=this.ac.createBuffer(this.buffer.numberOfChannels,this.buffer.length+e.length,this.buffer.sampleRate),i=n/1*t.sampleRate>>0,s=0;s<t.numberOfChannels;++s){var a=t.getChannelData(s),o=r.getChannelData(s),l=null;l=1===e.numberOfChannels?e.getChannelData(0):e.getChannelData(s),i>0&&o.set(a.slice(0,i)),o.set(l,i),i<t.length+e.length&&o.set(a.slice(i),i+l.length)}this.lastPlay=this.ac.currentTime,this.buffer=r,this.peaks=null,this.createSource(),this.source.start(0,0,0),this.source.stop(0),this.createSource()}else this.lastPlay=this.ac.currentTime,this.buffer=e,this.peaks=null,this.createSource(),this.source.start(0,0,0),this.source.stop(0),this.createSource()}},{key:"createSource",value:function(){this.disconnectSource(),this.source=this.ac.createBufferSource(),this.source.start=this.source.start||this.source.noteGrainOn,this.source.stop=this.source.stop||this.source.noteOff,this.source.playbackRate.setValueAtTime(this.playbackRate,this.ac.currentTime),this.source.buffer=this.buffer,this.source.connect(this.analyser)}},{key:"isPaused",value:function(){return this.state!==this.states.playing}},{key:"getDuration",value:function(){return this.buffer?this.buffer.duration:this.explicitDuration?this.explicitDuration:0}},{key:"seekTo",value:function(e,t){if(this.buffer)return this.scheduledPause=null,null==e&&(e=this.getCurrentTime())>=this.getDuration()&&(e=0),null==t&&(t=this.getDuration()),this.startPosition=e,this.lastPlay=this.ac.currentTime,this.state===this.states.finished&&this.setState(o),{start:e,end:t}}},{key:"getPlayedTime",value:function(){return(this.ac.currentTime-this.lastPlay)*this.playbackRate}},{key:"play",value:function(e,t){if(this.buffer){this.createSource();var n=this.seekTo(e,t);e=n.start,t=n.end,this.scheduledPause=t,this.source.start(0,e,t-e),"suspended"==this.ac.state&&this.ac.resume&&this.ac.resume(),this.states.playing||s(this.states,a,Object.create(this.stateBehaviors.playing)),this.setState(a),this.fireEvent("play")}}},{key:"pause",value:function(){this.state!==this.states.paused&&(this.scheduledPause=null,this.startPosition+=this.getPlayedTime(),this.source&&this.source.stop(0),this.setState(o),this.fireEvent("pause"))}},{key:"getCurrentTime",value:function(){return this.state.getCurrentTime.call(this)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setPlaybackRate",value:function(e){e=e||1,this.isPaused()?this.playbackRate=e:(this.pause(),this.playbackRate=e,this.play())}}]),t}(i.Observer);u.scriptBufferSize=256,t.default=u,e.exports=t.default}})},"object"==typeof exports&&"object"==typeof module?module.exports=oe():"function"==typeof define&&define.amd?define("WaveSurfer",[],oe):"object"==typeof exports?exports.WaveSurfer=oe():ae.WaveSurfer=oe();var le=WaveSurfer;const ce={};class ue{static fireEvent(e,t,n){const r=ce[e];if(!r)return!1;let i=r.length;for(;i-- >0;)r[i]&&r[i](t,n)}static listenFor(e,t){ce[e]?ce[e].unshift(t):ce[e]=[t]}static stopListeningFor(e,t){const n=ce[e];if(!n)return!1;let r=n.length;for(;r-- >0;)if(n[r]&&n[r]===t){n[r]=null;break}}static stopListeningForName(e){if(!ce[e])return!1;ce[e]=null}}let de;
/*!
     * wavesurfer.js 2.0.5 (Thu Jun 28 2018 18:37:22 GMT-0700 (Pacific Daylight Time))
     * https://github.com/katspaugh/wavesurfer.js
     * @license BSD-3-Clause
     */window.EventObserver=ue,function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("regions",[],t):"object"==typeof exports?exports.regions=t():(e.WaveSurfer=e.WaveSurfer||{},e.WaveSurfer.regions=t())}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="localhost:8080/dist/plugin/",n(n.s="./src/plugin/regions.js")}({"./src/plugin/regions.js":
/*!*******************************!*\
      !*** ./src/plugin/regions.js ***!
      \*******************************/
/*! no static exports found */function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){var r=this;i(this,e),this.wavesurfer=n,this.wrapper=n.drawer.wrapper,this.util=n.util,this.style=this.util.style,this.id=null==t.id?n.util.getId():t.id,this.start=Number(t.start)||0,this.end=null==t.end?this.start+4/this.wrapper.scrollWidth*this.wavesurfer.getDuration():Number(t.end),this.resize=void 0===t.resize||Boolean(t.resize),this.drag=void 0===t.drag||Boolean(t.drag),this.loop=Boolean(t.loop),this.color=t.color||"rgba(30, 30, 162, 0.51)",this.data=t.data||{},this.attributes=t.attributes||{},this.direction=t.direction||2,this.maxLength=t.maxLength,this.minLength=t.minLength,this._onRedraw=function(){return r.updateRender()},this.scroll=!1!==t.scroll&&n.params.scrollParent,this.scrollSpeed=t.scrollSpeed||1,this.scrollThreshold=t.scrollThreshold||28,this.bindInOut(),this.render(),this.wavesurfer.on("zoom",this._onRedraw),this.wavesurfer.on("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-created",this)}return r(e,[{key:"update",value:function(e){null!=e.start&&(this.start=Number(e.start)),null!=e.end&&(this.end=Number(e.end)),null!=e.loop&&(this.loop=Boolean(e.loop)),null!=e.color&&(this.color=e.color),null!=e.data&&(this.data=e.data),null!=e.resize&&(this.resize=Boolean(e.resize)),null!=e.drag&&(this.drag=Boolean(e.drag)),null!=e.maxLength&&(this.maxLength=Number(e.maxLength)),null!=e.minLength&&(this.minLength=Number(e.minLength)),null!=e.attributes&&(this.attributes=e.attributes),this.updateRender(),this.fireEvent("update"),this.wavesurfer.fireEvent("region-updated",this)}},{key:"remove",value:function(){this.element&&(this.wrapper.removeChild(this.element),this.element=null,this.fireEvent("remove"),this.wavesurfer.un("zoom",this._onRedraw),this.wavesurfer.un("redraw",this._onRedraw),this.wavesurfer.fireEvent("region-removed",this))}},{key:"play",value:function(){this.wavesurfer.play(this.start,this.end),this.fireEvent("play"),this.wavesurfer.fireEvent("region-play",this)}},{key:"playLoop",value:function(){var e=this;this.play(),this.once("out",(function(){return e.playLoop()}))}},{key:"render",value:function(){var e=document.createElement("region");for(var t in e.className="wavesurfer-region",e.title=this.formatTime(this.start,this.end),e.setAttribute("data-id",this.id),this.attributes)e.setAttribute("data-region-"+t,this.attributes[t]);if(this.wrapper.scrollWidth,this.style(e,{position:"absolute",zIndex:2,height:"100%",top:"0px"}),this.resize){var n=e.appendChild(document.createElement("handle")),r=e.appendChild(document.createElement("handle"));n.className="wavesurfer-handle wavesurfer-handle-start",r.className="wavesurfer-handle wavesurfer-handle-end";var i={cursor:"col-resize",position:"absolute",left:"0px",top:"0px",width:"1%",maxWidth:"4px",height:"100%"};this.style(n,i),this.style(r,i),this.style(r,{left:"100%"})}this.element=this.wrapper.appendChild(e),this.updateRender(),this.bindEvents(e)}},{key:"formatTime",value:function(e,t){return(e==t?[e]:[e,t]).map((function(e){return[Math.floor(e%3600/60),("00"+Math.floor(e%60)).slice(-2)].join(":")})).join("-")}},{key:"getWidth",value:function(){return this.wavesurfer.drawer.width/this.wavesurfer.params.pixelRatio}},{key:"updateRender",value:function(){var e=this.wavesurfer.getDuration(),t=this.getWidth();if(this.start<0&&(this.start=0,this.end=this.end-this.start),this.end>e&&(this.end=e,this.start=e-(this.end-this.start)),null!=this.minLength&&(this.end=Math.max(this.start+this.minLength,this.end)),null!=this.maxLength&&(this.end=Math.min(this.start+this.maxLength,this.end)),null!=this.element){var n=this.start/e*t,r=this.end/e*t-n;for(var i in this.style(this.element,{left:this.wavesurfer.UnzoomifyPixelValue(n)+"px",width:r*this.wavesurfer.ZoomFactor+"px",cursor:this.drag?"move":"default"}),this.attributes)this.element.setAttribute("data-region-"+i,this.attributes[i]);this.element.title=this.formatTime(this.start,this.end)}}},{key:"bindInOut",value:function(){var e=this;this.firedIn=!1,this.firedOut=!1;var t=function(t){!e.firedOut&&e.firedIn&&(e.start>=Math.round(1e3*t)/1e3||e.end<=t+.0028)&&(e.firedOut=!0,e.firedIn=!1,e.fireEvent("out"),e.wavesurfer.fireEvent("region-out",e)),!e.firedIn&&e.start<=t&&e.end>t&&(e.firedIn=!0,e.firedOut=!1,e.fireEvent("in"),e.wavesurfer.fireEvent("region-in",e))};this.wavesurfer.backend.on("audioprocess",t),this.on("remove",(function(){e.wavesurfer.backend.un("audioprocess",t)})),this.on("out",(function(){e.loop?e.wavesurfer.play(e.start):(e.wavesurfer.seekTo(e.start/e.wavesurfer.getDuration()),e.wavesurfer.stop())}))}},{key:"bindEvents",value:function(){var e=this;this.element.addEventListener("mouseenter",(function(t){e.fireEvent("mouseenter",t),e.wavesurfer.fireEvent("region-mouseenter",e,t)})),this.element.addEventListener("mouseleave",(function(t){e.fireEvent("mouseleave",t),e.wavesurfer.fireEvent("region-mouseleave",e,t)})),this.element.addEventListener("click",(function(t){t.preventDefault(),e.fireEvent("click",t),e.wavesurfer.fireEvent("region-click",e,t)})),this.element.addEventListener("dblclick",(function(t){t.stopPropagation(),t.preventDefault(),e.fireEvent("dblclick",t),e.wavesurfer.fireEvent("region-dblclick",e,t)})),(this.drag||this.resize)&&function(){e.wavesurfer.drawer.container;var t=e.wavesurfer.getDuration(),n=e.scrollSpeed,r=e.scrollThreshold,i=void 0,s=void 0,a=void 0,o=void 0,l=!1,c=void 0,u=void 0,d=function r(s,l){if(c&&(a||o)){var u=n,d=e.wavesurfer.drawer.wrapper.getBoundingClientRect();if(-1===l)(p=Math.abs(d.left-s.clientX)-10)>0&&(u*=p/2);else if(1===l){var p;(p=Math.abs(s.clientX-d.right)-10)>0&&(u*=p/2)}var f=u*c/e.wavesurfer.getDuration();e.wavesurfer.LeftProgress+=f,e.wavesurfer.LeftProgress<0?e.wavesurfer.LeftProgress=0:e.wavesurfer.LeftProgress+e.wavesurfer.VisibleDuration>e.wavesurfer.getDuration()&&(e.wavesurfer.LeftProgress=e.wavesurfer.getDuration()-e.wavesurfer.VisibleDuration),e.wavesurfer.ForceDraw();var h=e.wavesurfer.ZoomifyValue(e.wavesurfer.drawer.handleEvent(s))*t,m=h-i;i=h,a?e.onDrag(m):e.onResize(m,o),e.wavesurfer.fireEvent("DidZoom"),window.requestAnimationFrame((function(){r(s,l)}))}},p=function(n){if(!(n.touches&&n.touches.length>1)&&3!==n.which){s=n.targetTouches?n.targetTouches[0].identifier:null,e.wavesurfer.Interacting|=1,n.stopPropagation();var r=new Event("killCTX",{bubbles:!0});document.body.dispatchEvent(r),i=e.wavesurfer.ZoomifyValue(e.wavesurfer.drawer.handleEvent(n,!0))*t,e.wrapper.scrollWidth,e.wrapper.clientWidth,u=e.wrapper.getBoundingClientRect(),"handle"==n.target.tagName.toLowerCase()?n.target.classList.contains("wavesurfer-handle-start")?o="start":n.target.classList.contains("wavesurfer-handle-end")&&(o="end"):n.shiftKey?2===e.direction?(o="end",e.update({start:e.start,end:i})):(o="start",e.update({start:i,end:e.end})):(a=!0,o=!1)}},f=function(t){t.touches&&t.touches.length>1||3!==t.which&&(e.wavesurfer.Interacting&=-2,(a||o)&&(a=!1,c=null,o=!1),l&&(l=!1,e.util.preventClick(),e.fireEvent("update-end",t),e.wavesurfer.fireEvent("region-update-end",e,t)))},h=function(n){if(!(n.touches&&n.touches.length>1)&&3!==n.which&&(!n.targetTouches||n.targetTouches[0].identifier==s)&&(a||o)){var p=i,f=e.wavesurfer.ZoomifyValue(e.wavesurfer.drawer.handleEvent(n))*t,h=f-i;if(i=f,e.drag&&a&&(l=l||!!h,e.onDrag(h)),e.resize&&o&&(l=l||!!h,o=e.onResize(h,o)),e.wavesurfer.ZoomFactor>1){if(a){var m=e.element.getBoundingClientRect(),v=m.left-u.left;f<p&&v>=0?c=-1:f>p&&v+m.width<=u.right&&(c=1),(-1===c&&v>r||1===c&&v+m.width<u.right-r)&&(c=null)}else{var g=n.clientX-u.left;c=g<=r?-1:g>=u.right-u.left-r?1:null}c&&d(n,c)}}};e.element.addEventListener("mousedown",p),e.element.addEventListener("touchstart",p),e.wrapper.addEventListener("mousemove",h),e.wrapper.addEventListener("touchmove",h),document.body.addEventListener("mouseup",f),document.body.addEventListener("touchend",f),e.on("remove",(function(){document.body.removeEventListener("mouseup",f),document.body.removeEventListener("touchend",f),e.wrapper.removeEventListener("mousemove",h),e.wrapper.removeEventListener("touchmove",h),document.body.removeEventListener("pointerup",f),e.wrapper.removeEventListener("pointermove",h)})),e.wavesurfer.on("destroy",(function(){document.body.removeEventListener("pointerup",f),document.body.removeEventListener("mouseup",f),document.body.removeEventListener("touchend",f)}))}()}},{key:"onDrag",value:function(e){var t=this.wavesurfer.getDuration();this.end+e>t||this.start+e<0||this.update({start:this.start+e,end:this.end+e})}},{key:"onResize",value:function(e,t){return"start"==t?this.start+e>this.end?(t="end",this.update({start:this.end,end:this.start+e})):this.update({start:Math.min(this.start+e,this.end),end:Math.max(this.start+e,this.end)}):this.start>this.end+e?(t="start",this.update({start:this.start+e,end:this.start})):this.update({start:Math.min(this.end+e,this.start),end:Math.max(this.end+e,this.start)}),t}}]),e}(),a=function(){function e(t,n){var r=this;i(this,e),this.params=t,this.wavesurfer=n,this.util=n.util,Object.getOwnPropertyNames(this.util.Observer.prototype).forEach((function(e){s.prototype[e]=r.util.Observer.prototype[e]})),this.wavesurfer.Region=s,this.list={},this._onReady=function(){r.wrapper=r.wavesurfer.drawer.wrapper,r.params.regions&&r.params.regions.forEach((function(e){r.add(e)})),r.params.dragSelection&&(r.disableDragSelection(),r.enableDragSelection(r.params))}}return r(e,null,[{key:"create",value:function(t){return{name:"regions",deferInit:!(!t||!t.deferInit)&&t.deferInit,params:t,staticProps:{initRegions:function(){console.warn('Deprecated initRegions! Use wavesurfer.initPlugins("regions") instead!'),this.initPlugin("regions")},addRegion:function(e){return this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.add(e)},clearRegions:function(){this.regions&&this.regions.clear()},enableDragSelection:function(e){this.initialisedPluginList.regions||this.initPlugin("regions"),this.regions.enableDragSelection(e)},disableDragSelection:function(){this.regions.disableDragSelection()}},instance:e}}}]),r(e,[{key:"init",value:function(){this.wavesurfer.isReady&&this._onReady(),this.wavesurfer.on("ready",this._onReady)}},{key:"destroy",value:function(){this.wavesurfer.un("ready",this._onReady),this.disableDragSelection(),this.clear()}},{key:"add",value:function(e){var t=this;this.list[0]&&this.clear();var n=new this.wavesurfer.Region(e,this.wavesurfer);return this.list[0]=n,n.on("remove",(function(){delete t.list[0]})),"t"===e.id&&this.wavesurfer.fireEvent("region-update-end",n,null),n}},{key:"clear",value:function(){var e=this;Object.keys(this.list).forEach((function(t){e.list[t].remove()}))}},{key:"enableDragSelection",value:function(e){var t=this,n=e.slop||2;this.wavesurfer.drawer.container,!1!==e.scroll&&this.wavesurfer.params.scrollParent;var r=e.scrollSpeed||1,i=e.scrollThreshold||28,s=void 0,a=this.wavesurfer.getDuration(),o=void 0,l=void 0,c=void 0,u=0,d=void 0,p=void 0,f=function e(n,i){if(l&&d){var s=r,c=t.wavesurfer.drawer.wrapper.getBoundingClientRect();if(-1===i)(u=Math.abs(c.left-n.clientX)-10)>0&&(s*=u/2);else if(1===i){var u;(u=Math.abs(n.clientX-c.right)-10)>0&&(s*=u/2)}var p=s*d/t.wavesurfer.getDuration();t.wavesurfer.LeftProgress+=p,t.wavesurfer.LeftProgress<0?t.wavesurfer.LeftProgress=0:t.wavesurfer.LeftProgress+t.wavesurfer.VisibleDuration>t.wavesurfer.getDuration()&&(t.wavesurfer.LeftProgress=t.wavesurfer.getDuration()-t.wavesurfer.VisibleDuration),t.wavesurfer.ForceDraw();var f=t.wavesurfer.ZoomifyValue(t.wavesurfer.drawer.handleEvent(n));l.update({start:Math.min(f*a,o*a),end:Math.max(f*a,o*a)}),t.wavesurfer.fireEvent("DidZoom"),Math.abs(p)>0&&window.requestAnimationFrame((function(){e(n,i)}))}},h=null,m=function(e){if(h=null,!(e.touches&&e.touches.length>1))if(3!==e.which){if(t.wavesurfer.Interacting|=1,a=t.wavesurfer.getDuration(),c=e.targetTouches?e.targetTouches[0].identifier:null,t.wrapper.scrollWidth,t.wrapper.clientWidth,p=t.wrapper.getBoundingClientRect(),s=!0,o=t.wavesurfer.ZoomifyValue(t.wavesurfer.drawer.handleEvent(e,!0)),l=null,d=null,document.body.addEventListener("mousemove",g),document.body.addEventListener("touchmove",g),e.shiftKey){var n=t.wavesurfer.ActiveMarker;e.stopPropagation(),e.preventDefault(),l=t.wavesurfer.regions.list[0];var r=2,i=t.wavesurfer.getDuration(),u=t.wavesurfer.drawer.handleEvent(e);if((u=t.wavesurfer.ZoomifyValue(u))<n){if(l&&l.start)n=u,u=l.end/i;else{var f=n;n=u,u=f}r=1}l?(l.update({start:n*i,end:u*i}),l.direction=r,o=1===r?u:n):(t.wavesurfer.regions.add({start:n*i,end:u*i,id:"t",direction:r}),(l=t.wavesurfer.regions.list[0]).direction=r,o=1===r?u:n,setTimeout((function(){ue.fireEvent("RequestSeekTo",n)}),20))}}else h={x:e.pageX,y:e.pageY}};this.wrapper.addEventListener("mousedown",m),this.wrapper.addEventListener("touchstart",m),this.on("disable-drag-selection",(function(){t.wrapper.removeEventListener("touchstart",m),t.wrapper.removeEventListener("mousedown",m),t.wrapper.removeEventListener("pointerdown",m)}));var v=function(e){if(!(e.touches&&e.touches.length>1))if(3!==e.which)t.wavesurfer.Interacting&=-2,s&&(document.body.removeEventListener("mousemove",g),document.body.removeEventListener("touchmove",g)),s=!1,u=0,d=null,l&&(t.util.preventClick(),l.fireEvent("update-end",e),t.wavesurfer.fireEvent("region-update-end",l,e)),l=null;else if(h){if(Math.abs(h.x-e.pageX)<3&&Math.abs(h.y-e.pageY)<7){var n=document.createEvent("Event");n.initEvent("pk_ctxmn",!0,!0),n.pageX=e.pageX,n.pageY=e.pageY,e.target.dispatchEvent(n)}h=null}};this.wrapper.addEventListener("mouseup",v),this.wrapper.addEventListener("touchend",v),document.body.addEventListener("mouseup",v),document.body.addEventListener("touchend",v),this.on("disable-drag-selection",(function(){document.body.removeEventListener("mouseup",v),document.body.removeEventListener("touchend",v),t.wrapper.removeEventListener("touchend",v),t.wrapper.removeEventListener("mouseup",v)}));var g=function(r){if(s&&3!==r.which&&!(++u<=n||r.touches&&r.touches.length>1||r.targetTouches&&r.targetTouches[0].identifier!=c)){l||(l=t.add(e||{}));var h=t.wavesurfer.ZoomifyValue(t.wavesurfer.drawer.handleEvent(r));if(l.update({start:Math.min(h*a,o*a),end:Math.max(h*a,o*a)}),t.wavesurfer.ZoomFactor>1){var m=r.clientX-p.left;(d=m<=i?-1:m>=p.right-p.left-i?1:null)&&f(r,d)}}};this.on("disable-drag-selection",(function(){document.body.removeEventListener("mousemove",g),document.body.removeEventListener("touchmove",g)}))}},{key:"disableDragSelection",value:function(){this.fireEvent("disable-drag-selection")}},{key:"getCurrentRegion",value:function(){var e=this,t=this.wavesurfer.getCurrentTime(),n=null;return Object.keys(this.list).forEach((function(r){var i=e.list[r];i.start<=t&&i.end>=t&&(!n||i.end-i.start<n.end-n.start)&&(n=i)})),n}}]),e}();de=a,t.default=a,e.exports=t.default}})}));var pe=de;const fe=function(e,t,n){let r=0,i=1,s=0;n=Math.min(n||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,r=2):255==e[0]&&254==e[1]&&(t=!1,r=2),t&&(i=0,s=1);const a=[];for(let t=0;r<n;t++){const n=e[r+i],o=(n<<8)+e[r+s];if(r+=2,0==o)break;if(n<216||n>=224)a[t]=String.fromCharCode(o);else{const n=(e[r+i]<<8)+e[r+s];r+=2,a[t]=String.fromCharCode(o,n)}}const o=new String(a.join(""));return o.bytesReadCount=r,o},he=function(e,t){let n=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(n=3);const r=[];for(let i=0;n<t;i++){const t=e[n++];if(0==t)break;if(t<128)r[i]=String.fromCharCode(t);else if(t>=194&&t<224){const s=e[n++];r[i]=String.fromCharCode(((31&t)<<6)+(63&s))}else if(t>=224&&t<240){const s=e[n++],a=e[n++];r[i]=String.fromCharCode(((255&t)<<12)+((63&s)<<6)+(63&a))}else if(t>=240&&t<245){const s=((7&t)<<18)+((63&e[n++])<<12)+((63&e[n++])<<6)+(63&e[n++])-65536;r[i]=String.fromCharCode(55296+(s>>10),56320+(1023&s))}}const i=new String(r.join(""));return i.bytesReadCount=n,i},me=(e,t)=>{const n=[];t=t||e.length;for(var r=0;r<t;){const t=e[r++];if(0==t)break;n[r-1]=String.fromCharCode(t)}const i=new String(n.join(""));return i.bytesReadCount=r,i},ve=(e,t,n)=>{const r=new Array(n);for(let i=0;i<n;i++)r[i]=e.getUint8(t+i);return r},ge=(e,t,n,r)=>{const i=ve(e,t,n);let s;switch(r.toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":s=fe(i,r);break;case"utf-8":s=he(i);break;default:s=me(i)}return s};class _e{static ReadTags(e){const t=new DataView(e);let n=0;const r=t.getUint8(n+3);if(r>4)return{version:">2.4"};const i=t.getUint8(n+4),s=$e(t,n+5,7),a=$e(t,n+5,6),o=$e(t,n+5,5),l=xe(n+6,t);if(n+=10,a){n+=t.getInt32(n,!0)+4}const c={version:"2."+r+"."+i,major:r,revision:i,flags:{unsynchronisation:s,extended_header:a,experimental_indicator:o},size:l},u=s?{}:Ce(n,l-10,t,c);for(const e in Re)if(Re.hasOwnProperty(e)){const t=Se(u,Re[e]);t&&(c[e]=t)}for(const e in u)u.hasOwnProperty(e)&&(c[e]=u[e]);return c}}_e.readFrameData={},_e.frames={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};const we=["32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. lable side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"],ye=(e,t,n)=>{const r=[];for(let i=t,s=0;i<t+n;i++,s++)r[s]=String.fromCharCode(e.getUint8(i));return r.join("")},be=function(e,t,n){const r=e.getUint8(t),i=e.getUint8(t+1),s=e.getUint8(t+2),a=e.getUint8(t+3);let o=n?(((r<<8)+i<<8)+s<<8)+a:(((a<<8)+s<<8)+i<<8)+r;return o<0&&(o+=4294967296),o},ke=function(e,t,n){let r=n?(e.getUint8(t)<<8)+e.getUint8(t+1):(e.getUint8(t+1)<<8)+e.getUint8(t);return r<0&&(r+=65536),r},Ee=(e,t,n)=>{const r=e.getUint8(t),i=e.getUint8(t+1),s=e.getUint8(t+2);let a=n?((r<<8)+i<<8)+s:((s<<8)+i<<8)+r;return a<0&&(a+=16777216),a},$e=(e,t,n)=>0!=(e.getUint8(t)&1<<n),xe=(e,t)=>{const n=t.getUint8(e),r=t.getUint8(e+1),i=t.getUint8(e+2);return 127&t.getUint8(e+3)|(127&i)<<7|(127&r)<<14|(127&n)<<21},Te=function(e,t){return{message:{tag_alter_preservation:$e(e,t,6),file_alter_preservation:$e(e,t,5),read_only:$e(e,t,4)},format:{grouping_identity:$e(e,t+1,7),compression:$e(e,t+1,3),encription:$e(e,t+1,2),unsynchronisation:$e(e,t+1,1),data_length_indicator:$e(e,t+1,0)}}},Re={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},Pe=["title","artist","album","track"],Se=function(e,t){"string"==typeof t&&(t=[t]);for(let n,r=0;n=t[r];r++)if(n in e)return e[n].data},Ce=function(e,t,n,r,i){const s={},a=r.major;for(i=(e=>{let t=[];for(let n,r=0;n=e[r];r++)t=t.concat(Re[n]||[n]);return t})(i||Pe);e<t;){let t=null;const r=n;let u=e,d=null;switch(a){case 2:var o=ye(r,u,3),l=Ee(r,u+3,!0),c=6;break;case 3:o=ye(r,u,4),l=be(r,u+4,!0),c=10;break;case 4:o=ye(r,u,4),l=xe(u+4,r),c=10}if(""==o)break;if(e+=c+l,i.indexOf(o)<0)continue;if(a>2&&(d=Te(r,u+8)),u+=c,d&&d.format.data_length_indicator&&(xe(u,r),u+=4,l-=4),d&&d.format.unsynchronisation)continue;o in _e.readFrameData?t=_e.readFrameData[o]:"T"==o[0]&&(t=_e.readFrameData["T*"]);const p=t?t(u,l,r,d):void 0,f={id:o,size:l,description:o in _e.frames?_e.frames[o]:"Unknown",data:p};o in s?(s[o].id&&(s[o]=[s[o]]),s[o].push(f)):s[o]=f}return s},Ae=e=>{let t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t};_e.readFrameData.APIC=function(e,t,n,r,i){i=i||"3";const s=e,a=Ae(n.getUint8(e));switch(i){case"2":var o=ye(n,e+1,3);e+=4;break;case"3":case"4":e+=1+(o=ge(n,e+1,t-(e-s),"")).bytesReadCount}const l=n.getUint8(e,1),c=we[l],u=ge(n,e+1,t-(e-s),a);return e+=1+u.bytesReadCount,{format:o.toString(),type:c,description:u.toString(),data:ve(n,e,s+t-e)}},_e.readFrameData.COMM=function(e,t,n){const r=e,i=Ae(n.getUint8(e)),s=ye(n,e+1,3),a=ge(n,e+4,t-4,i);e+=4+a.bytesReadCount;const o=ge(n,e,r+t-e,i);return{language:s,short_description:a.toString(),text:o.toString()}},_e.readFrameData.COM=_e.readFrameData.COMM,_e.readFrameData.PIC=function(e,t,n,r){return _e.readFrameData.APIC(e,t,n,r,"2")},_e.readFrameData.PCNT=function(e,t,n){return n.getInteger32At(e)},_e.readFrameData.CNT=_e.readFrameData.PCNT,_e.readFrameData["T*"]=function(e,t,n){const r=Ae(n.getUint8(e));return ge(n,e+1,t-1,r).toString()},_e.readFrameData.TCON=function(e,t,n){const r=_e.readFrameData["T*"].apply(this,arguments);return r.replace(/^\(\d+\)/,"")},_e.readFrameData.TCO=_e.readFrameData.TCON,_e.readFrameData.USLT=function(e,t,n){const r=e,i=Ae(n.getUint8(e)),s=ye(n,e+1,3),a=ge(n,e+4,t-4,i);e+=4+a.bytesReadCount;const o=ge(n,e,r+t-e,i);return{language:s,descriptor:a.toString(),lyrics:o.toString()}},_e.readFrameData.ULT=_e.readFrameData.USLT;class De{static loadData(e,t){const n=new DataView(e);Fe(n,0,n.byteLength,t)}}function Fe(e,t,n,r){const i=be(e,t,!0);if(0==i)return r();const s=ye(e,t+4,4);["moov","udta","meta","ilst"].indexOf(s)>-1?("meta"==s&&(t+=4),Fe(e,t+8,i-8,r)):Fe(e,t+i,n,r)}function qe(e,t,n,r,i){let s=n;for(;s<n+r;){const n=t.getInt32(s);if(0==n)return;const r=ye(t,s+4,4);if("meta"===r)return s+=4,void qe(e,t,s+8,n-8);if("moov"===r||"udta"===r||"ilst"===r)return void qe(e,t,s+8,n-8);if(De.atom[r]){const i=Ee(t,s+16+1,!0),a=De.atom[r],o=De.types[i];if("trkn"===r)e[a[0]]=t.getUint8(s+16+11),e.count=t.getUint8(s+16+13);else{const r=s+16+4+4,i=n-16-4-4;let l;switch(o){case"text":l=ge(t,r,i,"UTF-8");break;case"uint8":l=ke(t,r);break;case"jpeg":case"png":l={format:"image/"+o,data:ve(t,r,i)}}"comment"===a[0]?e[a[0]]={text:l}:e[a[0]]=l}}s+=n}}De.types={0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},De.atom={"alb":["album"],"art":["artist"],"ART":["artist"],aART:["artist"],"day":["year"],"nam":["title"],"gen":["genre"],trkn:["track"],"wrt":["composer"],"too":["encoder"],cprt:["copyright"],covr:["picture"],"grp":["grouping"],keyw:["keyword"],"lyr":["lyrics"],"cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]},De.ReadTags=function(e){const t=new DataView(e),n={};return qe(n,t,0,t.byteLength),n};const Le=(e,t,n)=>{let r=document.createElement("div"),i="pk_oneup pk_noselect";r.style.cssText="margin-top:20px;opacity:0",n&&(i=i+" "+n),r.className=i,r.innerHTML=e||"",document.body.appendChild(r),setTimeout((()=>{r.style.cssText="margin-top:0px;opacity:1",setTimeout((function(){r.style.cssText="margin-top:-20px;opacity:0",setTimeout((()=>{r.parentNode.removeChild(r),r=null}),330)}),t||720)}),25)};let ze=null;class Me{constructor(e,t){this.FXBank={Gain:e=>(console.warn("Gain"),{filter:(t,n,r,i)=>{const s=t.createGain();for(let n=0;n<e.length;++n){const r=e[n];if(r.length)for(let e=0;e<r.length;++e)s.gain.linearRampToValueAtTime(r[e].val,t.currentTime+r[e].time);else s.gain.setValueAtTime(r.val,t.currentTime)}return s.connect(n),r.connect(s),s},update:(e,t,n)=>{console.warn("update");for(let r=0;r<n.length;++r){const i=n[r];if(i.length)for(let n=0;n<i.length;++n)e.gain.linearRampToValueAtTime(i[n].val,t.currentTime+i[n].time);else e.gain.setValueAtTime(i.val,t.currentTime)}}}),FadeIn:e=>({filter:(e,t,n,r)=>{const i=e.createGain();return i.gain.setValueAtTime(0,e.currentTime),i.gain.linearRampToValueAtTime(1,e.currentTime+r/1),i.connect(t),n.connect(i),i}}),FadeOut:()=>({filter:(e,t,n,r)=>{const i=e.createGain();return i.gain.setValueAtTime(1,e.currentTime),i.gain.linearRampToValueAtTime(0,e.currentTime+r/1),i.connect(t),n.connect(i),i}}),Compressor:e=>({filter:(t,n,r,i)=>{const s=t.createDynamicsCompressor();for(const n in e)if(e[n].length)for(let r=0;r<e[n].length;++r){const i=e[n][r];s[n].linearRampToValueAtTime(i.val,t.currentTime+i.time)}else s[n].setValueAtTime(e[n].val,t.currentTime);return s.connect(n),r.connect(s),s},update:(e,t,n)=>{console.warn("update");for(const r in n)if(n[r].length)for(let i=0;i<n[r].length;++i){const s=n[r][i];e[r].linearRampToValueAtTime(s.val,t.currentTime+s.time)}else e[r].setValueAtTime(n[r].val,t.currentTime)}}),Reverse:e=>({filter:(e,t,n,r)=>{for(let e=0;e<n.buffer.numberOfChannels;++e)Array.prototype.reverse.call(n.buffer.getChannelData(e));return n.connect(t),n},update:()=>{}}),Invert:e=>({filter:(e,t,n,r)=>{for(let e=0;e<n.buffer.numberOfChannels;++e){const t=n.buffer.getChannelData(e);for(let e=0;e<t.length;++e)t[e]*=-1}return n.connect(t),n},update:()=>{}}),Flip:(e,t)=>({filter:(t,n,r,i)=>{if("flip"===e){const e=r.buffer.getChannelData(0),t=r.buffer.getChannelData(1);let n=0;for(let r=0;r<e.length;++r)n=e[r],e[r]=t[r],t[r]=n}return r.connect(n),r},update:()=>{}}),Normalize:e=>({filter:(t,n,r,i)=>{const s=e[1]||1,a=e[0];let o=0;for(let e=0;e<r.buffer.numberOfChannels;++e){const t=r.buffer.getChannelData(e);for(let e=1,n=t.length;e<n;e+=10){const n=Math.abs(t[e]);o<n&&(o=n)}const n=s/o;if(!a){for(let e=0,r=t.length;e<r;++e)t[e]*=n;o=0}}if(a){const e=s/o;for(let t=0;t<r.buffer.numberOfChannels;++t){const n=r.buffer.getChannelData(t);for(let t=0,r=n.length;t<r;++t)n[t]*=e}}return r.connect(n),r},update:()=>{}}),HardLimit:e=>({filter:(t,n,r,i)=>{const s=e[1]||1,a=e[2]||0;let o=e[3]||15,l=0;const c=t.createBuffer(r.buffer.numberOfChannels,r.buffer.length,r.buffer.sampleRate);o=o*c.sampleRate/1e3>>0;for(let e=0;e<c.numberOfChannels;++e){const t=c.getChannelData(e);t.set(r.buffer.getChannelData(e));for(let e=0,n=t.length;e<n;++e){for(let n=0;n<o;n+=10){const r=Math.abs(t[e+n]);l<r&&(l=r)}const n=s/l;for(let r=0;r<o;++r){const i=t[e+r],o=i*n;let l=s-Math.abs(o);l*=i<0?-a:a,t[e+r]=o+l}e+=o,l=0}}const u=t.createBufferSource();return u.buffer=c,u.loop=!0,u.start(),u.connect(n),u},update:(e,t,n,r)=>{e.disconnect(),e.buffer=null,e=null;const i=this.FXBank.HardLimit(n);this.PreviewFilter=i.filter(t,this.audio_destination,r,0)}}),ParametricEQ:e=>({filter:(t,n,r,i)=>{const s=[],a=e.length,o=e=>{const n=t.createBiquadFilter();if(e.length){for(let r=0;r<e.length;++r)n.gain.linearRampToValueAtTime(~~e[r].val,t.currentTime+e[r].time);e=e[0]}else n.gain.value=~~e.val;return n.type=e.type,n.Q.value=e.q||1,n.frequency.value=e.freq,n};e[0]||(e[0]={type:"peaking",val:0,q:1,freq:500});let l=o(e[0]);if(s.push(l),r.connect(l),1===e.length)return l.connect(n),s;for(let t=1;t<a-1;++t)l=o(e[t]),s[t-1].connect(l),s.push(l);return l=o(e[a-1]),s[s.length-1].connect(l),s.push(l),l.connect(n),s},update:(e,t,n,r)=>{if(e.length!==n.length){const i=e=>t.createBiquadFilter();if(e.length<n.length){let t=n.length-e.length;for(;t-- >0;){const t=i(),n=e[0];e.unshift(t),t.connect(n)}r.disconnect(),r.connect(e[0])}else if(n.length>0){const t=e.length-n.length;r.disconnect();for(let n=0;n<t;++n){e.shift().disconnect()}r.connect(e[0])}else n[0]={type:"peaking",val:0,q:1,freq:500}}const i=n.length;for(let t=0;t<i;++t){const r=e[t];r.type=n[t].type,r.gain.value=~~n[t].val,r.Q.value=n[t].q||1,r.frequency.value=n[t].freq}}}),Speed:e=>{let t=1;return{filter:(t,n,r,i)=>{const s=t.createGain();r.playbackRate.value=e,r.connect(s),s.connect(n);return[s]},preview:(e,n)=>{n.playbackRate.value=e?t:1},update:(e,n,r,i)=>{t=r,i.playbackRate.value=r}}},Delay:e=>({filter:(t,n,r,i)=>{const s=t.createGain(),a=t.createGain(),o=t.createGain(),l=t.createGain(),c=t.createGain(),u=t.createDelay();r.connect(s),s.connect(o),o.connect(a),u.connect(c),c.connect(u),s.connect(u),u.connect(l),l.connect(a),a.connect(n);const d=[s,a,o,l,c,u];if(e.delay.length)for(let n=0;n<e.delay.length;++n)u.delayTime.linearRampToValueAtTime(e.delay[n].val,e.delay[n].time+t.currentTime);else u.delayTime.value=e.delay.val;if(e.feedback.length)for(let n=0;n<e.feedback.length;++n)c.gain.linearRampToValueAtTime(e.feedback[n].val,e.feedback[n].time+t.currentTime);else c.gain.value=e.feedback.val;if(e.mix.length)for(let n=0;n<e.mix.length;++n)o.gain.linearRampToValueAtTime(1-2*(e.mix[n].val-.5),e.mix[n].time+t.currentTime),l.gain.linearRampToValueAtTime(1-2*(.5-e.mix[n].val),e.mix[n].time+t.currentTime);else o.gain.value=1-2*(e.mix.val-.5),l.gain.value=1-2*(.5-e.mix.val);return d},update:(e,t,n)=>{e[0],e[1];const r=e[2],i=e[3],s=e[4],a=e[5];if(n.delay.length)for(let e=0;e<n.delay.length;++e)a.delayTime.linearRampToValueAtTime(n.delay[e].val,n.delay[e].time+t.currentTime);else a.delayTime.value=n.delay.val;if(n.feedback.length)for(let e=0;e<n.feedback.length;++e)s.gain.linearRampToValueAtTime(n.feedback[e].val,n.feedback[e].time+t.currentTime);else s.gain.value=n.feedback.val;if(n.mix.length)for(let e=0;e<n.mix.length;++e)r.gain.linearRampToValueAtTime(1-2*(n.mix[e].val-.5),n.mix[e].time+t.currentTime),i.gain.linearRampToValueAtTime(1-2*(.5-n.mix[e].val),n.mix[e].time+t.currentTime);else r.gain.value=1-2*(n.mix.val-.5),i.gain.value=1-2*(.5-n.mix.val)}}),Distortion:e=>({filter:(t,n,r,i)=>{const s=t.createWaveShaper(),a=e=>{const t=parseInt(""+e/1*100,10),n=44100,r=new Float32Array(n),i=Math.PI/180;let s;for(let e=0;e<n;++e)s=2*e/n-1,r[e]=(3+t)*s*20*i/(Math.PI+t*Math.abs(s));return r};for(let n=0;n<e.length;++n){const r=e[n];if(r.length)for(let e=0;e<r.length;++e)s.curve.linearRampToValueAtTime(a(r[e].val),t.currentTime+r[e].time);else s.curve=a(r.val)}return r.connect(s),s.connect(n),s},update:(e,t,n)=>{const r=e=>{const t=parseInt(""+e/1*100,10),n=44100,r=new Float32Array(n),i=Math.PI/180;let s;for(let e=0;e<n;++e)s=2*e/n-1,r[e]=(3+t)*s*20*i/(Math.PI+t*Math.abs(s));return r};for(let i=0;i<n.length;++i){const s=n[i];if(s.length)for(let n=0;n<s.length;++n)e.curve.linearRampToValueAtTime(r(s[n].val),t.currentTime+s[n].time);else e.curve=r(s.val)}}}),Reverb:e=>({filter:(t,n,r,i)=>{const s=t.createGain(),a=t.createConvolver(),o=t.createGain(),l=t.createGain(),c=t.createGain();r.connect(s),s.connect(a),a.connect(l),s.connect(c),c.connect(o),l.connect(o),o.connect(n);const u=[s,o,a,c,l];c.gain.value=1-2*(e.mix-.5),l.gain.value=1-2*(.5-e.mix);const d=t.sampleRate*e.time,p=t.createBuffer(2,d,t.sampleRate),f=p.getChannelData(0),h=p.getChannelData(1);let m,v;for(v=0;v<d;v++)m=e.reverse?d-v:v,f[v]=(2*Math.random()-1)*Math.pow(1-m/d,e.decay),h[v]=(2*Math.random()-1)*Math.pow(1-m/d,e.decay);return a.buffer=p,u},update:(e,t,n)=>{t=this.wavesurfer.backend.ac;const r=e[2],i=e[3],s=e[4];i.gain.value=1-2*(n.mix-.5),s.gain.value=1-2*(.5-n.mix);const a=t.sampleRate*n.time,o=t.createBuffer(2,a,t.sampleRate),l=o.getChannelData(0),c=o.getChannelData(1);let u,d;for(d=0;d<a;d++)u=n.reverse?a-d:d,l[d]=(2*Math.random()-1)*Math.pow(1-u/a,n.decay),c[d]=(2*Math.random()-1)*Math.pow(1-u/a,n.decay);r.buffer=o}})},this.wavesurfer=t,this.master=e,this.audio_destination=this.wavesurfer.backend.analyser;const n=this.audio_ctx=this.wavesurfer.backend.ac;this.audio_script_node=n.createScriptProcessor(256)}loadDecoded(e){this.wavesurfer.loadDecodedBuffer(e),ue.fireEvent("DidUpdateLen",this.wavesurfer.getDuration())}getAudioContext(){return window.WaveSurferAudioContext||(window.WaveSurferAudioContext=new(window.AudioContext||window.webkitAudioContext)),window.WaveSurferAudioContext}getOfflineAudioContext(e,t,n){return new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(e,n,t)}DownloadFileCancel(){ze&&(ze.terminate(),ze=null)}DownloadFile(e,t,n,r,i,s){if(!(this.wavesurfer&&this.wavesurfer.backend&&this.wavesurfer.backend.buffer))return!1;ze="mp3"===t?new Worker("/lame.js"):new Worker("/wav.js");const a=this.wavesurfer.backend.buffer,o=a.sampleRate;let l=a.numberOfChannels,c=a.getChannelData(0),u=null;2===l&&(u=a.getChannelData(1)),i||2!==l||!this.wavesurfer.ActiveChannels[0]&&this.wavesurfer.ActiveChannels[1]&&(c=a.getChannelData(1),u=null,l=1),i&&!u?(u=c,l=2):!i&&u&&(u=null,l=1);let d=c.length,p=0,f=0;r&&(f=r[0]*o>>0,d=(r[1]*o>>0)-f);const h=new Int16Array(d);let m=null;const v=e=>{const t=e<0?32768*e:32767*e;return Math.max(-32768,Math.min(32768,t))};if(u)for(m=new Int16Array(d);p<d;)h[p]=v(c[f+p]),m[p]=v(u[f+p]),++p;else for(;p<d;)h[p]=v(c[f+p]),++p;ze.onmessage=e=>{e.data.percentage?s&&s(e.data.percentage):(g(e.data),ze.terminate(),ze=null)},ze.postMessage({sample_rate:o,kbps:n||128,channels:l}),ze.postMessage(h.buffer,[h.buffer]),u?ze.postMessage(m.buffer,[m.buffer]):ze.postMessage(null);const g=t=>{const n=(window.URL||window.webkitURL).createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e||"output.mp3",r.style.display="none",document.body.appendChild(r),r.click(),s&&s("done")}}MakeSilence(e){const t=this.wavesurfer.backend.buffer;return this.wavesurfer.backend.ac.createBuffer(t.numberOfChannels,e*t.sampleRate,t.sampleRate)}FullReplace(e){this.loadDecoded(e),setTimeout((()=>{this.wavesurfer.drawBuffer()}),40)}Replace(e,t,n){this.Trim(e,t,!0);const r=this.Insert(e,n);return setTimeout((()=>{this.wavesurfer.drawBuffer()}),40),r}ReplaceFloatArrays(e,t){const n=this.wavesurfer.backend.buffer,r=t.length,i=t[0].length,s=i*r;let a=n.length;a<(e=e/1*n.sampleRate>>0)+s&&(a=e+s);const o=this.wavesurfer.backend.ac.createBuffer(n.numberOfChannels,a,n.sampleRate);for(let a=0;a<n.numberOfChannels;a++){const l=n.getChannelData(a),c=o.getChannelData(a);e>0&&c.set(l.slice(0,e));for(let n=0;n<r;++n)c.set(t[n],e+n*i);e<n.length+s&&c.set(l.slice(e+s),e+s)}return this.loadDecoded(o),[e/n.sampleRate,e/n.sampleRate+s/n.sampleRate]}InsertFloatArrays(e,t){const n=this.wavesurfer.backend.buffer,r=t.length,i=t[0].length,s=i*r;e=e/1*n.sampleRate>>0;const a=this.wavesurfer.backend.ac.createBuffer(n.numberOfChannels,n.length+s,n.sampleRate);for(let o=0;o<n.numberOfChannels;o++){const l=n.getChannelData(o),c=a.getChannelData(o);e>0&&c.set(l.slice(0,e));for(let n=0;n<r;++n)c.set(t[n],e+n*i);e<n.length+s&&c.set(l.slice(e),e+s)}return this.loadDecoded(a),[e/n.sampleRate,e/n.sampleRate+s/n.sampleRate]}Insert(e,t){const n=this.wavesurfer.backend.buffer,r=this.wavesurfer.backend.ac.createBuffer(n.numberOfChannels,n.length+t.length,n.sampleRate);e=e/1*n.sampleRate>>0;for(let i=0;i<n.numberOfChannels;++i){const s=n.getChannelData(i),a=r.getChannelData(i);let o=null;o=1===t.numberOfChannels?t.getChannelData(0):t.getChannelData(i),1!==this.wavesurfer.SelectedChannelsLen||0!==this.wavesurfer.ActiveChannels[i]?(e>0&&a.set(s.slice(0,e)),a.set(o,e),e<n.length+t.length&&a.set(s.slice(e),e+o.length)):a.set(s)}return this.loadDecoded(r),[e/n.sampleRate,e/n.sampleRate+t.length/n.sampleRate]}Copy(e,t){const n=this.wavesurfer.backend.buffer,r=t/1*n.sampleRate>>0,i=e/1*n.sampleRate>>0,s=this.wavesurfer.backend.ac.createBuffer(this.wavesurfer.SelectedChannelsLen,r,n.sampleRate);for(let e=0,t=0;e<this.wavesurfer.ActiveChannels.length;++e)0!==this.wavesurfer.ActiveChannels[e]&&(s.getChannelData(t).set(n.getChannelData(e).slice(i,r+i)),++t);return s}Trim(e,t,n){const r=this.wavesurfer.backend.buffer,i=t*r.sampleRate>>0,s=e*r.sampleRate>>0,a=this.wavesurfer.backend.ac.createBuffer(n?r.numberOfChannels:this.wavesurfer.SelectedChannelsLen,i,r.sampleRate);let o=null;if(!n&&this.wavesurfer.SelectedChannelsLen<r.numberOfChannels){o=this.wavesurfer.backend.ac.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let e=0;e<r.numberOfChannels;++e){const t=r.getChannelData(e),n=o.getChannelData(e);if(0===this.wavesurfer.ActiveChannels[e])n.set(t);else{a.getChannelData(0).set(t.slice(s,s+i)),n.set(t.slice(0,s)),n.set(t.slice(s+i),s+i)}}}else{o=this.wavesurfer.backend.ac.createBuffer(r.numberOfChannels,r.length-i||1,r.sampleRate);for(let e=0;e<r.numberOfChannels;++e){const t=r.getChannelData(e),n=a.getChannelData(e),l=o.getChannelData(e);n.set(t.slice(s,s+i)),l.set(t.slice(0,s)),l.set(t.slice(s+i),s)}}return this.loadDecoded(o),a}FX(e,t,n){const r=this.wavesurfer.backend.buffer;e||t||(e=0,t=r.length/r.sampleRate>>0),e<0&&(e=0),this.wavesurfer.getDuration()<t&&(t=this.wavesurfer.getDuration());let i=this.Copy(e,t);const s=e/1*r.sampleRate>>0,a=this.getOfflineAudioContext(this.wavesurfer.SelectedChannelsLen,r.sampleRate,i.length),o=a.createBufferSource();o.buffer=i;let l=null;n&&(l=n.filter(a,a.destination,o,t/1)),o.start();const c=e=>{const t=this.wavesurfer.backend.ac.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let n=0;n<r.numberOfChannels;++n){const i=t.getChannelData(n),a=r.getChannelData(n);if(0===this.wavesurfer.ActiveChannels[n]){i.set(a);continue}let o=null;o=1===e.numberOfChannels?e.getChannelData(0):e.getChannelData(n),i.set(a),i.set(o,s,o.length-s)}if(this.loadDecoded(t),l.length>0)for(let e=0;e<l.length;++e)l[e].disconnect();else l&&l.disconnect&&l.disconnect();e=i=l=null,o.disconnect()},u=a.startRendering();u?u.then(c).catch((e=>{console.error("Rendering failed: "+e)})):a.oncomplete=e=>{c(e.renderedBuffer)}}FXPreview(e,t,n){this.previewing&&this.FXPreviewStop();const r=this.wavesurfer.backend.buffer;e||t||(e=0,t=r.length/r.sampleRate>>0);const i=this.audio_script_node,s=this.Copy(e,t),a=this.wavesurfer.backend.ac||this.getAudioContext(),o=a.createBufferSource();o.buffer=s,o.loop=!0,this.PreviewFilter=this.PreviewTog=null,n?(this.PreviewTog=n.preview,this.PreviewUpdate=n.update,this.PreviewFilter=n.filter(a,this.audio_destination,o,t/1)):o.connect(this.audio_destination),i.disconnect(),this.wavesurfer.backend.scriptNode.disconnect(),i.connect(a.destination);let l=1,c=0,u=null;return i.onaudioprocess=e=>{const t=[0,0];let n=0;if(--l,0===l){if(this.audio_destination.getFloatTimeDomainData){c!==this.audio_destination.fftSize&&(u=new Float32Array(this.audio_destination.fftSize),c=this.audio_destination.fftSize),this.audio_destination.getFloatTimeDomainData(u);for(let e=0;e<this.audio_destination.fftSize;e+=1){const t=u[e];Math.abs(t)>=n&&(n=Math.abs(t))}t[0]=20*Math.log10(n)+.001}else{c!==this.audio_destination.fftSize&&(u=new Uint8Array(this.audio_destination.fftSize),c=this.audio_destination.fftSize),this.audio_destination.getByteTimeDomainData(u);let e=0;for(let t=0;t<this.audio_destination.fftSize;t+=1){const n=u[t]/128-1;e+=n*n}const n=Math.sqrt(e/this.audio_destination.fftSize);t[0]=Math.log(n)/Math.log(10)*20}t[0]<-100&&(t[0]=-100),t[1]=t[0],this.audio_destination.getByteFrequencyData(this.wavesurfer.backend.FreqArr),ue.fireEvent("DidAudioProcess",[-1,t,e.timeStamp],this.wavesurfer.backend.FreqArr),l=2}},o.start(),this.PreviewSource=o,this.PreviewDestination=this.audio_destination,this.previewing=2,this.previewVal||this.FXPreviewToggle.call(this),o}FXPreviewInit(e){this.previewVal=e}FXPreviewToggle(){return this.previewing?2===this.previewing?(this.PreviewTog&&this.PreviewTog(!1,this.PreviewSource),this.PreviewSource.disconnect(),this.PreviewSource.connect(this.PreviewDestination),this.previewing=1,this.previewVal=!1,!1):(this.PreviewSource.disconnect(),this.PreviewFilter&&(this.PreviewFilter.length>0?!this.PreviewFilter[0].buffer&&this.PreviewSource.connect(this.PreviewFilter[0]):(!this.PreviewFilter.buffer&&this.PreviewSource.connect(this.PreviewFilter),this.PreviewFilter.disconnect(),this.PreviewFilter.connect(this.PreviewDestination))),this.PreviewTog&&this.PreviewTog(!0,this.PreviewSource),this.previewing=2,this.previewVal=!0,!0):(this.previewVal=!this.previewVal,this.previewVal)}FXPreviewStop(){if(!this.previewing)return;if(this.PreviewFilter)if(this.PreviewFilter.length>0)for(let e=0;e<this.PreviewFilter.length;++e)this.PreviewFilter[e].disconnect();else this.PreviewFilter.disconnect();this.audio_script_node.disconnect(),this.wavesurfer.backend.scriptNode.connect(this.audio_ctx.destination),this.PreviewSource.stop(),this.PreviewSource.disconnect(),this.PreviewDestination=this.PreviewSource=this.PreviewFilter=this.PreviewUpdate=null,this.previewing=0}FXPreviewUpdate(e){this.previewing&&this.PreviewUpdate&&this.PreviewUpdate(this.PreviewFilter,this.audio_ctx,e,this.PreviewSource)}}const Oe=/iphone|ipod|ipad|android/.test(navigator.userAgent.toLowerCase()),Ne=[];function Ie(t,n=e){let r;const i=[];function a(e){if(s(t,e)&&(t=e,r)){const e=!Ne.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),Ne.push(n,t)}if(e){for(let e=0;e<Ne.length;e+=2)Ne[e][0](Ne[e+1]);Ne.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(s,o=e){const l=[s,o];return i.push(l),1===i.length&&(r=n(a)||e),s(t),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}function Be(t,n,s){const o=!Array.isArray(t),l=o?[t]:t,c=n.length<2;return function(e,t){return{subscribe:Ie(e,t).subscribe}}(s,(t=>{let s=!1;const u=[];let d=0,p=e;const f=()=>{if(d)return;p();const r=n(o?u[0]:u,t);c?t(r):p=i(r)?r:e},h=l.map(((e,t)=>a(e,(e=>{u[t]=e,d&=~(1<<t),s&&f()}),(()=>{d|=1<<t}))));return s=!0,f(),function(){r(h),p()}}))}const Ue=Ie(null),je={on:!1,by:null,arr:[],check:function(e){return!(this.on&&this.by!==e)},checkAndSet:function(e){return!!this.check(e)&&(this.on=!0,this.by=e,!0)},forceSet:function(e){this.on&&this.arr.push({on:this.on,by:this.by}),this.on=!0,this.by=e},forceUnset:function(e){if(this.check(e)){const e=this.arr.pop();e?(this.on=e.on,this.by=e.by):(this.on=!1,this.by=null)}}};var Xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ve(e){var t={exports:{}};return e(t,t.exports),t.exports}var He=Ve((function(e){!function(t,n,r){if(t){for(var i,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},l={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},c=1;c<20;++c)s[111+c]="f"+c;for(c=0;c<=9;++c)s[c+96]=c.toString();v.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},v.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},v.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},v.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},v.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(m(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},v.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);i=null},v.init=function(){var e=v(n);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),t.Mousetrap=v,e.exports&&(e.exports=v)}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function d(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:a[e.which]?a[e.which]:String.fromCharCode(e.which).toLowerCase()}function p(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function f(e,t,n){return n||(n=function(){if(!i)for(var e in i={},s)e>95&&e<112||s.hasOwnProperty(e)&&(i[s[e]]=e);return i}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function h(e,t){var n,r,i,s=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],l[r]&&(r=l[r]),t&&"keypress"!=t&&o[r]&&(r=o[r],s.push("shift")),p(r)&&s.push(r);return{key:r,modifiers:s,action:t=f(r,s,t)}}function m(e,t){return null!==e&&e!==n&&(e===t||m(e.parentNode,t))}function v(e){var t=this;if(e=e||n,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var r,i={},s=!1,a=!1,o=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(o=!1)}function c(e,n,r,s,a,o){var l,c,u,d,f=[],h=r.type;if(!t._callbacks[e])return[];for("keyup"==h&&p(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(s||!c.seq||i[c.seq]==c.level)&&h==c.action&&("keypress"==h&&!r.metaKey&&!r.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var m=!s&&c.combo==a,v=s&&c.seq==s&&c.level==o;(m||v)&&t._callbacks[e].splice(l,1),f.push(c)}return f}function f(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function m(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=d(e);n&&("keyup"!=e.type||s!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):s=!1)}function g(e,t,n,a){function c(t){return function(){o=t,++i[e],clearTimeout(r),r=setTimeout(l,1e3)}}function u(t){f(n,t,e),"keyup"!==a&&(s=d(t)),setTimeout(l,10)}i[e]=0;for(var p=0;p<t.length;++p){var m=p+1===t.length?u:c(a||h(t[p+1]).action);_(t[p],m,a,e,p)}}function _(e,n,r,i,s){t._directMap[e+":"+r]=n;var a,o=(e=e.replace(/\s+/g," ")).split(" ");o.length>1?g(e,o,n,r):(a=h(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},i,e,s),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:s,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),s={},u=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(u=Math.max(u,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=u)continue;d=!0,s[i[r].seq]=1,f(i[r].callback,n,i[r].combo,i[r].seq)}else d||f(i[r].callback,n,i[r].combo);var h="keypress"==n.type&&a;n.type!=o||p(e)||h||l(s),a=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)_(e[r],t,n)},u(e,"keypress",m),u(e,"keydown",m),u(e,"keyup",m)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)}));const Ze={};class We{static add(e,t){Ze[e]?He.unbind(e):Ze[e]=[],Ze[e].push(t),He.bind(e,t)}static removeLast(e){const t=Ze[e];He.unbind(e),t&&(1!==t.length?(t.splice(-1,1),He.bind(e,t[t.length-1])):Ze[e]=null)}}
/*!@license
     * UAParser.js v0.7.28
     * Lightweight JavaScript-based User-Agent string parser
     * https://github.com/faisalman/ua-parser-js
     *
     * Copyright  2012-2021 Faisal Salman <f@faisalman.com>
     * Licensed under MIT License
     */var Ge=Ve((function(e,t){!function(n,r){var i="function",s="object",a="string",o="model",l="name",c="type",u="vendor",d="version",p="architecture",f="console",h="mobile",m="tablet",v="smarttv",g="wearable",_="embedded",w={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return typeof e===a&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r},trim:function(e,t){return e=e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),void 0===t?e:e.substring(0,255)}},y={rgx:function(e,t){for(var n,a,o,l,c,u,d=0;d<t.length&&!c;){var p=t[d],f=t[d+1];for(n=a=0;n<p.length&&!c;)if(c=p[n++].exec(e))for(o=0;o<f.length;o++)u=c[++a],typeof(l=f[o])===s&&l.length>0?2==l.length?typeof l[1]==i?this[l[0]]=l[1].call(this,u):this[l[0]]=l[1]:3==l.length?typeof l[1]!==i||l[1].exec&&l[1].test?this[l[0]]=u?u.replace(l[1],l[2]):r:this[l[0]]=u?l[1].call(this,u,l[2]):r:4==l.length&&(this[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):r):this[l]=u||r;d+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(w.has(t[n][i],e))return"?"===n?r:n}else if(w.has(t[n],e))return"?"===n?r:n;return e}},b={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[l,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[l,d],[/opios[\/\s]+([\w\.]+)/i],[d,[l,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[d,[l,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,d],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[d,[l,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[d,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[l,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[d,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure Browser"],d],[/focus\/([\w\.]+)/i],[d,[l,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[d,[l,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[d,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[l,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[l,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[d,[l,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[l,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 Browser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],d],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[l,d],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[l],[/;fbav\/([\w\.]+);/i],[d,[l,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[l,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[l,d],[/\bgsa\/([\w\.]+)\s.*safari\//i],[d,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,"Chrome WebView"],d],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[d,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,d],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[d,[l,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[d,l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[d,y.str,b.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[l,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],d],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[d,[l,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows\s(ce|mobile);\sppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[p,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,w.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[o,[u,"Samsung"],[c,m]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[o,[u,"Samsung"],[c,h]],[/\((ip(?:hone|od)[\s\w]*);/i],[o,[u,"Apple"],[c,h]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[u,"Apple"],[c,m]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[o,[u,"Huawei"],[c,m]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[o,[u,"Huawei"],[c,h]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[o,/_/g," "],[u,"Xiaomi"],[c,h]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[o,/_/g," "],[u,"Xiaomi"],[c,m]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[o,[u,"OPPO"],[c,h]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[o,[u,"Vivo"],[c,h]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[o,[u,"Realme"],[c,h]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[o,[u,"Motorola"],[c,h]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[u,"Motorola"],[c,m]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[o,[u,"LG"],[c,m]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[o,[u,"LG"],[c,h]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[o,[u,"Lenovo"],[c,m]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[o,/_/g," "],[u,"Nokia"],[c,h]],[/droid.+;\s(pixel\sc)[\s)]/i],[o,[u,"Google"],[c,m]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[o,[u,"Google"],[c,h]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[u,"Sony"],[c,h]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[o,"Xperia Tablet"],[u,"Sony"],[c,m]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[o,[u,"OnePlus"],[c,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[o,[u,"Amazon"],[c,m]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[o,"Fire Phone"],[u,"Amazon"],[c,h]],[/\((playbook);[\w\s\),;-]+(rim)/i],[o,u,[c,m]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[o,[u,"BlackBerry"],[c,h]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[o,[u,"ASUS"],[c,m]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[o,[u,"ASUS"],[c,h]],[/(nexus\s9)/i],[o,[u,"HTC"],[c,m]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[u,[o,/_/g," "],[c,h]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[o,[u,"Acer"],[c,m]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[o,[u,"Meizu"],[c,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[u,o,[c,h]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[u,o,[c,m]],[/\s(surface\sduo)\s/i],[o,[u,"Microsoft"],[c,m]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[o,[u,"Fairphone"],[c,h]],[/\s(u304aa)\sbuild/i],[o,[u,"AT&T"],[c,h]],[/sie-(\w*)/i],[o,[u,"Siemens"],[c,h]],[/[;\/]\s?(rct\w+)\sbuild/i],[o,[u,"RCA"],[c,m]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[o,[u,"Dell"],[c,m]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[o,[u,"Verizon"],[c,m]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[o,[u,"Barnes & Noble"],[c,m]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[o,[u,"NuVision"],[c,m]],[/;\s(k88)\sbuild/i],[o,[u,"ZTE"],[c,m]],[/;\s(nx\d{3}j)\sbuild/i],[o,[u,"ZTE"],[c,h]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[o,[u,"Swiss"],[c,h]],[/[;\/]\s?(zur\d{3})\sbuild/i],[o,[u,"Swiss"],[c,m]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[o,[u,"Zeki"],[c,m]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[u,"Dragon Touch"],o,[c,m]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[o,[u,"Insignia"],[c,m]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[o,[u,"NextBook"],[c,m]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[u,"Voice"],o,[c,h]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[u,"LvTel"],o,[c,h]],[/;\s(ph-1)\s/i],[o,[u,"Essential"],[c,h]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[o,[u,"Envizen"],[c,m]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[o,[u,"MachSpeed"],[c,m]],[/[;\/]\s?tu_(1491)\sbuild/i],[o,[u,"Rotor"],[c,m]],[/(shield[\w\s]+)\sbuild/i],[o,[u,"Nvidia"],[c,m]],[/(sprint)\s(\w+)/i],[u,o,[c,h]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[u,"Microsoft"],[c,h]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[u,"Zebra"],[c,m]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[u,"Zebra"],[c,h]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[u,o,[c,f]],[/droid.+;\s(shield)\sbuild/i],[o,[u,"Nvidia"],[c,f]],[/(playstation\s[345portablevi]+)/i],[o,[u,"Sony"],[c,f]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[o,[u,"Microsoft"],[c,f]],[/smart-tv.+(samsung)/i],[u,[c,v]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[u,"Samsung"],[c,v]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[u,"LG"],[c,v]],[/(apple)\s?tv/i],[u,[o,"Apple TV"],[c,v]],[/crkey/i],[[o,"Chromecast"],[u,"Google"],[c,v]],[/droid.+aft([\w])(\sbuild\/|\))/i],[o,[u,"Amazon"],[c,v]],[/\(dtv[\);].+(aquos)/i],[o,[u,"Sharp"],[c,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[u,w.trim],[o,w.trim],[c,v]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[c,v]],[/((pebble))app\/[\d\.]+\s/i],[u,o,[c,g]],[/droid.+;\s(glass)\s\d/i],[o,[u,"Google"],[c,g]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[o,[u,"Zebra"],[c,g]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[u,[c,_]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[o,[c,h]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[o,[c,m]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[c,w.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[o,[u,"Generic"]],[/(phone)/i],[[c,h]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[l,[d,y.str,b.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[d,y.str,b.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[l,"Mac OS"],[d,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[l,d],[/\(bb(10);/i],[d,[l,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[d,[l,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[d,[l,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],d],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[l,d],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],d],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[l,d]]},E=function(e,t){if("object"==typeof e&&(t=e,e=r),!(this instanceof E))return new E(e,t).getResult();var i=e||(void 0!==n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),s=t?w.extend(k,t):k;return this.getBrowser=function(){var e={name:r,version:r};return y.rgx.call(e,i,s.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:r};return y.rgx.call(e,i,s.cpu),e},this.getDevice=function(){var e={vendor:r,model:r,type:r};return y.rgx.call(e,i,s.device),e},this.getEngine=function(){var e={name:r,version:r};return y.rgx.call(e,i,s.engine),e},this.getOS=function(){var e={name:r,version:r};return y.rgx.call(e,i,s.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===a&&e.length>255?w.trim(e,255):e,this},this.setUA(i),this};E.VERSION="0.7.28",E.BROWSER={NAME:l,MAJOR:"major",VERSION:d},E.CPU={ARCHITECTURE:p},E.DEVICE={MODEL:o,VENDOR:u,TYPE:c,CONSOLE:f,MOBILE:h,SMARTTV:v,TABLET:m,WEARABLE:g,EMBEDDED:_},E.ENGINE={NAME:l,VERSION:d},E.OS={NAME:l,VERSION:d},e.exports&&(t=e.exports=E),t.UAParser=E;var $=void 0!==n&&(n.jQuery||n.Zepto);if($&&!$.ua){var x=new E;$.ua=x.getResult(),$.ua.get=function(){return x.getUA()},$.ua.set=function(e){x.setUA(e);var t=x.getResult();for(var n in t)$.ua[n]=t[n]}}}("object"==typeof window?window:Xe)}));const Ye=(new Ge).getResult();class Qe{static get orientation(){const e=(screen.orientation||{}).type||screen.mozOrientation||screen.msOrientation;return"landscape-primary"===e||"landscape-secondary"===e?"landscape":"portrait-secondary"===e||"portrait-primary"===e||window.matchMedia("(orientation: portrait)").matches?"portrait":window.matchMedia("(orientation: landscape)").matches?"landscape":void 0}}Qe.isMobile="mobile"===Ye.device.type,Qe.isMacos="Mac OS"===Ye.os.name;const Ke=(e,t,n,r)=>{const i={event_category:t,value:n};r&&(i.event_label=r),gtm("event",e,i)};let Je=null;Ue.subscribe((e=>{Je=e}));const et=()=>{const e=document.querySelector(".about").getBoundingClientRect().height;let t=376;return Qe.isMobile&&("landscape"===Qe.orientation&&(t=190),"portrait"===Qe.orientation&&(t=450)),t+e};let tt=et();Qe.isMobile&&window.addEventListener("orientationchange",(()=>{tt=et(),ue.fireEvent("RequestResize")}),!1),ue.listenFor("about:change:visibility",(()=>{tt=et(),ue.fireEvent("RequestResize")}));class nt{constructor(e){this.is_ready=!1,this.copy_buffer=null;const t=le.create({container:"#wavesurferContainer",scrollParent:!1,isMobile:Qe.isMobile,cursorColor:"green",hideScrollbar:!0,partialRender:!1,fillParent:!1,backgroundColor:"#24292e",medianColor:"#fff",limitsColor:"#f97583",waveColor:"#79b8ff",timelineBackgroundColor:"rgb(51, 56, 62)",timelineTextColor:"#abadaf",timelineMarkingColor:"#8b8d8f",waveDisabledColor:"#557093",splitChannels:!0,autoCenter:!0,height:window.innerHeight-tt,plugins:[pe.create({dragSelection:{slop:5}})]});this.wavesurfer=t,this.app=e;const n=this.audioUtils=new Me(e,t);ue.listenFor("RequestResize",(()=>{t.fireEvent("resize");const e=window.innerHeight;t.setHeight((e<280?280:e)-tt-0)})),t.on("ready",(()=>{if(ue.fireEvent("DidReadyFire"),t.backend._add&&(t.backend._add=0),this.is_ready)return;this.is_ready=!0;const e=document.getElementsByClassName("pk_tmpMsg");e.length>0&&e[0].parentNode.removeChild(e[0]),this.copy_buffer=null,ue.fireEvent("DidDownloadFile"),ue.fireEvent("StateRequestClearAll"),ue.fireEvent("DidLoadFile"),ue.fireEvent("DidUpdateLen",t.getDuration()),ue.fireEvent("DidSetClipboard",0),ue.fireEvent("RequestSeekTo",0),ue.fireEvent("RequestResize"),window.setTimeout((()=>{t.getWaveEl().style.opacity="1"}),100),ue.stopListeningForName("RequestCancelModal"),setTimeout((()=>{Le("Loaded Successfully")}),180),1===t.backend.buffer.numberOfChannels?(t.backend.SetNumberOfChannels(1),t.ActiveChannels=[1],t.drawer.params.ActiveChannels=t.ActiveChannels,t.SelectedChannelsLen=1,Je.classList.add("pk_mono")):2===t.backend.buffer.numberOfChannels&&(t.backend.SetNumberOfChannels(2),t.ActiveChannels=[1,1],t.drawer.params.ActiveChannels=t.ActiveChannels,t.SelectedChannelsLen=2,Je.classList.remove("pk_mono"))})),t.on("pause",(()=>{ue.fireEvent("DidStopPlay")})),t.on("play",(()=>{ue.fireEvent("DidPlay")})),t.on("seek",((e,n)=>{const r=t.getCurrentTime(),i=t.getLoudness();ue.fireEvent("DidAudioProcess",[r,i,n])})),ue.listenFor("RequestStop",(n=>{if(Ke("stop","main",10),e.rec.isActive())return ue.fireEvent("RequestActionRecordStop"),!1;const r=t.regions.list[0];r&&(t.ActiveMarker=r.start/t.getDuration()),t.stop(n)})),ue.listenFor("RequestPlay",(e=>{Ke("play","main",10),ue.fireEvent("RequestActionRecordStop"),!e&&t.isPlaying()&&t.stop(),t.play()})),ue.listenFor("RequestPause",(()=>{Ke("pause","main",10),ue.fireEvent("RequestActionRecordStop"),t.pause()})),ue.listenFor("RequestSetLoop",(()=>{if(!this.is_ready)return;let e=!1;t.regions.list[0]?t.regions.list[0].loop=!t.regions.list[0].loop:(e=!0,t.regions.add({start:.01,end:t.getDuration()-.01,id:"t"}),t.regions.list[0].loop=!0);const n=t.regions.list[0].loop;ue.fireEvent("DidSetLoop",n),n&&!e&&ue.fireEvent("RequestSeekTo",t.regions.list[0].start/t.getDuration())})),ue.listenFor("RequestSkipBack",(e=>{t.skipBackward(e)})),ue.listenFor("RequestSkipFront",(e=>{t.skipForward(e)})),ue.listenFor("RequestSeekTo",(e=>{e>1||t.seekTo(e)})),We.add("up",(e=>{e.preventDefault()})),We.add("down",(e=>{e.preventDefault()})),We.add("space",(e=>{je.on||e.preventDefault()})),We.add("f12",(e=>{e.preventDefault(),e.stopPropagation()})),We.add("p",(()=>{je.on||t.playPause()})),We.add("space",(()=>{je.on||(this.wavesurfer.isPlaying()?ue.fireEvent("RequestStop"):ue.fireEvent("RequestPlay"))})),We.add("mod+c",(()=>{je.on||ue.fireEvent("RequestActionCopy")})),We.add("mod+v",(()=>{je.on||ue.fireEvent("RequestActionPaste")})),We.add("mod+x",(()=>{je.on||ue.fireEvent("RequestActionCut")})),We.add("mod+z",(()=>{je.on||ue.fireEvent("StateRequestUndo")})),We.add("mod+y",(()=>{je.on||ue.fireEvent("StateRequestRedo")})),We.add("mod+a",(()=>{je.on||ue.fireEvent("RequestSelect")})),We.add("mod+shift+a",(e=>{je.on||(e.preventDefault(),ue.fireEvent("RequestDeselect"))})),We.add("shift+space",(e=>{je.on||(e.preventDefault(),e.stopPropagation(),ue.fireEvent("RequestSetLoop"))})),We.add("mod+s",(e=>{e.preventDefault(),e.stopPropagation(),je.on||ue.fireEvent("modal:export")})),We.add("mod+o",(e=>{e.preventDefault(),e.stopPropagation(),ue.fireEvent("RequestLoadLocalFile")})),t.container.addEventListener("mousedown",(e=>{3===e.which&&e.preventDefault()}),!1),ue.listenFor("RequestSelect",((e,n)=>{if(this.is_ready){if(e){if(t.regions.list[0])return!1}n?(t.regions.add({start:n[0],end:n[1],id:"t"}),t.isPlaying()||setTimeout((()=>{ue.fireEvent("RequestSeekTo",n[0]/t.getDuration())}),0)):(t.regions.add({start:0,end:t.getDuration(),id:"t"}),t.isPlaying()||setTimeout((()=>{ue.fireEvent("RequestSeekTo",0)}),0))}})),ue.listenFor("RequestDeselect",(()=>{t.regions.clear(),ue.fireEvent("RequestSeekTo",0)})),(()=>{let e=null;ue.listenFor("RequestLoadLocalFile",(()=>{Ke("open","main",10,"file"),t.pause(),e&&(e.parentNode.removeChild(e),e.onchange=null),e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept","audio/*"),e.className="pk_inpfile",e.onchange=()=>{this.LoadFile(e),e.parentNode.removeChild(e),e.onchange=null,e=null},Je.appendChild(e),e.click()}))})(),t.container.addEventListener("dblclick",(()=>{ue.fireEvent("RequestSelect",!1,[t.LeftProgress,t.LeftProgress+t.VisibleDuration])}),!1),t.container.addEventListener("click",(e=>{console.warn("click wavesurfer container check"),this.is_ready&&(e.shiftKey||t.regions.clear())}),!1);let r=null;window.addEventListener("resize",(()=>{t&&(r&&clearTimeout(r),r=setTimeout((()=>{ue.fireEvent("RequestResize"),Oe&&window.scrollTo(0,200)}),84))}),!1),window.addEventListener("beforeunload",(()=>{ue.fireEvent("WillUnload")})),t.on("error",(e=>{setTimeout((()=>{ue.fireEvent("DidDownloadFile"),this.is_ready=!1}),20),ue.fireEvent("ShowError",e)})),t.on("audioprocess",((e,n)=>{const r=t.getLoudness();ue.fireEvent("DidAudioProcess",[e,r,n],t.backend.FreqArr)})),t.on("DidZoom",(e=>{ue.fireEvent("DidZoom",[t.ZoomFactor,t.LeftProgress/t.getDuration()*100,t.params.verticalZoom],e)})),t.on("region-removed",(()=>{ue.fireEvent("DidSetLoop",0),ue.fireEvent("DidDestroyRegion")})),ue.listenFor("RequestRegionClear",(()=>{t.regions.clear()})),ue.listenFor("RequestRegionSet",((e,n)=>{this.is_ready&&(e||(e=t.LeftProgress/1),n||(n=(t.LeftProgress+t.VisibleDuration)/1),t.regions.clear(),t.regions.add({start:e,end:n,id:"t"}))})),ue.listenFor("RequestActionCut",(()=>{if(!this.is_ready)return;Ke("cut","main",10);const e=t.regions.list[0];if(!e)return!1;ue.fireEvent("RequestPause");const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);ue.fireEvent("StateRequestPush",{desc:"Cut",meta:[r,i],data:t.backend.buffer});const s=n.Trim(r,i);t.regions.clear();let a=r-.03;a<0&&(a=0),ue.fireEvent("RequestSeekTo",a/t.getDuration()),this.copy_buffer=s,ue.fireEvent("DidSetClipboard",1),ue.fireEvent("DidCut",s),Le("Cut :: "+this.TrimTo(r,2)+" to "+this.TrimTo(r+i,2),1100)})),ue.listenFor("RequestActionCopy",(()=>{if(!this.is_ready)return;Ke("copy","main",10);const e=t.regions.list[0];if(!e)return!1;ue.fireEvent("RequestPause");const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3),s=n.Copy(r,i);this.copy_buffer=s,ue.fireEvent("DidSetClipboard",1),ue.fireEvent("DidCopy",s),Le("Copied range")})),ue.listenFor("RequestActionSilence",((e,r)=>{if(!this.is_ready)return;ue.fireEvent("RequestPause"),t.regions.list[0];let i=[0,0];(!r||r<0)&&(r=1);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Silence",meta:[e,n],data:t.backend.buffer})})(e,r),i=n.Insert(e,n.MakeSilence(r)),t.regions.clear(),t.regions.add({start:i[0],end:i[1],id:"t"}),ue.fireEvent("RequestSeekTo",i[0]/t.getDuration()),Le("Inserted Silence")})),ue.listenFor("RequestActionPaste",(()=>{if(!this.is_ready)return;if(!this.copy_buffer)return!1;ue.fireEvent("RequestPause");const e=t.regions.list[0];let r=[0,0];const i=(e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Paste",meta:[e,n],data:t.backend.buffer})};if(e){const t=this.TrimTo(e.start,3),s=this.TrimTo(e.end-e.start,3);i(t,s),r=n.Replace(t,s,this.copy_buffer)}else{const e=this.TrimTo(t.getCurrentTime(),3);i(e),r=n.Insert(e,this.copy_buffer)}t.regions.clear(),t.regions.add({start:r[0],end:r[1],id:"t"});let s=0;t.getDuration()>1e-4&&(s=r[0]/t.getDuration()),ue.fireEvent("RequestSeekTo",s),Le("Paste to "+r[0].toFixed(2),982)}));let i=!1;ue.listenFor("RequestActionRecordToggle",(()=>{if(this.is_ready)if(e.rec.isActive())ue.fireEvent("RequestActionRecordStop");else{if(i)return;i=!0,setTimeout((()=>{ue.fireEvent("RequestActionRecordStart"),setTimeout((()=>{i=!1}),50)}),26)}else ue.fireEvent("RequestActionNewRec")})),ue.listenFor("RequestActionRecordStop",(()=>{if(this.is_ready)return!!e.rec.isActive()&&void e.rec.stop()})),ue.listenFor("RequestActionRecordStart",(()=>{if(!this.is_ready)return;if(Ke("record","main",10),ue.fireEvent("RequestPause"),e.rec.isActive())return!1;const r=t.getCurrentTime()*t.backend.buffer.sampleRate;e.rec.start(r,((e,r)=>{if(ue.fireEvent("DidActionRecordStop",!!r),!r)return;((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Record Audio",meta:[e,n],data:t.backend.buffer})})(e);const i=n.ReplaceFloatArrays(e,r);t.regions.clear(),t.regions.add({start:i[0],end:i[1],id:"t"}),ue.fireEvent("RequestSeekTo",i[0]/t.getDuration()),Le("Recorded Audio "+i[0].toFixed(2),982)}),(()=>{ue.fireEvent("DidActionRecordStart")}));const i=t.regions.list[0];i?e.rec.setEndingOffset(i.end*t.backend.buffer.sampleRate):e.rec.setEndingOffset(t.getDuration()*t.backend.buffer.sampleRate)})),ue.listenFor("RequestActionFX_PREVIEW_HardLimit",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.HardLimit(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_HardLimit",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Hard Limit (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.HardLimit(e)),Le("Applied Hard Limit (fx)")})),ue.listenFor("RequestActionFX_PARAMEQ",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Parametric EQ (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.ParametricEQ(e)),Le("Applied Parametric EQ (fx)")})),ue.listenFor("RequestActionFX_PREVIEW_PARAMEQ",(e=>{if(!this.is_ready||!e)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.ParametricEQ(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_PREVIEW_DISTORT",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Distortion(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_DISTORT",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Distortion (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Distortion(e)),Le("Applied Distortion (fx)")})),ue.listenFor("RequestActionFX_PREVIEW_DELAY",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Delay(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_DELAY",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Delay (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Delay(e)),Le("Applied Delay (fx)")})),ue.listenFor("RequestActionFX_PREVIEW_REVERB",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Reverb(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_REVERB",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Reverb (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Reverb(e)),Le("Applied Reverb (fx)")})),ue.listenFor("RequestActionFX_PREVIEW_COMPRESSOR",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Compressor(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_Compressor",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Compressor (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Compressor(e)),Le("Applied Compressor (fx)")})),ue.listenFor("RequestActionFX_Normalize",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Normalize ",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Normalize(e)),Le("Applied Normalize")})),ue.listenFor("RequestActionFX_Invert",(()=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Invert ",meta:[e,n],data:t.backend.buffer})})(r,i),n.FX(r,i,n.FXBank.Invert()),Le("Applied Invert")})),ue.listenFor("RequestActionFX_RemSil",(()=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);let r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Remove Silence ",meta:[e,n],data:t.backend.buffer})})(r,i);const s=t.backend.buffer,a=[];let o=0,l=0;r=0,i=0;let c=!1;const u=500;for(let e=0;e<1;++e){const t=s.getChannelData(e);for(let e=0;e<t.length;++e)Math.abs(t[e])<368e-6?(0===o&&(r=e>u?e-u:e),++o>210&&(l=0,i=e,c=!0)):c?++l>56?(a.push([r,i]),e+=u,o=0,r=0,i=0,c=!1,l=0):i=e:(o=0,r=0,i=0,c=!1,l=0);c&&a.push([r,i])}if(a.length>0){let e=0;for(let t=0;t<a.length;++t)e+=a[t][1]-a[t][0];const r=t.backend.ac.createBuffer(s.numberOfChannels,s.length-e,s.sampleRate);for(let e=0;e<s.numberOfChannels;++e){const t=s.getChannelData(e),n=r.getChannelData(e);let i=0,o=0,l=a[o],c=l[0],d=l[1],p=0;for(let e=0;e<n.length;++e){if(p=e+i,p>c&&p<d){if(p<c+u){const r=(u-(p-c))/u;n[e]=t[p]*r,n[e]+=(1-r)*t[e+(i+(d-c))];continue}i+=d-c,l=a[++o],l&&(c=l[0],d=l[1]),p=e+i}n[e]=t[p]}}n.FullReplace(r)}setTimeout((()=>{t.drawBuffer()}),40),Le("Applied :: Remove Silence")})),ue.listenFor("RequestActionFX_Flip",((e,r)=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");const i=t.getDuration(),s=(e,n,r,i)=>{ue.fireEvent("StateRequestPush",{desc:r,meta:[e,n],data:t.backend.buffer,cb:i})};if("flip"===e)s(0,i,"Flip Channels"),n.FX(0,i,n.FXBank.Flip(e));else if("stereo"===e){s(0,i,"Make Stereo",(()=>{this._compute_channels()}));const e=t.backend.buffer,r=t.backend.ac.createBuffer(2,e.length,e.sampleRate);r.getChannelData(0).set(e.getChannelData(0)),r.getChannelData(1).set(e.getChannelData(0)),n.FullReplace(r),t.regions.clear(),t.regions.add({start:0,end:i,id:"t"}),this._compute_channels(),ue.fireEvent("RequestSeekTo",0)}else if("mono"===e){s(0,i,"Make Mono",(()=>{this._compute_channels()}));const e=t.backend.buffer,a=t.backend.ac.createBuffer(1,e.length,e.sampleRate);a.getChannelData(0).set(e.getChannelData(r)),n.FullReplace(a),t.regions.clear(),t.regions.add({start:0,end:i,id:"t"}),this._compute_channels(),ue.fireEvent("RequestSeekTo",0)}Le("Applied Channel Change: "+e)})),ue.listenFor("RequestActionFX_Reverse",(()=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Reverse ",meta:[e,n],data:t.backend.buffer})})(r,i),n.FX(r,i,n.FXBank.Reverse()),Le("Applied Reverse")})),ue.listenFor("RequestActionFX_FadeIn",(()=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Fade In (fx)",meta:[e,n],data:t.backend.buffer})})(r,i),n.FX(r,i,n.FXBank.FadeIn()),Le("Applied Fade In (fx)")})),ue.listenFor("RequestActionFX_FadeOut",(()=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);const r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Fade Out (fx)",meta:[e,n],data:t.backend.buffer})})(r,i),n.FX(r,i,n.FXBank.FadeOut()),Le("Applied Fade Out (fx)")}));let s=!1;ue.listenFor("RequestActionFX_NoiseRNN",(e=>{if(this.is_ready){ue.fireEvent("RequestPause");var r=()=>{var e=t.regions.list[0];e||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),e=t.regions.list[0]);var r=this.TrimTo(e.start,3),i=this.TrimTo(e.end-e.start,3);e=e.end-e.start,e=this.TrimTo(e,3),ue.fireEvent("StateRequestPush",{desc:"Apply Noise RNN (fx)",meta:[r,i],data:t.backend.buffer});for(var s=n.Copy(r,i),a=0;a<s.numberOfChannels;a++){var o=s.getChannelData(a),l=window.wasm_denoise_stream_perf(o);o.set(l)}n.Replace(r,i,s),ue.fireEvent("RequestSeekTo",r/t.getDuration()),t.regions.clear(),t.regions.add({start:r,end:r+e,id:"t"}),Le("Applied Noise RNN (fx)")};s?r():((e=document.createElement("script")).src="/rnn_denoise.js",e.onload=function(){s=!0;var e=function(){window.Module&&window.Module.asm&&window.Module.asm.malloc?r():setTimeout((function(){e()}),350)};setTimeout((function(){e()}),100)},e.onerror=function(){alert("Could not download noise Reduction script")},document.head.appendChild(e))}}));let a=null;ue.listenFor("RequestActionFX_UPDATE_PREVIEW",(e=>{n.previewing&&(clearTimeout(a),a=setTimeout((()=>{n.FXPreviewUpdate(e)}),44))})),ue.listenFor("RequestActionFX_TOGGLE",(e=>{e?n.FXPreviewInit(!0):ue.fireEvent("DidTogglePreview",n.FXPreviewToggle())})),ue.listenFor("RequestActionFX_PREVIEW_STOP",(()=>{n.FXPreviewStop(),ue.fireEvent("DidStopPreview")})),ue.listenFor("RequestActionFX_PREVIEW_GAIN",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Gain(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_GAIN",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Gain (fx)",meta:[e,n],data:t.backend.buffer})})(i,s),n.FX(i,s,n.FXBank.Gain(e)),Le("Applied Gain (fx)")})),ue.listenFor("RequestActionFX_PREVIEW_SPEED",(e=>{if(!this.is_ready)return;if(n.previewing)return n.FXPreviewStop(),void ue.fireEvent("DidStopPreview");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration()-0,id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);n.FXPreview(i,s,n.FXBank.Speed(e)),ue.fireEvent("DidStartPreview")})),ue.listenFor("RequestActionFX_SPEED",(e=>{if(!this.is_ready)return;ue.fireEvent("RequestPause");let r=t.regions.list[0];r||(t.regions.add({start:0,end:t.getDuration(),id:"t"}),r=t.regions.list[0]);const i=this.TrimTo(r.start,3),s=this.TrimTo(r.end-r.start,3);let a=(r.end-r.start)/e;a=this.TrimTo(a,3),((e,n)=>{ue.fireEvent("StateRequestPush",{desc:"Apply Speed (fx)",meta:[e,n],data:t.backend.buffer})})(i,s);let o=n.Copy(i,s);const l=t.backend.buffer;l.sampleRate;const c=a*l.sampleRate>>0;l.sampleRate;const u=n.FXBank.Speed(e),d=((e,t,n)=>new(window.OfflineAudioContext||window.webkitOfflineAudioContext)(e,n,t))(t.SelectedChannelsLen,l.sampleRate,c),p=d.createBufferSource();p.buffer=o;let f=u.filter(d,d.destination,p,a);p.start();const h=e=>{if(n.Replace(i,s,e),t.regions.clear(),t.regions.add({start:i,end:i+a,id:"t"}),ue.fireEvent("RequestSeekTo",i/t.getDuration()),Le("Applied Speed (fx)"),f.length>0)for(let e=0;e<f.length;++e)f[e].disconnect();else f&&f.disconnect&&f.disconnect();e=o=f=null,p.disconnect()},m=d.startRendering();console.log(m),m?m.then(h).catch((e=>{console.log("Rendering failed: "+e)})):d.oncomplete=e=>{h(e.renderedBuffer)}})),ue.listenFor("StateDidPop",((e,n)=>{if(!this.is_ready)return;ue.fireEvent("RequestPause"),t.regions.clear(),t.loadDecodedBuffer(e.data),e.cb&&e.cb();let r=t.getDuration();ue.fireEvent("DidUpdateLen",r),e.meta&&e.meta.length>0&&(e.meta[1]?t.regions.add({start:e.meta[0]/1,end:e.meta[0]/1+e.meta[1]/1,id:"t"}):(r||(r=1e-4),ue.fireEvent("RequestSeekTo",e.meta[0]/r))),Le(n?"Undo "+e.desc:"Redo "+e.desc)})),ue.listenFor("RequestChanToggle",((e,n)=>{if(!this.is_ready)return!1;if(t.ActiveChannels.length<=e)return!1;const r=t.ActiveChannels[e];let i=-1;i=n||(1===r?0:1),r!==i&&(t.ActiveChannels[e]=i,0===i?(--t.SelectedChannelsLen,0===e?t.backend.gainNode2.gain.value=0:t.backend.gainNode1.gain.value=0):(++t.SelectedChannelsLen,0===e?t.backend.gainNode2.gain.value=1:t.backend.gainNode1.gain.value=1),t.ForceDraw(),ue.fireEvent("DidChanToggle",e,i))})),t.on("region-updated",(()=>{t.regions.list[0]&&ue.fireEvent("DidCreateRegion",t.regions.list[0])})),t.on("region-update-end",(()=>{ue.fireEvent("DidCreateRegion",t.regions.list[0]);const e=t.regions.list[0].start;t.isPlaying()||ue.fireEvent("RequestSeekTo",e/t.getDuration())})),t.on("cursorcenter",(e=>{ue.fireEvent("DidCursorCenter",e,t.ZoomFactor)}));const o=t.drawer.canvases[0].wave.parentNode;let l=0;const c=e=>{const t=l-e.clientX;ue.fireEvent("RequestPan",t),l=e.clientX};ue.listenFor("RequestZoom",((e,n)=>{const r=t;if(e*=r.ZoomFactor,-1===n){const t=r.drawer.width,n=t-t/r.ZoomFactor,i=r.ZoomFactor-1;if(1===r.ZoomFactor&&(r.ZoomFactor+=.008),i<=0)return;const s=r.ZoomFactor;r.ZoomFactor+=e*i/n,r.ZoomFactor<1&&(r.ZoomFactor=1);const a=r.getDuration()/r.ZoomFactor;if(a<=.5)return void(r.ZoomFactor=s);r.VisibleDuration=a;const o=r.VisibleDuration*(e/r.drawer.width);r.LeftProgress+=o,r.LeftProgress+r.VisibleDuration>=r.getDuration()?r.LeftProgress=r.getDuration()-r.VisibleDuration:r.LeftProgress<0&&(r.LeftProgress=0)}else if(1===n){const t=r.drawer.width,n=t-t/r.ZoomFactor,i=r.ZoomFactor-1;if(1===r.ZoomFactor&&(r.ZoomFactor+=.008),i<=0)return;const s=r.ZoomFactor;r.ZoomFactor-=e*i/n,r.ZoomFactor<1&&(r.ZoomFactor=1);const a=r.getDuration()/r.ZoomFactor;if(a+r.LeftProgress>r.getDuration())r.ZoomFactor=s;else{if(a<=.5)return void(r.ZoomFactor=s);r.VisibleDuration=a}}r.ForceDraw(),ue.fireEvent("DidZoom",[t.ZoomFactor,t.LeftProgress/t.getDuration()*100,t.params.verticalZoom])})),ue.listenFor("RequestPan",((e,n)=>{const r=t;if(1===n)e*=r.ZoomFactor;else if(2===n){const n=r.getDuration()*(e/r.drawer.width);return r.LeftProgress=n,r.ForceDraw(),void ue.fireEvent("DidZoom",[t.ZoomFactor,t.LeftProgress/t.getDuration()*100,t.params.verticalZoom])}if(r.ZoomFactor>0){const n=r.VisibleDuration*(e/r.drawer.width);r.LeftProgress+=n,r.LeftProgress+r.VisibleDuration>=r.getDuration()?r.LeftProgress=r.getDuration()-r.VisibleDuration:r.LeftProgress<0&&(r.LeftProgress=0),r.ForceDraw(),ue.fireEvent("DidZoom",[t.ZoomFactor,t.LeftProgress/t.getDuration()*100,t.params.verticalZoom])}})),o.addEventListener("mousedown",(e=>{if(3===e.which)return e.preventDefault(),t.Interacting|=2,l=e.clientX,o.className="pk_grabbing",document.addEventListener("mousemove",c,!1),!1;ue.fireEvent("MouseDown"),ue.fireEvent("RequestChanToggle",0,1),ue.fireEvent("RequestChanToggle",1,1)}),!1),o.addEventListener("mouseleave",(()=>{document.removeEventListener("mousemove",c),""!==o.className&&(o.className="",setTimeout((()=>{t.Interacting&=-3}),20))}),!1),o.addEventListener("mouseup",(e=>{3===e.which&&(""!==o.className&&(o.className="",setTimeout((()=>{t.Interacting&=-3}),20)),document.removeEventListener("mousemove",c))}),!1),ue.fireEvent("RequestResize"),ue.listenFor("RequestViewFollowCursorToggle",(()=>{const e=!t.FollowCursor;t.FollowCursor=e,e&&this.is_ready&&t.CursorCenter(),ue.fireEvent("DidViewFollowCursorToggle",e)})),ue.listenFor("RequestViewPeakSeparatorToggle",(()=>{if(!this.is_ready)return;const e=!t.params.limits;t.params.limits=e,t.ForceDraw(),ue.fireEvent("DidViewPeakSeparatorToggle",e)})),ue.listenFor("RequestViewTimelineToggle",(()=>{if(!this.is_ready)return;const e=!t.params.timeline;t.params.timeline=e,t.ForceDraw(),ue.fireEvent("DidViewTimelineToggle",e)})),ue.listenFor("RequestViewCenterToCursor",(()=>{this.is_ready&&t.CursorCenter()})),ue.listenFor("RequestZoomUI",((e,n)=>{this.is_ready&&(0!==e?("h"===e&&t.SetZoom(.5,n),"v"===e&&t.SetZoomVertical(n)):t.ResetZoom())}))}_compute_channels(){const e=this.wavesurfer.backend.buffer.numberOfChannels;1===e?(this.wavesurfer.ActiveChannels=[1],Je.classList.add("pk_mono")):(this.wavesurfer.ActiveChannels=[1,1],Je.classList.remove("pk_mono")),this.wavesurfer.drawer.params.ActiveChannels=this.wavesurfer.ActiveChannels,this.wavesurfer.SelectedChannelsLen=e}TrimTo(e,t){const n={0:1,1:10,2:100,3:1e3,4:1e4,5:1e5}[t];return(e*n>>0)/n}LoadArrayBuffer(e){const t=e=>{ue.listenFor("RequestCancelModal",(()=>{this.wavesurfer.cancelBufferLoad(),this.wavesurfer.arraybuffer&&(this.is_ready=!0),ue.fireEvent("RequestResize"),setTimeout((()=>{ue.fireEvent("DidDownloadFile")}),12),ue.stopListeningForName("RequestCancelModal"),Le("Canceled Loading",1350)})),ue.fireEvent("RequestZoomUI",0),ue.fireEvent("WillDownloadFile"),this.is_ready=!1,this.wavesurfer.loadBlob(e),ue.fireEvent("DidUnloadFile")};this.is_ready?ue.fireEvent("modal:open-or-append",{func:t,file:e}):(this.wavesurfer.backend._add=0,t(e))}LoadDB(e){const t=this.wavesurfer.backend.ac.createBuffer(e.data.length,e.data[0].byteLength/4,e.samplerate);for(let n=0;n<e.data.length;++n){const r=new Float32Array(e.data[n]);if(t.copyToChannel)t.copyToChannel(r,n,0);else{t.getChannelData(n).set(r)}}const n=this.wavesurfer.backend._add,r=this.wavesurfer.getDuration();this.wavesurfer.loadDecodedBuffer(t),this._compute_channels();const i=this.wavesurfer.getDuration();ue.fireEvent("DidUpdateLen",i),n?(this.wavesurfer.regions.clear(),this.wavesurfer.regions.add({start:r,end:i,id:"t"})):ue.fireEvent("RequestSeekTo",0)}LoadFile(e){if(e.files.length>0&&("audio/mp3"==e.files[0].type||"audio/wave"==e.files[0].type||"audio/mpeg"==e.files[0].type||"audio/aiff"==e.files[0].type||"audio/flac"==e.files[0].type||"audio/ogg"==e.files[0].type)){const t=e=>{ue.listenFor("RequestCancelModal",(()=>{this.wavesurfer.cancelBufferLoad(),this.audioUtils.DownloadFileCancel(),this.wavesurfer.arraybuffer&&(this.is_ready=!0),ue.fireEvent("RequestResize"),setTimeout((()=>{ue.fireEvent("DidDownloadFile")}),12),ue.stopListeningForName("RequestCancelModal"),Le("Canceled Loading",1350)})),ue.fireEvent("WillDownloadFile"),this.is_ready=!1,this.wavesurfer.loadBlob(e),ue.fireEvent("DidUnloadFile")};if(this.is_ready)return void ue.fireEvent("modal:open-or-append",{func:t,file:e.files[0]});this.wavesurfer.backend._add=0,t(e.files[0])}}DownloadFile(e,t,n,r,i){this.is_ready&&(ue.fireEvent("WillDownloadFile"),Ke("export_start","main",10,"file"),ue.listenFor("RequestCancelModal",(()=>{Ke("export_cancel","main",10,"file"),this.audioUtils.DownloadFileCancel(),this.wavesurfer.arraybuffer&&(this.is_ready=!0),ue.fireEvent("RequestResize"),setTimeout((()=>{ue.fireEvent("DidDownloadFile")}),12),ue.stopListeningForName("RequestCancelModal")})),setTimeout((()=>{this.audioUtils.DownloadFile(e,t,n,r,i,(e=>{"done"===e?(setTimeout((()=>{ue.fireEvent("DidDownloadFile"),Ke("export_finish","main",10,"file")}),12),ue.stopListeningForName("RequestCancelModal")):ue.fireEvent("DidProgressModal",e)}))}),220))}LoadURL(e){ue.fireEvent("WillDownloadFile"),setTimeout((()=>{ue.listenFor("RequestCancelModal",(()=>{this.wavesurfer.cancelAjax()&&(this.wavesurfer.arraybuffer&&(this.is_ready=!0),ue.fireEvent("RequestResize"),setTimeout((()=>{ue.fireEvent("DidDownloadFile")}),12),ue.stopListeningForName("RequestCancelModal"),Le("Canceled Loading",1350))})),this.wavesurfer.load(e),this.is_ready=!1}),180)}GetCopyBuff(){return this.copy_buffer}GetSel(){const e=this.wavesurfer.regions.list[0];if(!e)return!1;const t=this.TrimTo(e.start,3),n=this.TrimTo(e.end-e.start,3);return this.audioUtils.Copy(t,n)}PlayBuff(e,t,n,r){let i;if(i=r||new(window.AudioContext||window.webkitAudioContext),!i)return;const s=e[0].byteLength/4,a=i.createBuffer(t,s,n);for(let n=0;n<t;++n)a.getChannelData(n).set(new Float32Array(e[n]));const o=i.createBufferSource();return o.buffer=a,o.connect(i.destination),o.start(0),o}GetFX(e,t){return this.audioUtils.FXBank[e](t)}GetWave(e,t,n,r,i,s,a){const o=e.getChannelData(0),l=e.sampleRate,c=[],u=t||200,d=n||80,p=d/2,f=u,h=r||0,m=((i||e.duration*l>>0)-h)/u>>0;let v=0,g=0;for(let e=0;e<f;++e){const t=h+m*e;if(v=0,g=0,t>=0)for(let e=0;e<m;e+=3)o[t+e]>v?v=o[t+e]:o[t+e]<g&&(g=o[t+e]);c[2*e]=v,c[2*e+1]=g}let _=s,w=a;_||(_=document.createElement("canvas"),_.width=u,_.height=d,w=_.getContext("2d",{alpha:!1,antialias:!1})),w.fillStyle="#000",w.fillRect(0,0,u,d),w.fillStyle="#99c2c6",w.beginPath(),w.moveTo(0,p);for(let e=0;e<u;++e){const t=c[2*e],n=Math.round(t*p);w.lineTo(e,p-n)}for(let e=u-1;e>=0;--e){const t=c[2*e+1],n=Math.round(t*p);w.lineTo(e,p-n)}return w.closePath(),w.fill(),_.toDataURL("image/jpeg",.56)}ID3(e){let t=null,n=new Uint8Array(e);return n.length<64?(ue.fireEvent("RequestActionID3",1,t),t):(73===n[0]&&68===n[1]&&51===n[2]?t=_e.ReadTags(e):102===n[4]&&116===n[5]&&121===n[6]&&112===n[7]&&77===n[8]&&52===n[9]&&(t=De.ReadTags(e)),n=null,ue.fireEvent("RequestActionID3",1,t),t)}}let rt=function(e){e&&null!==e.parentNode&&e.parentNode.removeChild(e)},it=function(){if(window.LZ4BlockWASM instanceof Function){let e=new window.LZ4BlockWASM;return e.init().then((()=>e))}return null===window.LZ4BlockWASM?Promise.resolve(null):new Promise(((e,t)=>{let n=document.createElement("script");n.src="/lz4-block-codec-wasm.js",n.addEventListener("load",(()=>{if(window.LZ4BlockWASM instanceof Function==!1)window.LZ4BlockWASM=null,window.LZ4BlockWASM=void 0,e(null);else{let n=new window.LZ4BlockWASM;n.init().then((()=>{e(n)})).catch((e=>{t(e)}))}})),n.addEventListener("error",(()=>{window.LZ4BlockWASM=null,e(null)})),document.head.appendChild(n),rt(n)}))},st=function(){if(window.LZ4BlockJS instanceof Function){let e=new window.LZ4BlockJS;return e.init().then((()=>e))}return null===window.LZ4BlockJS?Promise.resolve(null):new Promise(((e,t)=>{let n=document.createElement("script");n.src="/lz4-block-codec-js.js",n.addEventListener("load",(()=>{if(window.LZ4BlockJS instanceof Function==!1)window.LZ4BlockJS=null,e(null);else{let n=new window.LZ4BlockJS;n.init().then((()=>{e(n)})).catch((e=>{t(e)}))}})),n.addEventListener("error",(()=>{window.LZ4BlockJS=null,e(null)})),document.head.appendChild(n),rt(n)}))};const at=function(e){let t;return t="wasm"===e?it:"js"===e?st:it||st,t().then((t=>t||(void 0===e?st():null))).catch((()=>void 0===e?st():null))};let ot;const lt={l4z:{ready:!1,loading:!1,compress:null,decompress:null,init:function(e){const t=this;let n;t.loading=!0,at("wasm").then((r=>{n=r,t.ready=!0,t.loading=!1,t.compress=(e,t)=>n?n.encodeBlock(e,0):e instanceof ArrayBuffer?new Uint8Array(e):e,t.decompress=(e,t,r)=>n?n.decodeBlock(e,0,r):e instanceof ArrayBuffer?new Uint8Array(e):e,e&&e()}))}}},ct="l4z";class ut{constructor(e){this.on=!1,this.app=e}Init(e){if(this.on)return void(e&&e());if(!window.indexedDB)return void(e&&e("err"));const t=indexedDB.open("audiomass",1);t.onerror=t=>{e&&e("err")},t.onupgradeneeded=e=>{e.target.result.createObjectStore("sessions",{keyPath:"id"})},t.onsuccess=t=>{ot=t.target.result,ot.onerror=e=>{console.log(e)},setTimeout((()=>{this.on=!0,e&&e(),ue.fireEvent("DidOpenDB",this)}),120)}}SaveSession(e,t,n){const r=lt.l4z;if(!r.loading&&!r.ready)return void r.init((()=>{this.SaveSession(e,t,n)}));const i=e.numberOfChannels,s=[],a=[];let o,l;const c=e.sampleRate;for(let t=0;t<i;++t)o=e.getChannelData(t),a.push(o.buffer.byteLength),l=r.compress(o.buffer,0),s.push(l.buffer.slice(l.byteOffset,l.byteLength+l.byteOffset));l=null;const u={id:t,name:n,created:(new Date).getTime(),data:s,data2:a,durr:e.duration.toFixed(3)/1,chans:i,comp:ct,thumb:ft.engine.GetWave(e),samplerate:c},d=ot.transaction(["sessions"],"readwrite");d.objectStore("sessions").add(u).onerror=e=>{ue.fireEvent("ErrorDB",e),console.log("error storing data"),console.error(e)},d.oncomplete=e=>{ue.fireEvent("DidStoreDB",u,e)}}GetSession(e,t){ot.transaction(["sessions"],"readonly").objectStore("sessions").get(e).onsuccess=e=>{const n=e.target.result;if(n&&n.comp){const e=lt.l4z;if(!e.loading&&!e.ready)return void e.init((()=>{const r=[];let i=null;for(let t=0;t<n.data.length;++t)i=e.decompress(n.data[t],0,n.data2[t]),r.push(i.buffer.slice(i.byteOffset,i.byteLength+i.byteOffset));i=null,n.data=r,t&&t(n)}));const r=[];let i=null;for(let t=0;t<n.data.length;++t)i=e.decompress(n.data[t],0,n.data2[t]),r.push(i.buffer.slice(i.byteOffset,i.byteLength+i.byteOffset));i=null,n.data=r}t&&t(n)}}DelSession(e,t){ot.transaction(["sessions"],"readwrite").objectStore("sessions").delete(e).onsuccess=n=>{t&&t(e)}}ListSessions(e){const t=ot.transaction(["sessions"],"readonly").objectStore("sessions").openCursor(),n=[];t.onerror=e=>{console.error("error fetching data")},t.onsuccess=t=>{const r=t.target.result;if(r){r.primaryKey;const e=r.value;n.push(e),r.continue()}else{const t=n.sort((function(e,t){return e.created>t.created?-1:e.created<t.created?1:0}));e&&e(t)}}}}class dt{constructor(e){this.audio_stream=null,this.script_processor=null,this.is_active=!1,this.media_stream_source=null,this.temp_buffers=[],this.audio_context=null,this.end_record_func=null,this.start_record_func=null,this.buffer_size=2048,this.channel_num=1,this.channel_num_out=1,this.starting_offset=0,this.ending_offset=0,this.sample_rate=0,this.temp_buffer_index=-1,this.jumps=4,this.curr_offset=0,this.first_skip=12,this.fetchBufferFunction=e=>{if(this.first_skip>0)return void--this.first_skip;if(this.curr_offset+=e.inputBuffer.duration*this.sample_rate,this.ending_offset<=this.curr_offset)return void(this.ending_offset>0&&this.stop());const t=e.inputBuffer.getChannelData(0).slice(0);this.temp_buffers[++this.temp_buffer_index]=t,0==--this.jumps&&(this.jumps=4,this.app.engine.wavesurfer.DrawTemp(this.starting_offset,this.temp_buffers))},this.app=e}isActive(){return this.is_active}stop(e){this.is_active&&(this.audio_stream.getTracks().forEach((e=>{e.stop()})),this.script_processor.onaudioprocess=null,this.media_stream_source.disconnect(),this.script_processor.disconnect(),this.is_active=!1,this.app.engine.wavesurfer.DrawTemp(null),this.temp_buffers.length>0&&!e?this.end_record_func&&this.end_record_func(this.starting_offset/this.sample_rate,this.temp_buffers):this.end_record_func&&this.end_record_func(null,null),this.sample_rate=0,this.first_skip=12,this.temp_buffer_index=-1,this.starting_offset=this.ending_offset=0,this.temp_buffers=[],this.audio_stream=null,this.audio_context=null,this.end_record_func=this.start_record_func=null)}setEndingOffset(e){this.ending_offset=e}start(e,t,n,r){return!this.is_active&&(navigator.mediaDevices?(this.starting_offset=e/1,!isNaN(this.starting_offset)&&this.starting_offset||(this.starting_offset=0),this.curr_offset=this.starting_offset,this.audio_context=this.app.engine.wavesurfer.backend.getAudioContext(),this.audio_context?(0===this.audio_context.currentTime&&(this.app.engine.wavesurfer.backend.source.start(0),this.app.engine.wavesurfer.backend.source.stop(0)),r||(this.app.engine.wavesurfer.backend.buffer?this.sample_rate=this.app.engine.wavesurfer.backend.buffer.sampleRate:this.sample_rate=this.audio_context.sampleRate),this.end_record_func=t,this.start_record_func=n,navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((e=>{this.audio_stream=e,this.media_stream_source=this.audio_context.createMediaStreamSource(e),this.script_processor=this.audio_context.createScriptProcessor(this.buffer_size,this.channel_num,this.channel_num_out),this.media_stream_source.connect(this.script_processor),this.script_processor.connect(this.audio_context.destination),this.is_active=!0,this.start_record_func&&this.start_record_func(),this.script_processor.onaudioprocess=this.fetchBufferFunction})).catch((e=>{ue.fireEvent("ErrorRec"),e&&e.message&&ue.fireEvent("ShowError",e.message)})),!0):(ue.fireEvent("ErrorRec"),ue.fireEvent("ShowError","No recording device found"),!1)):(ue.fireEvent("ErrorRec"),ue.fireEvent("ShowError","No recording device found"),!1))}}class pt{constructor(e,t){this._id=1,this.undo_state_list=[],this.redo_state_list=[],this._depth=e,this.app=t,e||(this._depth=1);const n=ue.listenFor;n("StateRequestPush",(e=>{this.pushUndoState(e)})),n("StateRequestUndo",(()=>{this.popUndoState()})),n("StateRequestRedo",(()=>{this.shiftRedoState()})),n("StateRequestClearAll",(()=>{this.clearAllState()})),n("StateRequestLastState",(()=>{ue.fireEvent("StateDidLastState",this.getLastUndoState())}))}getLastUndoState(){return this.undo_state_list[this.undo_state_list.length-1]}pushUndoState(e){return!!e&&(e.id||(e.id=++this._id),this.undo_state_list.length>=this._depth&&this.undo_state_list.shift(),this.undo_state_list.length>0&&this.undo_state_list[this.undo_state_list.length-1].id!==e.id-1&&(this.undo_state_list=[]),this.redo_state_list.length>0&&this.redo_state_list[0].id!==e.id+1&&(this.redo_state_list=[]),this.undo_state_list.push(e),ue.fireEvent("StatePush",this.undo_state_list.length),ue.fireEvent("DidStateChange",this.undo_state_list,this.redo_state_list),!0)}popUndoState(){const e=this.undo_state_list.pop();if(e){this.redo_state_list.length>0&&this.redo_state_list[0].id!==e.id+1&&(this.redo_state_list=[]);const t=this.app.engine.wavesurfer.backend.buffer;ue.fireEvent("StateDidPop",e,1),e.data=t,this.redo_state_list.unshift(e),ue.fireEvent("DidStateChange",this.undo_state_list,this.redo_state_list)}return e}shiftRedoState(){const e=this.redo_state_list.shift();if(e){this.undo_state_list.length>0&&this.undo_state_list[this.undo_state_list.length-1].id!==e.id-1&&(this.undo_state_list=[]);const t=this.app.engine.wavesurfer.backend.buffer;ue.fireEvent("StateDidPop",e,0),e.data=t,this.undo_state_list.push(e),ue.fireEvent("DidStateChange",this.undo_state_list,this.redo_state_list)}return e}clearAllState(){this.undo_state_list=[],this.redo_state_list=[],ue.fireEvent("StateClearAll"),ue.fireEvent("DidStateChange",[],[])}}const ft=new class{init(){if(function(e){ue.listenFor("DidCloseFX_UI",(function(){})),ue.listenFor("DidOpenFX_UI",(function(e){})),ue.listenFor("RequestFXUI_SELCUT",(function(){const t=e.engine.wavesurfer,n=t.backend.buffer.sampleRate,r=t.regions.list[0];if(!r)return!1;ue.fireEvent("RequestPause"),r.element.style.background="red";const i={pos:{start:r.start*n>>0,end:r.end*n>>0},initpos:{start:r.start*n>>0,end:r.end*n>>0}};t.backend.reg=i,t.on("region-updated",(function(e){i.pos.start=e.start*n>>0,i.pos.end=e.end*n>>0,t.drawBuffer(!0)}))}));let t={};ue.listenFor("WillUnload",(()=>{let e;for(const n in t)e=t[n],e&&!e.type&&e.destroy&&e.destroy();t={}})),ue.listenFor("RequestDragI",(function(e){if(Oe)return void alert("unsupported on mobile");const n=t[e];if(!n||!n.el)return;n.el.style.pointerEvents="none",n.el.style.zIndex="9",n.win.document.body.classList.add("c");let r=document.createElement("div");r.className="pk_modal_back",document.body.appendChild(r);let i=!0,s=0,a=0,o=2,l=parseInt(n.el.style.top)||0,c=parseInt(n.el.style.left)||0;je.on=!0,setTimeout((function(){n&&n.el&&(n.el.style.display="none",setTimeout((()=>{n.el.style.display="block"}),0),r.focus())}),60),r.onmousemove=function(e){if(!i)return;if(0===s&&0===a)return s=e.pageX,void(a=e.pageY);const t=e.pageX-s,r=e.pageY-a;l+=r,c+=t,n.el.style.top=l+"px",n.el.style.left=c+"px",s=e.pageX,a=e.pageY,--o},r.onmouseup=function(e){i=!1,n.win.document.body.classList.remove("c"),n.el.style.pointerEvents="",n.el.style.zIndex="7",je.on=!1,document.body.removeChild(r),"mouseup"===e.type&&o>0&&(n.el.style.top="0px"),r.onmousemove=null,r.onmouseleave=null,r.onmouseup=null,r=null},r.onmouseleave=t=>{r.onmouseup(t),ue.fireEvent("RequestShowFreqAn",e,[[window.screenLeft+t.pageX||0,window.screenTop+t.pageY||0],0])}})),ue.listenFor("RequestShowFreqAn",(function(e,t){console.log("%cold RequestShowFreqAn","color: red")}))}(this),this.engine=new nt(this),this.state=new pt(4,this),this.rec=new dt(this),this.fls=new ut(this),window.location.href.split("local=")[1]){const e=window.location.href.split("local=")[1];this.fls.Init((()=>{this.fls.GetSession(e,(t=>{t&&t.id===e&&this.engine.LoadDB(t)}))}))}return this.engine.wavesurfer.backend.logFrequencies=!0,this}},ht=[{i:"file",children:[{i:"open",shortcut:"Ctrl+O",type:"file",action:()=>{ue.fireEvent("RequestLoadLocalFile")}},{i:"load_url",action:()=>{ue.fireEvent("modal:load-from-url")}},{i:"export",shortcut:"Ctrl+S",action:()=>{ue.fireEvent("modal:export")},disabled:!0,setup:function(e){ue.listenFor("DidUnloadFile",(()=>{this.disabled=!0,e()})),ue.listenFor("DidLoadFile",(()=>{this.disabled=!1,e()}))}},{separator:!0},{i:"open_drafts",action:()=>{ue.fireEvent("modal:open-local-drafts")},setup:()=>{let e={};ue.listenFor("_lclStop",(()=>{e.src&&(e.src.stop(),e.src.disconnect(),e.src.onended=null,e.aud.close&&e.aud.close(),e={})})),ue.listenFor("LoadDraft",((t,n)=>{Ke("open_local_drafts_action","main",10,"file"),ft.fls.Init((r=>{if(r)return;if(2===n)return e.id===t&&(ue.fireEvent("_lclStart",e.id,0),e.src.stop(),e.src.disconnect(),e.src.onended=null,e.aud.close&&e.aud.close(),e={}),void ft.fls.DelSession(t,(e=>{const t="pk_"+e;let n=document.getElementById(t);n&&(1===n.parentNode.children.length?n.parentNode.innerHTML="No drafts found...":n.parentNode.removeChild(n),n=null)}));if(3===n){if(e.id){let n=!1;if(e.id===t&&(n=!0),ue.fireEvent("_lclStart",e.id,0),e.src.stop(),e.src.disconnect(),e.src.onended=null,e.aud.close&&e.aud.close(),e={},n)return}const n=new(window.AudioContext||window.webkitAudioContext);return n&&"suspended"==n.state&&n.resume&&n.resume(),void ft.fls.GetSession(t,(r=>{if(r&&r.id===t){if(e.id=r.id,e.aud=n,e.src=ft.engine.PlayBuff(r.data,r.chans,r.samplerate,n),!e.src)return e.aud&&e.aud.close&&e.aud.close(),void(e={});e.src.onended=t=>{ue.fireEvent("_lclStart",e.id,0),e.src.stop(),e.src.disconnect(),e.src.onended=null,e.aud.close&&e.aud.close(),e={}},ue.fireEvent("_lclStart",r.id,1)}}))}let i=((e,t)=>()=>{ft.fls.GetSession(e,(n=>{n&&n.id===e&&(ft.engine.wavesurfer.backend._add=t?1:0,ft.engine.LoadDB(n))}))})(t,n);!ft.engine.is_ready||n?i():setTimeout((()=>{ue.fireEvent("modal:open-in-existing",t,i)}),0)}))}))}},{i:"save_draft",disabled:!0,action:()=>{ft.engine.is_ready&&ue.fireEvent("modal:save-draft-locally")},setup:function(e){ue.listenFor("DidUnloadFile",(()=>{this.disabled=!0,e()})),ue.listenFor("DidLoadFile",(()=>{this.disabled=!1,e()})),ue.listenFor("DidStoreDB",(e=>{}))}}]},{i:"edit",children:[{i:"undo",icon:"undo",additionalText:"",shortcut:"Ctrl+Z",disabled:!0,action:()=>{ue.fireEvent("StateRequestUndo")},setup:function(e){ue.listenFor("DidStateChange",((t,n)=>{0===t.length?(this.additionalText="",this.disabled=!0,e()):(this.additionalText=`&nbsp;<i style="pointer-events:none">${t[t.length-1].desc}</i>`,this.disabled=!1,e())}))}},{i:"redo",icon:"redo",additionalText:"",shortcut:"Ctrl+Y",disabled:!0,action:()=>{ue.fireEvent("StateRequestRedo")},setup:function(e){ue.listenFor("DidStateChange",((t,n)=>{0===n.length?(this.additionalText="",this.disabled=!0,e()):(this.additionalText=`&nbsp;<i style="pointer-events:none">${n[0].desc}</i>`,this.disabled=!1,e())}))}},{separator:!0},{i:"channel_modal",action:()=>{ue.fireEvent("RequestActionFXUI_Flip")},disabled:!0,setup:function(e){ue.listenFor("DidUnloadFile",(()=>{this.disabled=!0,e()})),ue.listenFor("DidLoadFile",(()=>{this.disabled=!1,e()}))}}]},{i:"select",mobile:!1,children:[{i:"select_all",shortcut:"Ctrl+A",action:()=>{ue.fireEvent("RequestSelect")}},{i:"deselect_all",shortcut:"Shift+Ctrl+A",action:()=>{ue.fireEvent("RequestDeselect")}}]},{i:"transport",mobile:!1,children:[{i:"play",action:()=>{ue.fireEvent("RequestPlay")}},{i:"pause",action:()=>{ue.fireEvent("RequestPause")}},{i:"stop",action:()=>{ue.fireEvent("RequestStop")}},{i:"play/pause",shortcut:"P",action:()=>{ft.engine.wavesurfer.isPlaying()?ue.fireEvent("RequestPause"):ue.fireEvent("RequestPlay")}},{i:"play/stop",shortcut:"Space",action:()=>{ft.engine.wavesurfer.isPlaying()?ue.fireEvent("RequestStop"):ue.fireEvent("RequestPlay")}},{separator:!0},{i:"recording",shortcut:"R",action:()=>{ue.fireEvent("RequestActionNewRec")}}]},{i:"effect",sortByName:!0,children:[{i:"gain",action:()=>{Ke("gain","effect",9),ue.fireEvent("RequestFXUI_Gain")}},{i:"fade_in",action:()=>{Ke("fade_in","effect",9),ue.fireEvent("RequestActionFX_FadeIn")}},{i:"fade_out",action:()=>{Ke("fade_out","effect",9),ue.fireEvent("RequestActionFX_FadeOut")}},{i:"voice_noise_reduction",action:()=>{Ke("voice_noise_reduction","effect",9),ue.fireEvent("RequestActionFX_NoiseRNN")}},{i:"paragraphic_eq",action:()=>{Ke("paragraphic_eq","effect",9),ue.fireEvent("RequestActionFXUI_ParaGraphicEQ")}},{i:"compressor",action:()=>{Ke("compressor","effect",9),ue.fireEvent("RequestActionFXUI_Compressor")}},{i:"normalize",action:()=>{Ke("normalize","effect",9),ue.fireEvent("RequestActionFXUI_Normalize")}},{i:"graphic_eq",action:()=>{Ke("graphic_eq","effect",9),ue.fireEvent("effect:modal:graphic-eq:10")}},{i:"graphic_eq_20_bands",action:()=>{Ke("graphic_eq_20_bands","effect",9),ue.fireEvent("effect:modal:graphic-eq:20")}},{i:"hard_limiter",action:()=>{Ke("hard_limiter","effect",9),ue.fireEvent("RequestActionFXUI_HardLimiter")}},{i:"delay",action:()=>{Ke("delay","effect",9),ue.fireEvent("RequestActionFXUI_Delay")}},{i:"distortion",action:()=>{Ke("distortion","effect",9),ue.fireEvent("RequestActionFXUI_Distortion")}},{i:"reverb",action:()=>{Ke("reverb","effect",9),ue.fireEvent("RequestActionFXUI_Reverb")}},{i:"speed",action:()=>{Ke("speed","effect",9),ue.fireEvent("RequestActionFXUI_Speed")}},{i:"reverse",action:()=>{Ke("reverse","effect",9),ue.fireEvent("RequestActionFX_Reverse")}},{i:"invert",action:()=>{Ke("invert","effect",9),ue.fireEvent("RequestActionFX_Invert")}},{name:"Remove Silence",i:"remove_silence",action:()=>{Ke("remove_silence","effect",9),ue.fireEvent("RequestActionFX_RemSil")}}]},{i:"view",children:[{i:"follow_cursor",action:()=>{ue.fireEvent("RequestViewFollowCursorToggle")},checked:!0,setup:function(e){ue.listenFor("DidViewFollowCursorToggle",(t=>{this.checked=!!t,e()}))}},{i:"timeline",checked:!0,action:()=>{ue.fireEvent("RequestViewTimelineToggle")},setup:function(e){ue.listenFor("DidViewTimelineToggle",(t=>{this.checked=!!t,e()}))}},{separator:!0},{i:"zoom_in",shortcut:"Ctrl+1",action:()=>{ue.fireEvent("RequestZoomUI","h",-1)}},{i:"zoom_normal",shortcut:"Ctrl+2",disabled:!0,action:()=>{ue.fireEvent("RequestZoomUI",0)},setup:function(e){ue.listenFor("DidZoom",(t=>{this.disabled=1===t[0],e()}))}},{i:"zoom_out",shortcut:"Ctrl+3",disabled:!0,action:()=>{ue.fireEvent("RequestZoomUI","h",1)},setup:function(e){ue.listenFor("DidZoom",(t=>{this.disabled=1===t[0],e()}))}},{separator:!0},{i:"cursor_position",icon:"location",shortcut:"Tab",action:()=>{ue.fireEvent("RequestViewCenterToCursor")}}]},{i:"tools",children:[{i:"tempo_tools",action:()=>{ue.fireEvent("RequestActionTempo")}},{i:"metadata",action:()=>{ue.fireEvent("RequestActionID3")}}]}];var mt=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===vt}(e)}(e)};var vt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function gt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?kt((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function _t(e,t,n){return e.concat(t).map((function(e){return gt(e,n)}))}function wt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function yt(e,t){try{return t in e}catch(e){return!1}}function bt(e,t,n){var r={};return n.isMergeableObject(e)&&wt(e).forEach((function(t){r[t]=gt(e[t],n)})),wt(t).forEach((function(i){(function(e,t){return yt(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(yt(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return kt;var n=t.customMerge(e);return"function"==typeof n?n:kt}(i,n)(e[i],t[i],n):r[i]=gt(t[i],n))})),r}function kt(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||_t,n.isMergeableObject=n.isMergeableObject||mt,n.cloneUnlessOtherwiseSpecified=gt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):bt(e,t,n):gt(t,n)}kt.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return kt(e,n,t)}),{})};var Et=kt,$t=function(e,t){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}$t(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Tt,Rt,Pt,St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ct(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function At(e){return e.type===Rt.literal}function Dt(e){return e.type===Rt.argument}function Ft(e){return e.type===Rt.number}function qt(e){return e.type===Rt.date}function Lt(e){return e.type===Rt.time}function zt(e){return e.type===Rt.select}function Mt(e){return e.type===Rt.plural}function Ot(e){return e.type===Rt.pound}function Nt(e){return e.type===Rt.tag}function It(e){return!(!e||"object"!=typeof e||e.type!==Pt.number)}function Bt(e){return!(!e||"object"!=typeof e||e.type!==Pt.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Tt||(Tt={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Rt||(Rt={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Pt||(Pt={}));var Ut=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,jt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Xt(e){var t={};return e.replace(jt,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Vt=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var Ht,Zt=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Wt=/^(@+)?(\+|#+)?$/g,Gt=/(\*)(0+)|(#+)(0+)|(0+)/g,Yt=/^(0+)$/;function Qt(e){var t={};return e.replace(Wt,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function Kt(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Jt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!Yt.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function en(e){var t=Kt(e);return t||{}}function tn(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=St(St(St({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return St(St({},e),en(t))}),{}));continue;case"engineering":t=St(St(St({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return St(St({},e),en(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Gt,(function(e,n,r,i,s,a){if(n)t.minimumIntegerDigits=r.length;else{if(i&&s)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Yt.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Zt.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Zt,(function(e,n,r,i,s,a){return"*"===r?t.minimumFractionDigits=n.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:s&&a?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),i.options.length&&(t=St(St({},t),Qt(i.options[0])))}else if(Wt.test(i.stem))t=St(St({},t),Qt(i.stem));else{var s=Kt(i.stem);s&&(t=St(St({},t),s));var a=Jt(i.stem);a&&(t=St(St({},t),a))}}return t}var nn=new RegExp("^"+Ut.source+"*"),rn=new RegExp(Ut.source+"*$");function sn(e,t){return{start:e,end:t}}var an=!!String.prototype.startsWith,on=!!String.fromCodePoint,ln=!!Object.fromEntries,cn=!!String.prototype.codePointAt,un=!!String.prototype.trimStart,dn=!!String.prototype.trimEnd,pn=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},fn=!0;try{fn="a"===(null===(Ht=bn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===Ht?void 0:Ht[0])}catch(e){fn=!1}var hn,mn=an?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},vn=on?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",i=e.length,s=0;i>s;){if((n=e[s++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},gn=ln?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n],s=i[0],a=i[1];t[s]=a}return t},_n=cn?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,i=e.charCodeAt(t);return i<55296||i>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?i:r-56320+(i-55296<<10)+65536}},wn=un?function(e){return e.trimStart()}:function(e){return e.replace(nn,"")},yn=dn?function(e){return e.trimEnd()}:function(e){return e.replace(rn,"")};function bn(e,t){return new RegExp(e,t)}if(fn){var kn=bn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");hn=function(e,t){var n;return kn.lastIndex=t,null!==(n=kn.exec(e)[1])&&void 0!==n?n:""}}else hn=function(e,t){for(var n=[];;){var r=_n(e,t);if(void 0===r||Tn(r)||Rn(r))break;n.push(r),t+=r>=65536?2:1}return vn.apply(void 0,n)};var En=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,n)).err)return s;r.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Tt.UNMATCHED_CLOSING_TAG,sn(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&$n(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;r.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;r.push(s.val)}}else{var a=this.clonePosition();this.bump(),r.push({type:Rt.pound,location:sn(a,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Rt.literal,value:"<"+r+"/>",location:sn(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!$n(this.char()))return this.error(Tt.INVALID_TAG,sn(a,this.clonePosition()));var o=this.clonePosition();return r!==this.parseTagName()?this.error(Tt.UNMATCHED_CLOSING_TAG,sn(o,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Rt.tag,value:r,children:s,location:sn(n,this.clonePosition())},err:null}:this.error(Tt.INVALID_TAG,sn(a,this.clonePosition())))}return this.error(Tt.UNCLOSED_TAG,sn(n,this.clonePosition()))}return this.error(Tt.INVALID_TAG,sn(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&xn(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var i=this.tryParseQuote(t);if(i)r+=i;else{var s=this.tryParseUnquoted(e,t);if(s)r+=s;else{var a=this.tryParseLeftAngleBracket();if(!a)break;r+=a}}}var o=sn(n,this.clonePosition());return{val:{type:Rt.literal,value:r,location:o},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&($n(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return vn.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),vn(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,sn(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Tt.EMPTY_ARGUMENT,sn(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Tt.MALFORMED_ARGUMENT,sn(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,sn(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Rt.argument,value:r,location:sn(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,sn(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Tt.MALFORMED_ARGUMENT,sn(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=hn(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:sn(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var i,s=this.clonePosition(),a=this.parseIdentifierIfPossible().value,o=this.clonePosition();switch(a){case"":return this.error(Tt.EXPECT_ARGUMENT_TYPE,sn(s,o));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(p=yn(v.val)).length)return this.error(Tt.EXPECT_ARGUMENT_STYLE,sn(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:sn(c,this.clonePosition())}}if((g=this.tryParseArgumentClose(r)).err)return g;var u=sn(r,this.clonePosition());if(l&&mn(null==l?void 0:l.style,"::",0)){var d=wn(l.style.slice(2));if("number"===a)return(v=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?v:{val:{type:Rt.number,value:n,location:u,style:v.val},err:null};if(0===d.length)return this.error(Tt.EXPECT_DATE_TIME_SKELETON,u);var p={type:Pt.dateTime,pattern:d,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?Xt(d):{}};return{val:{type:"date"===a?Rt.date:Rt.time,value:n,location:u,style:p},err:null}}return{val:{type:"number"===a?Rt.number:"date"===a?Rt.date:Rt.time,value:n,location:u,style:null!==(i=null==l?void 0:l.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Tt.EXPECT_SELECT_ARGUMENT_OPTIONS,sn(f,St({},f)));this.bumpSpace();var h=this.parseIdentifierIfPossible(),m=0;if("select"!==a&&"offset"===h.value){if(!this.bumpIf(":"))return this.error(Tt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,sn(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(Tt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Tt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),h=this.parseIdentifierIfPossible(),m=v.val}var g,_=this.tryParsePluralOrSelectOptions(e,a,t,h);if(_.err)return _;if((g=this.tryParseArgumentClose(r)).err)return g;var w=sn(r,this.clonePosition());return"select"===a?{val:{type:Rt.select,value:n,options:gn(_.val),location:w},err:null}:{val:{type:Rt.plural,value:n,options:gn(_.val),offset:m,pluralType:"plural"===a?"cardinal":"ordinal",location:w},err:null};default:return this.error(Tt.INVALID_ARGUMENT_TYPE,sn(s,o))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Tt.EXPECT_ARGUMENT_CLOSING_BRACE,sn(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Tt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,sn(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,r=e.split(Vt).filter((function(e){return e.length>0}));n<r.length;n++){var i=r[n].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],a=i.slice(1),o=0,l=a;o<l.length;o++)if(0===l[o].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:a})}return t}(e)}catch(e){return this.error(Tt.INVALID_NUMBER_SKELETON,t)}return{val:{type:Pt.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?tn(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var i,s=!1,a=[],o=new Set,l=r.value,c=r.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Tt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=sn(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(o.has(l))return this.error("select"===t?Tt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Tt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Tt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,sn(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,n);if(f.err)return f;var h=this.tryParseArgumentClose(p);if(h.err)return h;a.push([l,{value:f.val,location:sn(p,this.clonePosition())}]),o.add(l),this.bumpSpace(),l=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===a.length?this.error("select"===t?Tt.EXPECT_SELECT_ARGUMENT_SELECTOR:Tt.EXPECT_PLURAL_ARGUMENT_SELECTOR,sn(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Tt.MISSING_OTHER_CLAUSE,sn(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var i=!1,s=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;i=!0,s=10*s+(a-48),this.bump()}var o=sn(r,this.clonePosition());return i?pn(s*=n)?{val:s,err:null}:this.error(t,o):this.error(e,o)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=_n(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(mn(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Tn(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function $n(e){return e>=97&&e<=122||e>=65&&e<=90}function xn(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Tn(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Rn(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Pn(e){e.forEach((function(e){if(delete e.location,zt(e)||Mt(e))for(var t in e.options)delete e.options[t].location,Pn(e.options[t].value);else Ft(e)&&It(e.style)||(qt(e)||Lt(e))&&Bt(e.style)?delete e.style.location:Nt(e)&&Pn(e.children)}))}function Sn(e,t){void 0===t&&(t={}),t=St({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new En(e,t).parse();if(n.err){var r=SyntaxError(Tt[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||Pn(n.val),n.val}function Cn(e,t){var n=t&&t.cache?t.cache:On,r=t&&t.serializer?t.serializer:Ln;return(t&&t.strategy?t.strategy:qn)(e,{cache:n,serializer:r})}function An(e,t,n,r){var i,s=null==(i=r)||"number"==typeof i||"boolean"==typeof i?r:n(r),a=t.get(s);return void 0===a&&(a=e.call(this,r),t.set(s,a)),a}function Dn(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),s=t.get(i);return void 0===s&&(s=e.apply(this,r),t.set(i,s)),s}function Fn(e,t,n,r,i){return n.bind(t,e,r,i)}function qn(e,t){return Fn(e,this,1===e.length?An:Dn,t.cache.create(),t.serializer)}var Ln=function(){return JSON.stringify(arguments)};function zn(){this.cache=Object.create(null)}zn.prototype.has=function(e){return e in this.cache},zn.prototype.get=function(e){return this.cache[e]},zn.prototype.set=function(e,t){this.cache[e]=t};var Mn,On={create:function(){return new zn}},Nn={variadic:function(e,t){return Fn(e,this,Dn,t.cache.create(),t.serializer)},monadic:function(e,t){return Fn(e,this,An,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Mn||(Mn={}));var In,Bn=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.code=n,i.originalMessage=r,i}return xt(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Un=function(e){function t(t,n,r,i){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(r).join('", "')+'"',Mn.INVALID_VALUE,i)||this}return xt(t,e),t}(Bn),jn=function(e){function t(t,n,r){return e.call(this,'Value for "'+t+'" must be of type '+n,Mn.INVALID_VALUE,r)||this}return xt(t,e),t}(Bn),Xn=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',Mn.MISSING_VALUE,n)||this}return xt(t,e),t}(Bn);function Vn(e){return"function"==typeof e}function Hn(e,t,n,r,i,s,a){if(1===e.length&&At(e[0]))return[{type:In.literal,value:e[0].value}];for(var o=[],l=0,c=e;l<c.length;l++){var u=c[l];if(At(u))o.push({type:In.literal,value:u.value});else if(Ot(u))"number"==typeof s&&o.push({type:In.literal,value:n.getNumberFormat(t).format(s)});else{var d=u.value;if(!i||!(d in i))throw new Xn(d,a);var p=i[d];if(Dt(u))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),o.push({type:"string"==typeof p?In.literal:In.object,value:p});else if(qt(u)){var f="string"==typeof u.style?r.date[u.style]:Bt(u.style)?u.style.parsedOptions:void 0;o.push({type:In.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(Lt(u)){f="string"==typeof u.style?r.time[u.style]:Bt(u.style)?u.style.parsedOptions:void 0;o.push({type:In.literal,value:n.getDateTimeFormat(t,f).format(p)})}else if(Ft(u)){(f="string"==typeof u.style?r.number[u.style]:It(u.style)?u.style.parsedOptions:void 0)&&f.scale&&(p*=f.scale||1),o.push({type:In.literal,value:n.getNumberFormat(t,f).format(p)})}else{if(Nt(u)){var h=u.children,m=u.value,v=i[m];if(!Vn(v))throw new jn(m,"function",a);var g=v(Hn(h,t,n,r,i,s).map((function(e){return e.value})));Array.isArray(g)||(g=[g]),o.push.apply(o,g.map((function(e){return{type:"string"==typeof e?In.literal:In.object,value:e}})))}if(zt(u)){if(!(_=u.options[p]||u.options.other))throw new Un(u.value,p,Object.keys(u.options),a);o.push.apply(o,Hn(_.value,t,n,r,i))}else if(Mt(u)){var _;if(!(_=u.options["="+p])){if(!Intl.PluralRules)throw new Bn('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Mn.MISSING_INTL_API,a);var w=n.getPluralRules(t,{type:u.pluralType}).select(p-(u.offset||0));_=u.options[w]||u.options.other}if(!_)throw new Un(u.value,p,Object.keys(u.options),a);o.push.apply(o,Hn(_.value,t,n,r,i,p-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===In.literal&&t.type===In.literal?n.value+=t.value:e.push(t),e}),[])}(o)}function Zn(e,t){return t?Object.keys(e).reduce((function(n,r){var i,s;return n[r]=(i=e[r],(s=t[r])?St(St(St({},i||{}),s||{}),Object.keys(i).reduce((function(e,t){return e[t]=St(St({},i[t]),s[t]||{}),e}),{})):i),n}),St({},e)):e}function Wn(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(In||(In={}));var Gn=function(){function e(t,n,r,i){var s,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===In.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Hn(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Zn(e.formats,r),this.locales=n,this.formatters=i&&i.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Cn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Ct([void 0],t)))}),{cache:Wn(s.number),strategy:Nn.variadic}),getDateTimeFormat:Cn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Ct([void 0],t)))}),{cache:Wn(s.dateTime),strategy:Nn.variadic}),getPluralRules:Cn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Ct([void 0],t)))}),{cache:Wn(s.pluralRules),strategy:Nn.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=Sn,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const Yn={},Qn=(e,t,n)=>n?(t in Yn||(Yn[t]={}),e in Yn[t]||(Yn[t][e]=n),n):n,Kn=(e,t)=>{if(null==t)return;if(t in Yn&&e in Yn[t])return Yn[t][e];const n=vr(t);for(let r=0;r<n.length;r++){const i=nr(n[r],e);if(i)return Qn(e,t,i)}};let Jn;const er=Ie({});function tr(e){return e in Jn}function nr(e,t){return tr(e)?function(e,t){if(t in e)return e[t];const n=t.split(".");let r=e;for(let e=0;e<n.length;e++)if("object"==typeof r){if(e>0){const t=n.slice(e,n.length).join(".");if(t in r){r=r[t];break}}r=r[n[e]]}else r=void 0;return r}(function(e){return Jn[e]||null}(e),t):null}function rr(e,...t){delete Yn[e],er.update((n=>(n[e]=Et.all([n[e]||{},...t]),n)))}Be([er],(([e])=>Object.keys(e))),er.subscribe((e=>Jn=e));const ir={};function sr(e){return ir[e]}function ar(e){return vr(e).some((e=>{var t;return null===(t=sr(e))||void 0===t?void 0:t.size}))}const or={};function lr(e){if(!ar(e))return e in or?or[e]:void 0;const t=function(e){return vr(e).map((e=>{const t=sr(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return or[e]=Promise.all(t.map((([e,t])=>function(e,t){return Promise.all(t.map((t=>(function(e,t){ir[e].delete(t),0===ir[e].size&&delete ir[e]}(e,t),t().then((e=>e.default||e)))))).then((t=>rr(e,...t)))}(e,t)))).then((()=>{if(ar(e))return lr(e);delete or[e]})),or[e]}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function cr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}const ur={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function dr(){return ur}const pr=Ie(!1);let fr;const hr=Ie(null);function mr(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function vr(e,t=dr().fallbackLocale){const n=mr(e);return t?[...new Set([...n,...mr(t)])]:n}function gr(){return fr}hr.subscribe((e=>{fr=e,"undefined"!=typeof window&&null!==e&&document.documentElement.setAttribute("lang",e)}));const _r=hr.set;hr.set=e=>{if(function(e){if(null==e)return;const t=vr(e);for(let e=0;e<t.length;e++){const n=t[e];if(tr(n))return n}}(e)&&ar(e)){const{loadingDelay:t}=dr();let n;return"undefined"!=typeof window&&null!=gr()&&t?n=window.setTimeout((()=>pr.set(!0)),t):pr.set(!0),lr(e).then((()=>{_r(e)})).finally((()=>{clearTimeout(n),pr.set(!1)}))}return _r(e)},hr.update=e=>_r(e(fr));const wr=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}},yr=(e,t)=>{const{formats:n}=dr();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},br=wr((e=>{var{locale:t,format:n}=e,r=cr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(r=yr("number",n)),new Intl.NumberFormat(t,r)})),kr=wr((e=>{var{locale:t,format:n}=e,r=cr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?r=yr("date",n):0===Object.keys(r).length&&(r=yr("date","short")),new Intl.DateTimeFormat(t,r)})),Er=wr((e=>{var{locale:t,format:n}=e,r=cr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?r=yr("time",n):0===Object.keys(r).length&&(r=yr("time","short")),new Intl.DateTimeFormat(t,r)})),$r=wr(((e,t=gr())=>new Gn(e,t,dr().formats,{ignoreTag:dr().ignoreTag}))),xr=(e,t={})=>{"object"==typeof e&&(e=(t=e).id);const{values:n,locale:r=gr(),default:i}=t;if(null==r)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let s=Kn(e,r);if(s){if("string"!=typeof s)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof s}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),s}else dr().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${vr(r).join('", "')}".${ar(gr())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),s=i||e;if(!n)return s;let a=s;try{a=$r(s,r).format(n)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return a},Tr=(e,t)=>((e={})=>{var{locale:t=gr()}=e,n=cr(e,["locale"]);return Er(Object.assign({locale:t},n))})(t).format(e),Rr=(e,t)=>((e={})=>{var{locale:t=gr()}=e,n=cr(e,["locale"]);return kr(Object.assign({locale:t},n))})(t).format(e),Pr=(e,t)=>((e={})=>{var{locale:t=gr()}=e,n=cr(e,["locale"]);return br(Object.assign({locale:t},n))})(t).format(e),Sr=(e,t=gr())=>Kn(e,t),Cr=Be([hr,er],(()=>xr));Be([hr],(()=>Tr)),Be([hr],(()=>Rr)),Be([hr],(()=>Pr)),Be([hr,er],(()=>Sr));var Ar={file:"File",open:"Open",load_url:"Load From URL",export:"Download / Export",open_drafts:"Open (Web Storage)",save_draft:"Save (Web Storage)",edit:"Edit",undo:"Undo",redo:"Redo",channel_modal:"Swap Stereo Channels / Mono",cut:"",select:"Select",select_all:"Select All",deselect_all:"Clear selection",transport:"Transport",play:"Play",pause:"Pause",stop:"Stop","play/pause":"Play / Pause","play/stop":"Play / Stop",recording:"Record",effect:"Effect",gain:"Gain",fade_in:"Fade In",fade_out:"Fade Out",voice_noise_reduction:"Noise Reduction (Voice)",paragraphic_eq:"Paragraphic EQ",compressor:"Compressor",normalize:"Normalize",graphic_eq:"Graphic EQ",graphic_eq_20_bands:"Graphic EQ (20 bands)",hard_limiter:"Hard Limiter",delay:"Delay",distortion:"Distortion",reverb:"Reverb",speed:"Change Speed",reverse:"Reverse",invert:"Invert",remove_silence:"Remove Silence",view:"View",follow_cursor:"Auto-scroll during playback",peak_separators:"Peak Separators",timeline:"Timeline",center_to_cursor:"Center to Cursor",cursor_position:"Cursor Position",zoom:"Zoom",zoom_in:"Zoom In",zoom_normal:"Zoom Normal",zoom_out:"Zoom Out",zoom_to_selection:"Zoom to Selection",zoom_reset:"Zoom Reset",tools:"Tools",tempo_tools:"Tempo Tools",id3_tags:"ID3 Tags",metadata:"Metadata (ID3 Tags)",ok:"Ok",apply:"Apply {s}",cancel:"Cancel",save:"Save",selection:"Selection",start:"Start",end:"End",duration:"Duration",frequency_analyser:"Frequency",spectrum_analyser:"Spectrum",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Save Preset",insert_silence:"Insert Silence",presets:"Presets",preset_name:"Preset name",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Enter name",progress:"Progress",close:"Close"},Dr={file:"",open:"",load_url:"   URL",export:" /  ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:"   / ",cut:"",select:"",select_all:" ",deselect_all:" ",transport:"",play:"",pause:" ",stop:"","play/pause":" /  ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:" ",fade_out:" ",voice_noise_reduction:"  ( )",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" ",graphic_eq_20_bands:"  (20)",hard_limiter:" ",delay:"",distortion:"",reverb:"",speed:" ",reverse:"",invert:"",remove_silence:" ",view:"",follow_cursor:" ",peak_separators:"Peak Separators",timeline:" ",center_to_cursor:"Center to Cursor",cursor_position:"-",zoom:"",zoom_in:" ",zoom_normal:" ",zoom_out:" ",zoom_to_selection:"  ",zoom_reset:"Zoom Reset",tools:"",tempo_tools:"  (  )",id3_tags:"ID3 Tags",metadata:"   (ID3 Tags)",ok:"",apply:" {s}",cancel:"",save:"",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:" ",insert_silence:"Insert Silence",presets:"",preset_name:"  ",dB:"dB",Hz:"",kHz:"kHz",enter_name:" ",progress:"",close:""},Fr={file:"Datei",open:"ffnen",load_url:"Von URL ffnen",export:"Herunterladen / Exportieren",open_drafts:"ffnen (Web Storage)",save_draft:"Speichern (Web Storage)",edit:"Bearbeitungswerkzeuge",undo:"Rckgngig",redo:"Wiederherstellen",channel_modal:"Stereo&kanle tauschen / Mono",cut:"Ausschneiden",select:"Auswhlen",select_all:"Alles auswhlen",deselect_all:"Auswahl lschen",transport:"Ansicht",play:"Wiedergabe",pause:"Pause",stop:"Stopp","play/pause":"Wiedergabe / Pause","play/stop":"Wiedergabe / Stopp",recording:"Aufnahme",effect:"Effekt",gain:"Verstrkung",fade_in:"Einblenden",fade_out:"Ausblenden",voice_noise_reduction:"Rausch-Verminderung (Stimme)",paragraphic_eq:"Paragraphic EQ",compressor:"Kompressor",normalize:"Normalisieren",graphic_eq:"Grafischer EQ",graphic_eq_20_bands:"Grafischer EQ (20 Bnder)",hard_limiter:"Harter Begrenzer",delay:"Delay",distortion:"Verzerrung",reverb:"Hall",speed:"Geschwindigkeit ndern",reverse:"Rckwrts",invert:"Invertieren",remove_silence:"Stille krzen",view:"Ansicht",follow_cursor:"Automatisch scrollen",peak_separators:"Peak Separators",timeline:"Zeitleiste",center_to_cursor:"Center to Cursor",cursor_position:"Cursorposition",zoom:"Zoom",zoom_in:"Heran zoomen",zoom_normal:"Normal zoomen",zoom_out:"Heraus zoomen",zoom_to_selection:"Auf Auswahl zoomen",zoom_reset:"Zoom Reset",tools:"Werkzeuge",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadaten (ID3 Tags)",ok:"Ok",apply:"{s} anwenden",cancel:"Abbrechen",save:"Speichern",selection:"Auswahl",start:"Start",end:"Ende",duration:"Dauer",frequency_analyser:"Frequenz",spectrum_analyser:"Spektrum",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Voreinstellung speichern",insert_silence:"Insert Silence",presets:"Voreinstellungen",preset_name:"Voreinstellungsname",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Geben Sie einen Namen",progress:"Fortschritt",close:"Schlieen"},qr={file:"Archivo",open:"Abrir",load_url:"Abrir desde URL",export:"Descargar / Exportar",open_drafts:"Abrir (Web Storage)",save_draft:"Guardar (Web Storage)",edit:"Edicin",undo:"Deshacer",redo:"Rehacer",channel_modal:"Intercambiar canales estreo / Mono",cut:"Cortar",select:"Seleccionar",select_all:"Seleccionar todo",deselect_all:"Limpiar seleccin",transport:"Reproduccin",play:"Reproducir",pause:"Pausa",stop:"Detener","play/pause":"Reproducir / Pausa","play/stop":"Reproducir / Detener",recording:"Grabar",effect:"Efecto",gain:"Ganancia",fade_in:"Aparecer progresivamente",fade_out:"Desvanecer progresivamente",voice_noise_reduction:"Reduccin de ruido (voz)",paragraphic_eq:"Paragraphic EQ",compressor:"Compresor",normalize:"Normalizar",graphic_eq:"Ecualizador grfico",graphic_eq_20_bands:"Ecualizador grfico (20 bandas)",hard_limiter:"Limitador fuerte",delay:"Retardo",distortion:"Distorsin",reverb:"Reverberacin",speed:"Cambiar velocidad",reverse:"Revertir",invert:"Inversin",remove_silence:"Truncar silencio",view:"Ver",follow_cursor:"Desplazamiento automtico",peak_separators:"Peak Separators",timeline:"Lnea de tiempo",center_to_cursor:"Center to Cursor",cursor_position:"Posicin del cursor",zoom:"Ampliar",zoom_in:"Acercar",zoom_normal:"Normal",zoom_out:"Alejar",zoom_to_selection:"Ampliar la seleccin",zoom_reset:"Zoom Reset",tools:"Herramientas",tempo_tools:"Ritmo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadatos (ID3 Tags)",ok:"Aceptar",apply:"Aplicar {s}",cancel:"Cancelar",save:"Guardar",selection:"Seleccin",start:"Inicio",end:"Final",duration:"Duracin",frequency_analyser:"Frecuencia",spectrum_analyser:"Espectro",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Guardar valor predefinido",insert_silence:"Insert Silence",presets:"Valores predefinidos",preset_name:"Nombre del valor predefinido",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Introduzca el nombre",progress:"Progreso",close:"Cerrar"},Lr={file:"Fichier",open:"Ouvrir",load_url:"Ouvrir depuis une URL",export:"Tlchargement / Exporter",open_drafts:"Ouvrir (Web Storage)",save_draft:"Sauvegarde (Web Storage)",edit:"dition",undo:"Annuler",redo:"Refaire",channel_modal:"Permuter les canaux stro / Mono",cut:"Couper et raccorder",select:"Slection",select_all:"Tout slectionner",deselect_all:"Effacer la slection",transport:"Transport",play:"Lecture",pause:"Pause",stop:"Arrt","play/pause":"Lecture / Pause","play/stop":"Lecture / Arrt",recording:"Enregistrement",effect:"Effet",gain:"Gain",fade_in:"Fondu en ouverture",fade_out:"Fondu en fermeture",voice_noise_reduction:"Rduction de bruit (voix)",paragraphic_eq:"Paragraphic EQ",compressor:"Compresseur",normalize:"Normaliser",graphic_eq:"galiseur graphique",graphic_eq_20_bands:"galiseur graphique (20 bandes)",hard_limiter:"Limiteur dur",delay:"Dlai",distortion:"Distorsion",reverb:"Rverbration",speed:"Changer la vitesse",reverse:"Inverser sens",invert:"Inverser",remove_silence:"Tronquer le silence",view:"Affichage",follow_cursor:"Dfilement-automatique",peak_separators:"Peak Separators",timeline:"Ligne temporelle",center_to_cursor:"Center to Cursor",cursor_position:"Position du curseur",zoom:"Zoom",zoom_in:"Zoom avant",zoom_normal:"Zoom normal",zoom_out:"Zoom arrire",zoom_to_selection:"Zoom sur la slection",zoom_reset:"Zoom Reset",tools:"Outils",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 (mtadonnes MP3)",metadata:"Mtadonnes (ID3 Tags)",ok:"Valider",apply:"Appliquer {s}",cancel:"Annuler",save:"Sauvegarder",selection:"Slection",start:"Dbut",end:"Fin",duration:"Dure",frequency_analyser:"Frquence",spectrum_analyser:"Spectre",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Sauvegarder le prrglage",insert_silence:"Insert Silence",presets:"Prrglages",preset_name:"Nom du prrglage",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Entrer le nom",progress:"Progression",close:"Fermer"},zr={file:"",open:"",load_url:"Load From URL",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:" ",redo:"",channel_modal:"  - / ",cut:"",select:"",select_all:"  ",deselect_all:" ",transport:"",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:" ",fade_out:" ",voice_noise_reduction:"  ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" EQ",graphic_eq_20_bands:" EQ (20)",hard_limiter:" ",delay:"",distortion:"",reverb:"",speed:" ",reverse:"",invert:"",remove_silence:" ",view:"",follow_cursor:":-",peak_separators:"Peak Separators",timeline:"",center_to_cursor:"Center to Cursor",cursor_position:" ",zoom:" ",zoom_in:" ",zoom_normal:" ",zoom_out:" ",zoom_to_selection:"  ",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" ( )",id3_tags:"ID3 Tags",metadata:" (ID3 Tags)",ok:"",apply:"{s}  ",cancel:"",save:" ",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"-  ",insert_silence:"Insert Silence",presets:"-",preset_name:"  ",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:" ",progress:"",close:" "},Mr={file:"File",open:"Apri",load_url:"Apri da URL",export:"Scarica / Esporta",open_drafts:"Apri (Web Storage)",save_draft:"Salva (Web Storage)",edit:"Modifica",undo:"Annulla",redo:"Ripristina",channel_modal:"Scambia &canali stereo / Mono",cut:"Taglia",select:"Seleziona",select_all:"Seleziona tutto",deselect_all:"Azzera selezione",transport:"Attivit",play:"Riproduci",pause:"Pausa",stop:"Ferma","play/pause":"Riproduci / Pausa","play/stop":"Riproduci / Ferma",recording:"Registra",effect:"Effetto",gain:"Guadagno",fade_in:"Dissolvenza in entrata",fade_out:"Dissolvenza in uscita",voice_noise_reduction:"Riduzione rumore (voce)",paragraphic_eq:"Paragraphic EQ",compressor:"Compressione",normalize:"Normalizza",graphic_eq:"EQ grafico",graphic_eq_20_bands:"EQ grafico (20 bande)",hard_limiter:"Forte limitatore",delay:"Ritardo",distortion:"Distorsione",reverb:"Riverbero",speed:"Cambia velocit",reverse:"Inverti (Reverse)",invert:"Inverti (Invert)",remove_silence:"Tronca silenzio",view:"Visualizza",follow_cursor:"Scorrimento automatico",peak_separators:"Peak Separators",timeline:"Timeline",center_to_cursor:"Center to Cursor",cursor_position:"Posizione del cursore",zoom:"Zoom",zoom_in:"Zoom avanti",zoom_normal:"Zoom normale",zoom_out:"Zoom indietro",zoom_to_selection:"Zoom su selezione",zoom_reset:"Zoom Reset",tools:"Strumenti",tempo_tools:"Tempo (bpm)",id3_tags:"Tag ID3",metadata:"Metadati (ID3 Tags)",ok:"Ok",apply:"Applica {s}",cancel:"Annulla",save:"Salva",selection:"Selezione",start:"Inizia",end:"Fine",duration:"Durata",frequency_analyser:"Frequenza",spectrum_analyser:"Spettro",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Salva combinazione",insert_silence:"Insert Silence",presets:"Preset",preset_name:"Nome combinazione",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Inserire il nome",progress:"Avanzamento",close:"Chiudi"},Or={file:"",open:"",load_url:"URL",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:" / ",cut:"",select:"",select_all:"",deselect_all:"",transport:"/",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:"",fade_out:"",voice_noise_reduction:" ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" EQ",graphic_eq_20_bands:" EQ (20)",hard_limiter:"Hard Limiter",delay:"",distortion:"",reverb:"",speed:": ",reverse:"",invert:"",remove_silence:"",view:"",follow_cursor:"",peak_separators:"Peak Separators",timeline:"",center_to_cursor:"Center to Cursor",cursor_position:"",zoom:"",zoom_in:"",zoom_normal:"",zoom_out:"",zoom_to_selection:"",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" (BPM)",id3_tags:"ID3",metadata:" (ID3 Tags)",ok:"Ok",apply:"{s} ",cancel:"",save:"",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"",insert_silence:"Insert Silence",presets:"",preset_name:"",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"",progress:"",close:""},Nr={file:"",open:"",load_url:"URL ",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:" ",redo:"",channel_modal:"   / ",cut:"",select:"",select_all:" ",deselect_all:" ",transport:"",play:"",pause:" ",stop:"","play/pause":" /  ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:"  ( )",fade_out:"  ( )",voice_noise_reduction:"  ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" EQ",graphic_eq_20_bands:" EQ (20 )",hard_limiter:" ",delay:"",distortion:" ()",reverb:" ()",speed:": ",reverse:": ",invert:": ",remove_silence:" ",view:"",follow_cursor:" ",peak_separators:"Peak Separators",timeline:"",center_to_cursor:"Center to Cursor",cursor_position:" ",zoom:"/",zoom_in:"",zoom_normal:" ",zoom_out:"",zoom_to_selection:"  ",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" (bpm)",id3_tags:"ID3 Tags",metadata:" (ID3 Tags)",ok:"",apply:"{s} ",cancel:"",save:"",selection:"",start:"",end:"",duration:" ",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:" ",insert_silence:"Insert Silence",presets:"",preset_name:" ",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:" ",progress:"",close:""},Ir={file:"Plik",open:"Otwrz",load_url:"Otwrz z adresu URL",export:"Pobierz / Eksportuj",open_drafts:"Otwrz (Web Storage)",save_draft:"Zapisa (Web Storage)",edit:"Edycja",undo:"Cofnij",redo:"Ponw",channel_modal:"Zamie kanay stereo / Mono",cut:"Wytnij",select:"Zaznacz",select_all:"Zaznacz wszystko",deselect_all:"Wyczy zaznaczenie",transport:"Transport",play:"Odtwarzaj",pause:"Pauza",stop:"Zatrzymaj","play/pause":"Odtwarzaj / Pauza","play/stop":"Odtwarzaj / Zatrzymaj",recording:"Nagrywaj",effect:"Efekt",gain:"Wzmocnienie",fade_in:"Zgonienie",fade_out:"ciszenie",voice_noise_reduction:"Redukcja szumu (gos)",paragraphic_eq:"Paragraphic EQ",compressor:"Kompresor",normalize:"Normalizuj",graphic_eq:"Korektor graficzny",graphic_eq_20_bands:"Korektor graficzny (20 zespoy)",hard_limiter:"Twardy ogranicznik",delay:"Opnienie",distortion:"Znieksztacenie",reverb:"Pogos",speed:"Zmie prdko",reverse:"Cofnij w czasie",invert:"Odwr",remove_silence:"Obetnij cisz",view:"Widok",follow_cursor:"Automatycznie przewi",peak_separators:"Peak Separators",timeline:"O czasu",center_to_cursor:"Center to Cursor",cursor_position:"Pozycja kursora",zoom:"Powikszenie",zoom_in:"Powiksz",zoom_normal:"Normalny rozmiar",zoom_out:"Pomniejsz",zoom_to_selection:"Powiksz do zaznaczenia",zoom_reset:"Zoom Reset",tools:"Narzdzia",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadane (ID3 Tags)",ok:"Ok",apply:"Zastosuj {s}",cancel:"Anuluj",save:"Zapisz",selection:"Zaznaczenie",start:"Pocztek",end:"Koniec",duration:"Dugo",frequency_analyser:"Czstotliwo",spectrum_analyser:"Widmo",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Zapisz preset",insert_silence:"Insert Silence",presets:"Presety",preset_name:"Nazwa preseta",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Wprowad nazw",progress:"Postp",close:"Zamknij"},Br={file:"Ficheiro",open:"Abrir",load_url:"Abrir de URL",export:"Transferir / Exportar",open_drafts:"Abrir (Web Storage)",save_draft:"Guardar (Web Storage)",edit:"Edio",undo:"Desfazer",redo:"Refazer",channel_modal:"Trocar Canais Estreo / Mono",cut:"Cortar",select:"Selecionar",select_all:"Selecionar Tudo",deselect_all:"Limpar seleo",transport:"Controlo",play:"Reproduzir",pause:"Pausa",stop:"Parar","play/pause":"Reproduzir / Pausa","play/stop":"Reproduzir / Parar",recording:"Gravar",effect:"Efeito",gain:"Ganho",fade_in:"Fade In",fade_out:"Fade Out",voice_noise_reduction:"Reduo do rudo (voz)",paragraphic_eq:"Paragraphic EQ",compressor:"Compressor",normalize:"Normalizar",graphic_eq:"EQ Grfico",graphic_eq_20_bands:"EQ Grfico (20 bandas)",hard_limiter:"Limitador Rgido",delay:"Atraso",distortion:"Distoro",reverb:"Ressonncia",speed:"Alterar Pulsao",reverse:"Reverter",invert:"Inverter",remove_silence:"Truncar Silncio",view:"Ver",follow_cursor:"Auto-deslocar",peak_separators:"Peak Separators",timeline:"Linha de Tempo",center_to_cursor:"Center to Cursor",cursor_position:"Posio de Cursor",zoom:"Zoom",zoom_in:"Ampliar",zoom_normal:"Normal Zoom",zoom_out:"Reduzir",zoom_to_selection:"Zoom para a Seleo",zoom_reset:"Zoom Reset",tools:"Ferramentas",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadados (ID3 Tags)",ok:"Ok",apply:"Aplicar {s}",cancel:"Cancelar",save:"Guardar",selection:"Seleo",start:"Incio",end:"Fim",duration:"Durao",frequency_analyser:"Frequncia",spectrum_analyser:"Espectro",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Guardar Predefinio",insert_silence:"Insert Silence",presets:"Predefinies",preset_name:"Nome predefinio",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Insira o nome",progress:"Progresso",close:"Fechar"},Ur={file:"Arquivo",open:"Abrir",load_url:"Abrir de URL",export:"Baixar / Exportar",open_drafts:"Abrir (Web Storage)",save_draft:"Salvar (Web Storage)",edit:"Edio",undo:"Desfazer",redo:"Refazer",channel_modal:"Inverter Canais Estreo / Mono",cut:"Recortar",select:"Selecionar",select_all:"Selecionar Tudo",deselect_all:"Limpar seleo",transport:"Controle",play:"Reproduzir",pause:"Pausa",stop:"Parar","play/pause":"Reproduzir / Pausa","play/stop":"Reproduzir / Parar",recording:"Gravar",effect:"Efeito",gain:"Ganho",fade_in:"Suavizao de Entrada (Fade in)",fade_out:"Suavizao de Sada (Fade out)",voice_noise_reduction:"Reduo de Rudo (voz)",paragraphic_eq:"Paragraphic EQ",compressor:"Compressor",normalize:"Normalizar",graphic_eq:"Equalizador grfico",graphic_eq_20_bands:"Equalizador grfico (20 bandas)",hard_limiter:"Limitador pesado",delay:"Atraso",distortion:"Distoro",reverb:"Reverberador",speed:"Alterar Velocidade",reverse:"Inverter Incio e Fim",invert:"Inverter",remove_silence:"Travar Silncio",view:"Exibir",follow_cursor:"Rolar tela automaticamente",peak_separators:"Peak Separators",timeline:"Linha do tempo",center_to_cursor:"Center to Cursor",cursor_position:"Posio do Cursor",zoom:"Zoom",zoom_in:"Aumentar Zoom",zoom_normal:"Zoom Normal",zoom_out:"Diminuir Zoom",zoom_to_selection:"Zoom na Seleo",zoom_reset:"Zoom Reset",tools:"Ferramentas",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadados (ID3 Tags)",ok:"Ok",apply:"Aplicar {s}",cancel:"Cancelar",save:"Salvar",selection:"Seleo",start:"Incio",end:"Fim",duration:"Durao",frequency_analyser:"Frequncia",spectrum_analyser:"Espectro",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Salvar predefinio",insert_silence:"Insert Silence",presets:"Ajustes",preset_name:"Nome da predefinio",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Digite o nome",progress:"Progresso",close:"Fechar"},jr={file:"",open:"",load_url:"  ",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:"   / ",cut:"",select:"",select_all:" ",deselect_all:" ",transport:"",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:"-",fade_out:"-",voice_noise_reduction:"  ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" EQ",graphic_eq_20_bands:" EQ (20 )",hard_limiter:" ",delay:"",distortion:"",reverb:"",speed:" ",reverse:"",invert:"",remove_silence:" ",view:"",follow_cursor:"",peak_separators:"Peak Separators",timeline:" ",center_to_cursor:"Center to Cursor",cursor_position:" ",zoom:"",zoom_in:"",zoom_normal:" ",zoom_out:"",zoom_to_selection:"  ",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" (/)",id3_tags:"ID3 ()",metadata:" (ID3 Tags)",ok:"Ok",apply:" {s}",cancel:"",save:"",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:" ",insert_silence:"Insert Silence",presets:"",preset_name:" ",dB:"",Hz:"",kHz:"",enter_name:" ",progress:"",close:""},Xr={file:"Dosya",open:"A",load_url:"URL Balantsn A",export:"ndir / Da Aktar",open_drafts:"A (Web Storage)",save_draft:"Kaydet (Web Storage)",edit:"Dzenle",undo:"Geri Al",redo:"Yinele",channel_modal:"ift Kanallar Deitirin / Tek Kanall",cut:"Kes",select:"Se",select_all:"Tmn Se",deselect_all:"Seimi temizle",transport:"Hareket",play:"Oynat",pause:"Duraklat",stop:"Durdur","play/pause":"Oynat / Duraklat","play/stop":"Oynat / Durdur",recording:"Kayt",effect:"Efekt",gain:"Kazan",fade_in:"Artarak Gir",fade_out:"Azalarak k",voice_noise_reduction:"Grlt Azaltma (sz)",paragraphic_eq:"Paragraphic EQ",compressor:"Sktrc",normalize:"Normalletir",graphic_eq:"Grafik EQ",graphic_eq_20_bands:"Grafik EQ (20 bantlar)",hard_limiter:"Sert Snrlayc",delay:"Gecikme",distortion:"Bozma",reverb:"Yank",speed:"Hz Deiimi",reverse:"Ters evir",invert:"Evir",remove_silence:"Sessizlii Buda",view:"Grnm",follow_cursor:"Otomatik kaydrlsn",peak_separators:"Peak Separators",timeline:"Zaman Ak",center_to_cursor:"Center to Cursor",cursor_position:"mle Konumu",zoom:"Yaknlatr",zoom_in:"Yaknlatr",zoom_normal:"Normal Grnm",zoom_out:"Uzaklatr",zoom_to_selection:"Seimi Yaknlatr",zoom_reset:"Zoom Reset",tools:"Aralar",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"st Veri (ID3 Tags)",ok:"Tamam",apply:"{s} uygula",cancel:"ptal",save:"Kaydet",selection:"Seim",start:"Balang",end:"Biti",duration:"Sre",frequency_analyser:"Frekans",spectrum_analyser:"Spektrum",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Hazr Ayar Kaydet",insert_silence:"Insert Silence",presets:"n ayarlar",preset_name:"Hazr ayar ad",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"Adn girin",progress:"lem",close:"Kapat"},Vr={file:"",open:"",load_url:"  URL",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:"    / ",cut:"",select:"",select_all:" ",deselect_all:" ",transport:"",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:" ",fade_out:" ",voice_noise_reduction:"  ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:" EQ",graphic_eq_20_bands:" EQ (20 )",hard_limiter:" ",delay:"",distortion:"",reverb:"",speed:" ",reverse:"",invert:"",remove_silence:" ",view:"",follow_cursor:"",peak_separators:"Peak Separators",timeline:" ",center_to_cursor:"Center to Cursor",cursor_position:" ",zoom:"",zoom_in:"",zoom_normal:" ",zoom_out:"",zoom_to_selection:"  ",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" (  .)",id3_tags:"ID3 ()",metadata:" (ID3 Tags)",ok:"",apply:" {s}",cancel:"",save:"",selection:" ",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:" ",insert_silence:"Insert Silence",presets:"",preset_name:"  ",dB:"",Hz:"",kHz:"",enter_name:" ",progress:"",close:""},Hr={file:"Tp tin",open:"M",load_url:"M t URL",export:"Ti v / Xut",open_drafts:"M (Web Storage)",save_draft:"Lu (Web Storage)",edit:"Chnh sa",undo:"Hu b",redo:"Lm li",channel_modal:"Swap Stereo Channels / Mono",cut:"Ct",select:"Chn",select_all:"Chn tt c",deselect_all:"Xo phn  chn",transport:"Chuyn i",play:"Pht",pause:"Tm dng",stop:"Dng","play/pause":"Pht / Tm dng","play/stop":"Pht / Dng",recording:"Thu",effect:"Hiu ng",gain:" khuch i",fade_in:"m lng tng dn",fade_out:"m lng gim dn",voice_noise_reduction:"Gim Nhiu (ting ni)",paragraphic_eq:"Paragraphic EQ",compressor:"Compressor",normalize:"Chun ho",graphic_eq:"EQ  ho",graphic_eq_20_bands:"EQ  ho (20 di)",hard_limiter:"Hard Limiter",delay:"Delay",distortion:"Distortion",reverb:"Reverb",speed:"Thay i tc ",reverse:"o ngc",invert:"o",remove_silence:"Ct b khong lng",view:"Xem",follow_cursor:"Follow Cursor",peak_separators:"Peak Separators",timeline:"Thi gian biu",center_to_cursor:"Center to Cursor",cursor_position:"V tr con tr",zoom:"Zoom",zoom_in:"Phng To",zoom_normal:"ng &C",zoom_out:"Thu Nh",zoom_to_selection:"Va vng chn",zoom_reset:"Zoom Reset",tools:"Tools",tempo_tools:"Tempo (bpm)",id3_tags:"ID3 Tags",metadata:"Metadata (ID3 Tags)",ok:"Ok",apply:"p dng {s}",cancel:"Cancel",save:"Lu",selection:"Vng chn",start:"Bt u",end:"Kt thc",duration:" di",frequency_analyser:"Tn s",spectrum_analyser:"Ph",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"Lu thit lp sn",insert_silence:"Insert Silence",presets:"Presets - Thit lp sn",preset_name:"Tn thit lp sn",dB:"dB",Hz:"Hz",kHz:"kHz",enter_name:"t tn",progress:"ang tin hnh",close:"ng"},Zr={file:"",open:"",load_url:" URL ",export:" / ",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:" / ",cut:"",select:"",select_all:"",deselect_all:"",transport:"",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:"",fade_out:"",voice_noise_reduction:" ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:"",graphic_eq_20_bands:" (20)",hard_limiter:"",delay:"",distortion:"",reverb:"",speed:"",reverse:"",invert:"",remove_silence:"",view:"",follow_cursor:"",peak_separators:"Peak Separators",timeline:"",center_to_cursor:"Center to Cursor",cursor_position:"",zoom:"",zoom_in:"",zoom_normal:"",zoom_out:"",zoom_to_selection:"",zoom_reset:"Zoom Reset",tools:"",tempo_tools:"bpm",id3_tags:"ID3 Tags",metadata:" (ID3 Tags)",ok:"",apply:" {s}",cancel:"",save:"",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"",insert_silence:"Insert Silence",presets:"",preset_name:"",dB:"",Hz:"Hz",kHz:"kHz",enter_name:" ",progress:"",close:""},Wr={file:"",open:"",export:" / ",load_url:"",open_drafts:" (Web Storage)",save_draft:" (Web Storage)",edit:"",undo:"",redo:"",channel_modal:" / ",cut:"",select:"",select_all:"",deselect_all:"",transport:"",play:"",pause:"",stop:"","play/pause":" / ","play/stop":" / ",recording:"",effect:"",gain:"",fade_in:"",fade_out:"",voice_noise_reduction:" ()",paragraphic_eq:"Paragraphic EQ",compressor:"",normalize:"",graphic_eq:"",graphic_eq_20_bands:" (20)",hard_limiter:"",delay:"",distortion:"",reverb:"",speed:"",reverse:"",invert:"",remove_silence:"",view:"",follow_cursor:"",peak_separators:"Peak Separators",timeline:"",center_to_cursor:"Center to Cursor",cursor_position:"",zoom:"",zoom_in:"",zoom_normal:"",zoom_out:"",zoom_to_selection:"",zoom_reset:"Zoom Reset",tools:"",tempo_tools:" (bpm)",id3_tags:"ID3 Tags",metadata:" (ID3 Tags)",ok:"",apply:" {s}",cancel:"",save:"",selection:"",start:"",end:"",duration:"",frequency_analyser:"",spectrum_analyser:"",successfully_stored:"Successfully Stored",open_in_existing:"Open in Existing?",save_preset:"",insert_silence:"Insert Silence",presets:"",preset_name:"",dB:"",Hz:"Hz",kHz:"kHz",enter_name:"",progress:"",close:""};rr("en",Ar),rr("ar",Dr),rr("de",Fr),rr("es",qr),rr("fr",Lr),rr("hi",zr),rr("it",Mr),rr("ja",Or),rr("ko",Nr),rr("pl",Ir),rr("pt",Br),rr("pt-BR",Ur),rr("ru",jr),rr("tr",Xr),rr("uk",Vr),rr("vi",Hr),rr("zh",Zr),rr("zh-TW",Wr);const Gr="undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0];var Yr;const Qr=(Yr=/^\/(.*?)\//,"undefined"==typeof window?null:((e,t)=>{const n=t.exec(e);return n&&n[1]||null})(window.location.pathname,Yr))||Gr;function Kr(t){let n,r;return{c(){n=v("svg"),r=v("path"),b(r,"fill",t[2]),b(r,"stroke",t[2]),b(r,"stroke-width","10"),b(r,"d","M447.996,192c-8.789,0-16.939,2.667-23.723,7.211c-5.845-16.597-21.696-28.544-40.277-28.544\n\t\t\tc-8.789,0-16.939,2.667-23.723,7.211c-5.845-16.597-21.696-28.544-40.277-28.544c-7.765,0-15.061,2.091-21.355,5.739v-7.808\n\t\t\tc81.301-6.805,144.896-32.768,188.992-77.952c2.923-3.008,3.819-7.488,2.261-11.392c-1.557-3.904-5.269-6.549-9.493-6.699\n\t\t\tc-25.664-1.003-43.883-13.099-63.168-25.92C398.524,12.864,379.196,0,354.001,0c-29.867,0-49.344,10.24-63.552,17.749\n\t\t\tC282.684,7.04,270.161,0,255.974,0c-14.187,0-26.709,7.04-34.453,17.728C207.292,10.219,187.836,0,157.99,0\n\t\t\tc-25.173,0-44.523,12.864-63.232,25.28C75.473,38.101,57.254,50.219,31.59,51.2c-4.224,0.171-7.787,2.987-9.344,6.891\n\t\t\tc-0.341,0.875-0.107,1.813-0.213,2.731c-0.256,0.768-0.597,1.493-0.661,2.347c-0.427,5.355,3.243,9.92,8.32,11.072\n\t\t\tc43.563,41.941,105.259,66.453,183.616,73.024v168.96c0,2.411-1.6,3.435-2.56,3.84c-0.939,0.427-2.773,0.811-4.523-0.896\n\t\t\tl-17.365-17.365c-27.691-27.691-72.725-27.691-100.416,0c-4.16,4.16-4.16,10.923,0,15.083L240.678,469.12\n\t\t\tC268.348,496.768,305.126,512,344.23,512c80.747,0,146.432-65.685,146.432-146.432V234.667\n\t\t\tC490.662,211.136,471.526,192,447.996,192z M298.662,126.08V85.227c41.941-0.811,111.488-5.867,147.861-8.683\n\t\t\tC408.721,104.085,359.27,120.789,298.662,126.08z M300.326,36.629c13.611-7.168,29.035-15.296,53.675-15.296\n\t\t\tc18.752,0,33.899,10.069,51.435,21.717c6.805,4.523,13.995,9.216,21.675,13.547c-37.952,2.816-93.419,6.571-128.448,7.275V42.667\n\t\t\tc0-1.664-0.107-3.328-0.32-4.992C299.004,37.333,299.644,36.971,300.326,36.629z M106.556,43.072\n\t\t\tc17.536-11.669,32.683-21.739,51.435-21.739c24.64,0,40.064,8.128,53.696,15.317c0.661,0.341,1.323,0.683,1.963,1.024\n\t\t\tc-0.192,1.472-0.256,2.923-0.277,4.395c0,0.213-0.064,0.384-0.064,0.597v21.227c-34.709-0.64-89.173-4.032-129.259-6.805\n\t\t\tC92.07,52.651,99.494,47.765,106.556,43.072z M66.513,77.269c40.533,2.901,106.347,7.232,146.795,7.957v40.853\n\t\t\tC153.382,120.853,104.337,104.448,66.513,77.269z M469.329,365.568c0,68.992-56.107,125.099-125.099,125.099\n\t\t\tc-33.408,0-64.832-13.013-88.448-36.629L111.889,310.144c18.816-12.075,45.696-9.472,61.909,6.741l17.365,17.365\n\t\t\tc7.317,7.317,18.261,9.515,27.776,5.525c9.536-3.968,15.723-13.205,15.723-23.552V137.579V42.667\n\t\t\tc0-11.755,9.579-21.333,21.333-21.333s21.333,9.579,21.333,21.333v94.912v107.755c0,5.888,4.779,10.667,10.667,10.667\n\t\t\ts10.667-4.779,10.667-10.667V192c0-11.755,9.579-21.333,21.333-21.333s21.333,9.579,21.333,21.333v32\n\t\t\tc0,5.888,4.779,10.667,10.667,10.667c5.888,0,10.667-4.779,10.667-10.667v-10.667c0-11.755,9.579-21.333,21.333-21.333\n\t\t\tc11.755,0,21.333,9.579,21.333,21.333v21.333c0,5.888,4.779,10.667,10.667,10.667c5.888,0,10.667-4.779,10.667-10.667\n\t\t\tc0-11.755,9.579-21.333,21.333-21.333c11.755,0,21.333,9.579,21.333,21.333V365.568z"),b(n,"viewBox","0 0 512 512"),E(n,"width",t[0]+"px"),E(n,"height",t[1]+"px")},m(e,t){p(e,n,t),d(n,r)},p(e,[t]){4&t&&b(r,"fill",e[2]),4&t&&b(r,"stroke",e[2]),1&t&&E(n,"width",e[0]+"px"),2&t&&E(n,"height",e[1]+"px")},i:e,o:e,d(e){e&&f(n)}}}function Jr(e,t,n){let{width:r}=t,{height:i}=t,{color:s}=t;return e.$$set=e=>{"width"in e&&n(0,r=e.width),"height"in e&&n(1,i=e.height),"color"in e&&n(2,s=e.color)},[r,i,s]}!function(e){const{formats:t}=e,n=cr(e,["formats"]),r=e.initialLocale||e.fallbackLocale;Object.assign(ur,n,{initialLocale:r}),t&&("number"in t&&Object.assign(ur.formats.number,t.number),"date"in t&&Object.assign(ur.formats.date,t.date),"time"in t&&Object.assign(ur.formats.time,t.time)),hr.set(r)}({fallbackLocale:"en",initialLocale:Qr}),setTimeout((()=>{Ke(Qr,"language",3)}),5e3);class ei extends re{constructor(e){super(),ne(this,e,Jr,Kr,s,{width:0,height:1,color:2})}}function ti(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M16 10v28l22-14z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ni(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M12 38h8V10h-8v28zm16-28v28h8V10h-8z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ri(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M12 12h24v24H12z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ii(e){let t,n;return{c(){t=v("svg"),n=v("circle"),b(n,"fill",e[2]),b(n,"cx","24"),b(n,"cy","24"),b(n,"r","15"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function si(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M32 2h-24c-2.21 0-4 1.79-4 4v28h4v-28h24v-4zm6 8h-22c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h22c2.21 0 4-1.79 4-4v-28c0-2.21-1.79-4-4-4zm0 32h-22v-28h22v28z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ai(e){let t,n,r,i,s;return{c(){t=v("svg"),n=v("circle"),r=v("circle"),i=v("circle"),s=v("path"),b(n,"cx","12"),b(n,"cy","36"),b(n,"fill","none"),b(n,"r","4"),b(r,"cx","24"),b(r,"cy","24"),b(r,"fill","none"),b(r,"r","1"),b(i,"cx","12"),b(i,"cy","12"),b(i,"fill","none"),b(i,"r","4"),b(s,"fill",e[2]),b(s,"d","M19.28 15.28c.45-1 .72-2.11.72-3.28 0-4.42-3.58-8-8-8s-8 3.58-8 8 3.58 8 8 8c1.17 0 2.28-.27 3.28-.72l4.72 4.72-4.72 4.72c-1-.45-2.11-.72-3.28-.72-4.42 0-8 3.58-8 8s3.58 8 8 8 8-3.58 8-8c0-1.17-.27-2.28-.72-3.28l4.72-4.72 14 14h6v-2l-24.72-24.72zm-7.28.72c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm0 24c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm12-15c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm14-19l-12 12 4 4 14-14v-2z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,a){p(e,t,a),d(t,n),d(t,r),d(t,i),d(t,s)},p(e,n){4&n&&b(s,"fill",e[2]),1&n&&E(t,"width",e[0]+"px"),2&n&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function oi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M38 4h-8.37c-.82-2.32-3.02-4-5.63-4s-4.81 1.68-5.63 4h-8.37c-2.21 0-4 1.79-4 4v32c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4v-32c0-2.21-1.79-4-4-4zm-14 0c1.1 0 2 .89 2 2s-.9 2-2 2-2-.89-2-2 .9-2 2-2zm14 36h-28v-32h4v6h20v-6h4v32z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function li(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M25 16c-5.29 0-10.11 1.97-13.8 5.2l-7.2-7.2v18h18l-7.23-7.23c2.77-2.33 6.32-3.77 10.23-3.77 7.09 0 13.09 4.61 15.19 11l4.73-1.56c-2.75-8.38-10.62-14.44-19.92-14.44z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ci(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M36.79 21.2c-3.68-3.23-8.5-5.2-13.79-5.2-9.3 0-17.17 6.06-19.92 14.44l4.73 1.56c2.1-6.39 8.1-11 15.19-11 3.91 0 7.46 1.44 10.23 3.77l-7.23 7.23h18v-18l-7.21 7.2z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ui(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function di(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M22 36V12L5 24l17 12zm1-12l17 12V12L23 24z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function pi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M8 36l17-12L8 12v24zm18-24v24l17-12-17-12z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function fi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M12 12h4v24h-4zm7 12l17 12V12z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function hi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function mi(e){let t,n,r,i;return{c(){t=v("svg"),n=v("path"),r=v("line"),i=v("line"),b(n,"fill",e[2]),b(n,"d","M31 28h-1.59l-.55-.55c1.96-2.27 3.14-5.22 3.14-8.45 0-7.18-5.82-13-13-13s-13 5.82-13 13 5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55v1.58l10 9.98 2.98-2.98-9.98-10zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z"),b(r,"stroke",e[2]),b(r,"stroke-width","3"),b(r,"x1","19"),b(r,"y1","13"),b(r,"x2","19"),b(r,"y2","25"),b(i,"stroke",e[2]),b(i,"stroke-width","3"),b(i,"x1","13"),b(i,"y1","19"),b(i,"x2","25"),b(i,"y2","19"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,s){p(e,t,s),d(t,n),d(t,r),d(t,i)},p(e,s){4&s&&b(n,"fill",e[2]),4&s&&b(r,"stroke",e[2]),4&s&&b(i,"stroke",e[2]),1&s&&E(t,"width",e[0]+"px"),2&s&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function vi(e){let t,n,r;return{c(){t=v("svg"),n=v("path"),r=v("line"),b(n,"fill",e[2]),b(n,"d","M31 28h-1.59l-.55-.55c1.96-2.27 3.14-5.22 3.14-8.45 0-7.18-5.82-13-13-13s-13 5.82-13 13 5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55v1.58l10 9.98 2.98-2.98-9.98-10zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z"),b(r,"stroke",e[2]),b(r,"stroke-width","3"),b(r,"x1","13"),b(r,"y1","19"),b(r,"x2","25"),b(r,"y2","19"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,i){p(e,t,i),d(t,n),d(t,r)},p(e,i){4&i&&b(n,"fill",e[2]),4&i&&b(r,"stroke",e[2]),1&i&&E(t,"width",e[0]+"px"),2&i&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function gi(e){let t,n,r,i,s,a;return{c(){t=v("svg"),n=v("path"),r=v("line"),i=v("line"),s=v("line"),a=v("line"),b(n,"fill",e[2]),b(n,"d","M31 28h-1.59l-.55-.55c1.96-2.27 3.14-5.22 3.14-8.45 0-7.18-5.82-13-13-13s-13 5.82-13 13 5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55v1.58l10 9.98 2.98-2.98-9.98-10zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z"),b(r,"stroke",e[2]),b(r,"stroke-width","3"),b(r,"x1","13"),b(r,"y1","16"),b(r,"x2","25"),b(r,"y2","16"),b(i,"stroke",e[2]),b(i,"stroke-width","3"),b(i,"x1","13"),b(i,"y1","22"),b(i,"x2","25"),b(i,"y2","22"),b(s,"stroke",e[2]),b(s,"stroke-width","3"),b(s,"x1","14.5"),b(s,"y1","15"),b(s,"x2","14.5"),b(s,"y2","23"),b(a,"stroke",e[2]),b(a,"stroke-width","3"),b(a,"x1","23.5"),b(a,"y1","15"),b(a,"x2","23.5"),b(a,"y2","23"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,o){p(e,t,o),d(t,n),d(t,r),d(t,i),d(t,s),d(t,a)},p(e,o){4&o&&b(n,"fill",e[2]),4&o&&b(r,"stroke",e[2]),4&o&&b(i,"stroke",e[2]),4&o&&b(s,"stroke",e[2]),4&o&&b(a,"stroke",e[2]),1&o&&E(t,"width",e[0]+"px"),2&o&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function _i(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M24 4c-11.05 0-20 8.95-20 20s8.95 20 20 20 20-8.95 20-20-8.95-20-20-20zm10 27.17l-2.83 2.83-7.17-7.17-7.17 7.17-2.83-2.83 7.17-7.17-7.17-7.17 2.83-2.83 7.17 7.17 7.17-7.17 2.83 2.83-7.17 7.17 7.17 7.17z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function wi(e){let t,n,r;return{c(){t=v("svg"),n=v("path"),r=v("circle"),b(n,"fill",e[2]),b(n,"d","M41.88 22.17c-.92-8.34-7.54-14.96-15.88-15.88v-4.12h-4v4.12c-8.34.92-14.96 7.54-15.88 15.88h-4.12v4h4.12c.92 8.34 7.54 14.96 15.88 15.88v4.12h4v-4.12c8.34-.92 14.96-7.54 15.88-15.88h4.12v-4h-4.12zm-17.88 16c-7.73 0-14-6.27-14-14s6.27-14 14-14 14 6.27 14 14-6.27 14-14 14z"),b(r,"fill",e[2]),b(r,"cx","24"),b(r,"cy","24"),b(r,"r","6px"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,i){p(e,t,i),d(t,n),d(t,r)},p(e,i){4&i&&b(n,"fill",e[2]),4&i&&b(r,"fill",e[2]),1&i&&E(t,"width",e[0]+"px"),2&i&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function yi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M12 38c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4v-24h-24v24zm26-30h-7l-2-2h-10l-2 2h-7v4h28v-4z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function bi(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill",e[2]),b(n,"d","M6 10h4v-4c-2.21 0-4 1.79-4 4zm0 16h4v-4h-4v4zm8 16h4v-4h-4v4zm-8-24h4v-4h-4v4zm20-12h-4v4h4v-4zm12 0v4h4c0-2.21-1.79-4-4-4zm-28 36v-4h-4c0 2.21 1.79 4 4 4zm-4-8h4v-4h-4v4zm12-28h-4v4h4v-4zm4 36h4v-4h-4v4zm16-16h4v-4h-4v4zm0 16c2.21 0 4-1.79 4-4h-4v4zm0-24h4v-4h-4v4zm0 16h4v-4h-4v4zm-8 8h4v-4h-4v4zm0-32h4v-4h-4v4zm-16 24h20v-20h-20v20zm4-16h12v12h-12v-12z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width",e[0]+"px"),E(t,"height",e[1]+"px"),b(t,"class","svelte-17oeqba")},m(e,r){p(e,t,r),d(t,n)},p(e,r){4&r&&b(n,"fill",e[2]),1&r&&E(t,"width",e[0]+"px"),2&r&&E(t,"height",e[1]+"px")},d(e){e&&f(t)}}}function ki(e){let t,n;return t=new ei({props:{width:e[0],height:e[1],color:e[2]}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.width=e[0]),2&n&&(r.height=e[1]),4&n&&(r.color=e[2]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ei(e){let t,n,r,i,s,a,o,l,c,u,d,h,m,v,g,y,b,k,E,$,x,T,R,P="play"===e[3]&&ti(e),S="pause"===e[3]&&ni(e),C="stop"===e[3]&&ri(e),A="record"===e[3]&&ii(e),D="copy"===e[3]&&si(e),F="cut"===e[3]&&ai(e),q="paste"===e[3]&&oi(e),L="undo"===e[3]&&li(e),z="redo"===e[3]&&ci(e),M="repeat"===e[3]&&ui(e),O="fast-rewind"===e[3]&&di(e),N="fast-forward"===e[3]&&pi(e),I="skip-previous"===e[3]&&fi(e),B="skip-next"===e[3]&&hi(e),U="zoom-in"===e[3]&&mi(e),j="zoom-out"===e[3]&&vi(e),X="zoom-fit"===e[3]&&gi(e),V="cancel"===e[3]&&_i(e),Y="location"===e[3]&&wi(e),Q="delete"===e[3]&&yi(e),K="select-all"===e[3]&&bi(e),J="silence"===e[3]&&ki(e);return{c(){P&&P.c(),t=_(),S&&S.c(),n=_(),C&&C.c(),r=_(),A&&A.c(),i=_(),D&&D.c(),s=_(),F&&F.c(),a=_(),q&&q.c(),o=_(),L&&L.c(),l=_(),z&&z.c(),c=_(),M&&M.c(),u=_(),O&&O.c(),d=_(),N&&N.c(),h=_(),I&&I.c(),m=_(),B&&B.c(),v=_(),U&&U.c(),g=_(),j&&j.c(),y=_(),X&&X.c(),b=_(),V&&V.c(),k=_(),Y&&Y.c(),E=_(),Q&&Q.c(),$=_(),K&&K.c(),x=_(),J&&J.c(),T=w()},m(e,f){P&&P.m(e,f),p(e,t,f),S&&S.m(e,f),p(e,n,f),C&&C.m(e,f),p(e,r,f),A&&A.m(e,f),p(e,i,f),D&&D.m(e,f),p(e,s,f),F&&F.m(e,f),p(e,a,f),q&&q.m(e,f),p(e,o,f),L&&L.m(e,f),p(e,l,f),z&&z.m(e,f),p(e,c,f),M&&M.m(e,f),p(e,u,f),O&&O.m(e,f),p(e,d,f),N&&N.m(e,f),p(e,h,f),I&&I.m(e,f),p(e,m,f),B&&B.m(e,f),p(e,v,f),U&&U.m(e,f),p(e,g,f),j&&j.m(e,f),p(e,y,f),X&&X.m(e,f),p(e,b,f),V&&V.m(e,f),p(e,k,f),Y&&Y.m(e,f),p(e,E,f),Q&&Q.m(e,f),p(e,$,f),K&&K.m(e,f),p(e,x,f),J&&J.m(e,f),p(e,T,f),R=!0},p(e,[p]){"play"===e[3]?P?P.p(e,p):(P=ti(e),P.c(),P.m(t.parentNode,t)):P&&(P.d(1),P=null),"pause"===e[3]?S?S.p(e,p):(S=ni(e),S.c(),S.m(n.parentNode,n)):S&&(S.d(1),S=null),"stop"===e[3]?C?C.p(e,p):(C=ri(e),C.c(),C.m(r.parentNode,r)):C&&(C.d(1),C=null),"record"===e[3]?A?A.p(e,p):(A=ii(e),A.c(),A.m(i.parentNode,i)):A&&(A.d(1),A=null),"copy"===e[3]?D?D.p(e,p):(D=si(e),D.c(),D.m(s.parentNode,s)):D&&(D.d(1),D=null),"cut"===e[3]?F?F.p(e,p):(F=ai(e),F.c(),F.m(a.parentNode,a)):F&&(F.d(1),F=null),"paste"===e[3]?q?q.p(e,p):(q=oi(e),q.c(),q.m(o.parentNode,o)):q&&(q.d(1),q=null),"undo"===e[3]?L?L.p(e,p):(L=li(e),L.c(),L.m(l.parentNode,l)):L&&(L.d(1),L=null),"redo"===e[3]?z?z.p(e,p):(z=ci(e),z.c(),z.m(c.parentNode,c)):z&&(z.d(1),z=null),"repeat"===e[3]?M?M.p(e,p):(M=ui(e),M.c(),M.m(u.parentNode,u)):M&&(M.d(1),M=null),"fast-rewind"===e[3]?O?O.p(e,p):(O=di(e),O.c(),O.m(d.parentNode,d)):O&&(O.d(1),O=null),"fast-forward"===e[3]?N?N.p(e,p):(N=pi(e),N.c(),N.m(h.parentNode,h)):N&&(N.d(1),N=null),"skip-previous"===e[3]?I?I.p(e,p):(I=fi(e),I.c(),I.m(m.parentNode,m)):I&&(I.d(1),I=null),"skip-next"===e[3]?B?B.p(e,p):(B=hi(e),B.c(),B.m(v.parentNode,v)):B&&(B.d(1),B=null),"zoom-in"===e[3]?U?U.p(e,p):(U=mi(e),U.c(),U.m(g.parentNode,g)):U&&(U.d(1),U=null),"zoom-out"===e[3]?j?j.p(e,p):(j=vi(e),j.c(),j.m(y.parentNode,y)):j&&(j.d(1),j=null),"zoom-fit"===e[3]?X?X.p(e,p):(X=gi(e),X.c(),X.m(b.parentNode,b)):X&&(X.d(1),X=null),"cancel"===e[3]?V?V.p(e,p):(V=_i(e),V.c(),V.m(k.parentNode,k)):V&&(V.d(1),V=null),"location"===e[3]?Y?Y.p(e,p):(Y=wi(e),Y.c(),Y.m(E.parentNode,E)):Y&&(Y.d(1),Y=null),"delete"===e[3]?Q?Q.p(e,p):(Q=yi(e),Q.c(),Q.m($.parentNode,$)):Q&&(Q.d(1),Q=null),"select-all"===e[3]?K?K.p(e,p):(K=bi(e),K.c(),K.m(x.parentNode,x)):K&&(K.d(1),K=null),"silence"===e[3]?J?(J.p(e,p),8&p&&W(J,1)):(J=ki(e),J.c(),W(J,1),J.m(T.parentNode,T)):J&&(H(),G(J,1,1,(()=>{J=null})),Z())},i(e){R||(W(J),R=!0)},o(e){G(J),R=!1},d(e){P&&P.d(e),e&&f(t),S&&S.d(e),e&&f(n),C&&C.d(e),e&&f(r),A&&A.d(e),e&&f(i),D&&D.d(e),e&&f(s),F&&F.d(e),e&&f(a),q&&q.d(e),e&&f(o),L&&L.d(e),e&&f(l),z&&z.d(e),e&&f(c),M&&M.d(e),e&&f(u),O&&O.d(e),e&&f(d),N&&N.d(e),e&&f(h),I&&I.d(e),e&&f(m),B&&B.d(e),e&&f(v),U&&U.d(e),e&&f(g),j&&j.d(e),e&&f(y),X&&X.d(e),e&&f(b),V&&V.d(e),e&&f(k),Y&&Y.d(e),e&&f(E),Q&&Q.d(e),e&&f($),K&&K.d(e),e&&f(x),J&&J.d(e),e&&f(T)}}}function $i(e,t,n){let{width:r=16}=t,{height:i=16}=t,{color:s="rgba(255, 255, 255, 0.45)"}=t,{name:a=null}=t;return e.$$set=e=>{"width"in e&&n(0,r=e.width),"height"in e&&n(1,i=e.height),"color"in e&&n(2,s=e.color),"name"in e&&n(3,a=e.name)},[r,i,s,a]}class xi extends re{constructor(e){super(),ne(this,e,$i,Ei,s,{width:0,height:1,color:2,name:3})}}function Ti(e){let t,n;return{c(){t=v("svg"),n=v("path"),b(n,"fill","#fff"),b(n,"d","M18 32.34l-8.34-8.34-2.83 2.83 11.17 11.17 24-24-2.83-2.83z"),b(t,"viewBox","0 0 48 48"),b(t,"width","48"),b(t,"height","48"),E(t,"width","12px"),E(t,"height","12px"),b(t,"class","in-button")},m(e,r){p(e,t,r),d(t,n)},d(e){e&&f(t)}}}function Ri(t){let n,r,i,s,a,o,l,c,u,h,v=t[7]+t[4]+"",g=t[6]&&function(t){let n,r;return n=new xi({props:{width:"13",height:"13",name:t[6],color:"rgba(255, 255, 255, 0.8)"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}(t),w=t[3]&&Ti(),k=t[5]&&function(t){let n,r=t[9](t[5])+"";return{c(){n=m("span"),b(n,"class","shortcut in-button svelte-c2c25m")},m(e,t){p(e,n,t),n.innerHTML=r},p:e,d(e){e&&f(n)}}}(t);return{c(){n=m("div"),r=m("button"),i=m("span"),g&&g.c(),s=_(),o=_(),w&&w.c(),l=_(),k&&k.c(),a=new T(null),b(i,"class","text-wrapper in-button svelte-c2c25m"),b(r,"class","pk_opt svelte-c2c25m"),b(r,"data-index",t[0]),b(r,"tabindex","-1"),x(r,"pk_inact",t[2]),b(n,"data-name","btn_container"),b(n,"class","pk_menu_el svelte-c2c25m")},m(e,f){p(e,n,f),d(n,r),d(r,i),g&&g.m(i,null),d(i,s),a.m(v,i),d(r,o),w&&w.m(r,null),d(r,l),k&&k.m(r,null),t[12](r),c=!0,u||(h=y(r,"mouseup",t[8]),u=!0)},p(e,[t]){e[6]&&g.p(e,t),(!c||16&t)&&v!==(v=e[7]+e[4]+"")&&a.p(v),e[3]?w||(w=Ti(),w.c(),w.m(r,l)):w&&(w.d(1),w=null),e[5]&&k.p(e,t),(!c||1&t)&&b(r,"data-index",e[0]),4&t&&x(r,"pk_inact",e[2])},i(e){c||(W(g),c=!0)},o(e){G(g),c=!1},d(e){e&&f(n),g&&g.d(),w&&w.d(),k&&k.d(),t[12](null),u=!1,h()}}}function Pi(e,t,n){let r;o(e,Cr,(e=>n(13,r=e)));let i,{submenuItemConfig:s}=t,{closeMenu:a}=t,{index:l}=t,{i:c,shortcut:u,setup:d,action:p,disabled:f,checked:h,additionalText:m="",icon:v}=s;const g=r(c),_=()=>{n(2,f=s.disabled),n(4,m=s.additionalText||""),n(3,h=s.checked)};return C((()=>{d&&d.call(s,_)})),e.$$set=e=>{"submenuItemConfig"in e&&n(10,s=e.submenuItemConfig),"closeMenu"in e&&n(11,a=e.closeMenu),"index"in e&&n(0,l=e.index)},[l,i,f,h,m,u,v,g,()=>{f||(a(),p())},e=>Qe.isMobile?"":(Qe.isMacos&&(e=e.replace("Ctrl","&#8984;").replace("Shift","&#8679;")),`${e}`),s,a,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Si extends re{constructor(e){super(),ne(this,e,Pi,Ri,s,{submenuItemConfig:10,closeMenu:11,index:0})}}function Ci(e,t,n){const r=e.slice();return r[22]=t[n],r[23]=t,r[24]=n,r}function Ai(e,t,n){const r=e.slice();return r[25]=t[n],r[27]=n,r}function Di(e){let t,n;return t=new Si({props:{submenuItemConfig:e[25],closeMenu:e[5],index:e[27]}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.submenuItemConfig=e[25]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Fi(t){let n;return{c(){n=m("div"),b(n,"class","separator svelte-cbdocd")},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function qi(e){let t,n,r,i;const s=[Fi,Di],a=[];function o(e,t){return e[25].separator?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),p(e,r,n),i=!0},p(e,i){let l=t;t=o(e),t===l?a[t].p(e,i):(H(),G(a[l],1,1,(()=>{a[l]=null})),Z(),n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){i||(W(n),i=!0)},o(e){G(n),i=!1},d(e){a[t].d(e),e&&f(r)}}}function Li(e){let t,n,r,i,s,a,o,l=e[4](e[22].i)+"",c=e[24];const u=()=>e[6](n,c),v=()=>e[6](null,c);let w=e[22].children,y=[];for(let t=0;t<w.length;t+=1)y[t]=qi(Ai(e,w,t));const E=e=>G(y[e],1,1,(()=>{y[e]=null}));return{c(){t=m("div"),n=m("button"),r=g(l),i=_(),s=m("div");for(let e=0;e<y.length;e+=1)y[e].c();var e;a=_(),b(s,"data-name","list"),b(s,"class","pk_menu"),b(t,"data-name","btn_container"),b(t,"class",(null==(e=Oi)?"":e)+" svelte-cbdocd")},m(e,l){p(e,t,l),d(t,n),d(n,r),u(),d(t,i),d(t,s);for(let e=0;e<y.length;e+=1)y[e].m(s,null);d(t,a),o=!0},p(t,n){if(e=t,(!o||18&n)&&l!==(l=e[4](e[22].i)+"")&&k(r,l),c!==e[24]&&(v(),c=e[24],u()),34&n){let t;for(w=e[22].children,t=0;t<w.length;t+=1){const r=Ai(e,w,t);y[t]?(y[t].p(r,n),W(y[t],1)):(y[t]=qi(r),y[t].c(),W(y[t],1),y[t].m(s,null))}for(H(),t=w.length;t<y.length;t+=1)E(t);Z()}},i(e){if(!o){for(let e=0;e<w.length;e+=1)W(y[e]);o=!0}},o(e){y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)G(y[e]);o=!1},d(e){e&&f(t),v(),h(y,e)}}}function zi(e){let t,n,r=e[1],i=[];for(let t=0;t<r.length;t+=1)i[t]=Li(Ci(e,r,t));const s=e=>G(i[e],1,1,(()=>{i[e]=null}));return{c(){t=m("div");for(let e=0;e<i.length;e+=1)i[e].c();b(t,"data-name","header"),b(t,"class","pk_hdr pk_noselect svelte-cbdocd"),x(t,"mobile",Qe.isMobile),x(t,"portrait","portrait"===e[3])},m(r,s){p(r,t,s);for(let e=0;e<i.length;e+=1)i[e].m(t,null);e[7](t),n=!0},p(e,[n]){if(54&n){let a;for(r=e[1],a=0;a<r.length;a+=1){const s=Ci(e,r,a);i[a]?(i[a].p(s,n),W(i[a],1)):(i[a]=Li(s),i[a].c(),W(i[a],1),i[a].m(t,null))}for(H(),a=r.length;a<i.length;a+=1)s(a);Z()}8&n&&x(t,"portrait","portrait"===e[3])},i(e){if(!n){for(let e=0;e<r.length;e+=1)W(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)G(i[e]);n=!1},d(n){n&&f(t),h(i,n),e[7](null)}}}const Mi="TopHeader",Oi="pk_btn pk_noselect";function Ni(e,t,n){let r,i;o(e,Cr,(e=>n(4,r=e)));let s=ht;const a=[];let l=null,c=-1,u=null,d=null,{orientation:p}=Qe;window.addEventListener("orientationchange",(()=>{n(3,p=Qe.orientation)}),!1);let f=!1;const h=()=>{f=!1,l&&(l.parentNode.className=Oi,l=u=null,d&&(d.classList.remove("pk_act"),d=null),je.on=!1,document.removeEventListener("mouseup",g),We.removeLast("left"),We.removeLast("up"),We.removeLast("right"),We.removeLast("down"),We.removeLast("esc"),We.removeLast("enter"))};let m=-1;const v=(e,t)=>{f=!0,l&&(l.parentNode.className=Oi),-1===e&&(e=-1===c?0:c);const n=a[e];l=n;const r=n.parentNode,i=r.getBoundingClientRect().left,s=window.innerWidth;let o=0;return s-i<200&&(o=264-(s-i)>>0,o>1&&(r.querySelectorAll(".pk_menu")[0].style.left=-o/2+"px")),r.classList.add("pk_vis"),setTimeout((()=>{l===n&&r.classList.add("pk_act")}),0),m=c,c=e,je.checkAndSet(Mi),t||document.addEventListener("mouseup",g,!1),We.add("esc",(()=>{h()})),We.add("left",(()=>{0===c&&(m=c,c=a.length),h(),v(c-1)})),We.add("up",(()=>{const e=l.parentNode.querySelectorAll(".pk_opt:not(.pk_inact)");if(d){const t=[...e].indexOf(d);d.classList.remove("pk_act"),d=t-1<0?e[e.length-1]:e[t-1],d.classList.add("pk_act")}else e[e.length-1]&&(d=e[e.length-1],d.classList.add("pk_act"))})),We.add("right",(()=>{c===a.length-1&&(m=c,c=-1),h(),v(c+1)})),We.add("down",(()=>{const e=l.parentNode.querySelectorAll(".pk_opt:not(.pk_inact)");if(d){const t=[...e].indexOf(d);d.classList.remove("pk_act"),d=e.length<=t+1?e[0]:e[t+1],d.classList.add("pk_act")}else e[0]&&(d=e[0],d.classList.add("pk_act"))})),We.add("enter",(()=>{d?d.click():h()})),!0},g=e=>{const t=e.target;if(l){let e=t,n=!1;for(;e&&l;){if(l.parentNode==e){n=!0;break}e=e.parentNode}n&&u!==t||Qe.isMobile&&m!==c||h(),m=c}else je.on=!1,document.removeEventListener("mouseup",g);u=null},_=e=>{if(l==e||!e)return!1;let t=e.parentNode;for(;t&&l;){if(l.parentNode==t)return!1;t=t.parentNode}let n=a.length;for(;n-- >0;)if(a[n]===e)return v(n,!0);return!1},w=e=>{if(!je.check(Mi))return!1;if(l||je.on&&je.by===Mi){let t=e.target;return t.classList.contains("in-button")&&(t=t.parentElement),t.classList.contains("pk_opt")?(d&&d.classList.remove("pk_act"),d=t,d.classList.add("pk_act")):(d&&d.classList.remove("pk_act"),d=null),_(t)}return!1},y=e=>{document.querySelectorAll(".pk_menu").forEach((t=>{t.style.maxHeight=`calc(100vh - ${e}px)`}))};return C((()=>{if(ue.listenFor("DidReadyFire",(()=>{h()})),Qe.isMobile&&"landscape"===Qe.orientation){const e=document.querySelector(".about").getBoundingClientRect().height;y(e+115)}ue.listenFor("about:change:visibility",(()=>{y(115)})),i.addEventListener("mousemove",w,!1),i.addEventListener("mousedown",(e=>{if(!je.checkAndSet(Mi))return!1;document.removeEventListener("mouseup",g),l?(u=_(e.target)?null:l,document.addEventListener("mouseup",g,!1)):(u=null,document.addEventListener("mouseup",g,!1),_(e.target))}),!1),We.add("`",(()=>{f?h():v(c)}))})),s.map((e=>{e.sortByName&&(e.children=e.children.sort(((e,t)=>r(e.i)<r(t.i)?-1:r(e.i)>r(t.i)?1:0)))})),Qe.isMobile&&(s=s.filter((e=>!(!1===e.mobile)))),[i,s,a,p,r,h,function(e,t){F[e?"unshift":"push"]((()=>{a[t]=e,n(2,a)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Ii extends re{constructor(e){super(),ne(this,e,Ni,zi,s,{})}}function Bi(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function Ui(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function ji(t){let n,r=Array(73),i=[];for(let e=0;e<r.length;e+=1)i[e]=Gi(Bi(t,r,e));return{c(){n=m("div");for(let e=0;e<i.length;e+=1)i[e].c();b(n,"class","ruler svelte-190x9h9")},m(e,t){p(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p:e,d(e){e&&f(n),h(i,e)}}}function Xi(t){let n,r=Array(37),i=[];for(let e=0;e<r.length;e+=1)i[e]=es(Ui(t,r,e));return{c(){n=m("div");for(let e=0;e<i.length;e+=1)i[e].c();b(n,"class","ruler svelte-190x9h9")},m(e,t){p(e,n,t);for(let e=0;e<i.length;e+=1)i[e].m(n,null)},p:e,d(e){e&&f(n),h(i,e)}}}function Vi(e){let t;return{c(){t=m("div"),b(t,"class","stick svelte-190x9h9")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Hi(e){let t,n;let r=function(e,t){return 0===e[17]?Wi:Zi}(e)(e);return{c(){t=m("div"),r.c(),n=_(),b(t,"class","stick main svelte-190x9h9")},m(e,i){p(e,t,i),r.m(t,null),d(t,n)},d(e){e&&f(t),r.d()}}}function Zi(e){let t,n,r=e[17]-72+"";return{c(){t=m("div"),n=g(r),b(t,"class","ruler-number svelte-190x9h9")},m(e,r){p(e,t,r),d(t,n)},d(e){e&&f(t)}}}function Wi(e){let t;return{c(){t=m("div"),t.textContent="-",b(t,"class","ruler-number svelte-190x9h9")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Gi(t){let n;let r=function(e,t){return e[17]%3==0?Hi:Vi}(t)(t);return{c(){r.c(),n=w()},m(e,t){r.m(e,t),p(e,n,t)},p:e,d(e){r.d(e),e&&f(n)}}}function Yi(e){let t;return{c(){t=m("div"),b(t,"class","stick svelte-190x9h9")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Qi(e){let t,n;let r=function(e,t){return 0===e[17]?Ji:Ki}(e)(e);return{c(){t=m("div"),r.c(),n=_(),b(t,"class","stick main svelte-190x9h9")},m(e,i){p(e,t,i),r.m(t,null),d(t,n)},d(e){e&&f(t),r.d()}}}function Ki(e){let t,n,r=2*e[17]-72+"";return{c(){t=m("div"),n=g(r),b(t,"class","ruler-number svelte-190x9h9")},m(e,r){p(e,t,r),d(t,n)},d(e){e&&f(t)}}}function Ji(e){let t;return{c(){t=m("div"),t.textContent="-",b(t,"class","ruler-number svelte-190x9h9")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function es(t){let n;let r=function(e,t){return e[17]%3==0?Qi:Yi}(t)(t);return{c(){r.c(),n=w()},m(e,t){r.m(e,t),p(e,n,t)},p:e,d(e){r.d(e),e&&f(n)}}}function ts(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,E;let $=(Qe.isMobile?Xi:ji)(t);return{c(){n=m("div"),r=m("div"),i=m("div"),s=m("div"),a=_(),o=m("div"),l=_(),c=m("div"),u=_(),h=m("div"),v=m("div"),g=_(),w=m("div"),y=_(),k=m("div"),E=_(),$.c(),b(s,"class","bg svelte-190x9h9"),b(o,"data-name","volumeGaugeInner"),b(o,"class","pk_vol svelte-190x9h9"),b(c,"data-name","volumeGaugePeaker"),b(c,"class","pk_peaker svelte-190x9h9"),x(c,"pk_act",t[5]),b(i,"data-name","volumeGauge"),b(i,"class","pk_volpar svelte-190x9h9"),b(v,"class","bg svelte-190x9h9"),b(w,"data-name","volumeGaugeInner2"),b(w,"class","pk_vol svelte-190x9h9"),b(k,"data-name","volumeGaugePeaker2"),b(k,"class","pk_peaker svelte-190x9h9"),x(k,"pk_act",t[6]),b(h,"data-name","volumeGauge2"),b(h,"class","pk_volpar svelte-190x9h9"),b(r,"data-name","volume_parent"),b(n,"class","container svelte-190x9h9")},m(e,f){p(e,n,f),d(n,r),d(r,i),d(i,s),d(i,a),d(i,o),t[7](o),d(i,l),d(i,c),t[8](c),d(r,u),d(r,h),d(h,v),d(h,g),d(h,w),t[9](w),d(h,y),d(h,k),t[10](k),t[11](r),d(n,E),$.m(n,null)},p(e,[t]){32&t&&x(c,"pk_act",e[5]),64&t&&x(k,"pk_act",e[6]),$.p(e,t)},i:e,o:e,d(e){e&&f(n),t[7](null),t[8](null),t[9](null),t[10](null),t[11](null),$.d()}}}function ns(e,t,n){let r,i,s,a,o,l=0,c=0,u=0,d=!1,p=!1;return C((()=>{ue.listenFor("DidAudioProcess",(e=>{const t=e[1],r=e[2]||window.performance.now();if(!(r-u<50))if(u=r,t)if(t[0]>0)n(5,d=!0),n(1,i.style.transform="translate3d(100%,0,0)",i),l=100,s.setAttribute("title","Peak at "+ft.engine.wavesurfer.getCurrentTime().toFixed(2)),t[1]>0&&(n(6,p=!0),n(3,a.style.transform="translate3d(100%,0,0)",a),c=100,o.setAttribute("title","Peak at "+ft.engine.wavesurfer.getCurrentTime().toFixed(2)));else if(t[1]>0)n(6,p=!0),n(3,a.style.transform="translate3d(100%,0,0)",a),c=100,o.setAttribute("title","Peak at "+ft.engine.wavesurfer.getCurrentTime().toFixed(2));else{let e=100+t[0];e<-100?l=0:(l+=(e-l)/4,isNaN(l)&&(l=0)),e=100+t[1],e<-100?c=0:(c+=(e-c)/4,isNaN(c)&&(c=0)),n(1,i.style.transform="translate3d("+l+"%,0,0)",i),n(3,a.style.transform="translate3d("+c+"%,0,0)",a)}else n(5,d=!1),n(6,p=!1),n(1,i.style.transform="translate3d(0,0,0)",i),n(3,a.style.transform="translate3d(0,0,0)",a)})),n(0,r.onclick=()=>{console.log("on volume"),n(5,d=!1),n(6,p=!1)},r)})),[r,i,s,a,o,d,p,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},function(e){F[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){F[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},function(e){F[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class rs extends re{constructor(e){super(),ne(this,e,ns,ts,s,{})}}function is(e){let t,n,r,i,s;const a=e[4].default,o=l(a,e,e[3],null);return{c(){t=m("button"),n=m("div"),o&&o.c(),b(n,"class","inner_button svelte-f4ajxz"),b(t,"class","small svelte-f4ajxz"),t.disabled=e[1],b(t,"tabindex","-1"),x(t,"enabled",!e[1])},m(a,l){p(a,t,l),d(t,n),o&&o.m(n,null),e[6](t),r=!0,i||(s=y(t,"mouseup",e[5]),i=!0)},p(e,[n]){o&&o.p&&8&n&&u(o,a,e,e[3],n,null,null),(!r||2&n)&&(t.disabled=e[1]),2&n&&x(t,"enabled",!e[1])},i(e){r||(W(o,e),r=!0)},o(e){G(o,e),r=!1},d(n){n&&f(t),o&&o.d(n),e[6](null),i=!1,s()}}}function ss(e,t,n){let{$$slots:r={},$$scope:i}=t,{tooltip:s=""}=t,{disabled:a=!1}=t,{button:o=null}=t;return e.$$set=e=>{"tooltip"in e&&n(2,s=e.tooltip),"disabled"in e&&n(1,a=e.disabled),"button"in e&&n(0,o=e.button),"$$scope"in e&&n(3,i=e.$$scope)},[o,a,s,i,r,function(t){A(e,t)},function(e){F[e?"unshift":"push"]((()=>{o=e,n(0,o)}))}]}class as extends re{constructor(e){super(),ne(this,e,ss,is,s,{tooltip:2,disabled:1,button:0})}}function os(t){let n,r;return n=new xi({props:{name:"stop"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function ls(e){let t,n;return t=new as({props:{tooltip:"Stop Playback (Space)",$$slots:{default:[os]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function cs(e){return[()=>{ue.fireEvent("RequestStop")}]}class us extends re{constructor(e){super(),ne(this,e,cs,ls,s,{})}}function ds(e){let t,n;return t=new xi({props:{name:"play"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ps(e){let t,n;return t=new xi({props:{name:"play",color:"#7ad391"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function fs(e){let t,n,r,i;const s=[ps,ds],a=[];function o(e,t){return e[0]?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),p(e,r,n),i=!0},p(e,i){let l=t;t=o(e),t!==l&&(H(),G(a[l],1,1,(()=>{a[l]=null})),Z(),n=a[t],n||(n=a[t]=s[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){i||(W(n),i=!0)},o(e){G(n),i=!1},d(e){a[t].d(e),e&&f(r)}}}function hs(e){let t,n;return t=new as({props:{tooltip:"Play (Space)",$$slots:{default:[fs]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ms(e,t,n){let r=!1;return ue.listenFor("DidStopPlay",(()=>{n(0,r=!1)})),ue.listenFor("DidPlay",(()=>{n(0,r=!0)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestPlay"),t.blur()}]}class vs extends re{constructor(e){super(),ne(this,e,ms,hs,s,{})}}function gs(t){let n,r;return n=new xi({props:{name:"pause"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function _s(e){let t,n;return t=new as({props:{tooltip:"Pause (Shift+Space)",$$slots:{default:[gs]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ws(e){return[e=>{const t=e.currentTarget;ue.fireEvent("RequestPause"),t.blur()}]}class ys extends re{constructor(e){super(),ne(this,e,ws,_s,s,{})}}function bs(e){let t,n;return t=new xi({props:{name:"repeat"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ks(e){let t,n;return t=new xi({props:{name:"repeat",color:"#fff"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Es(e){let t,n,r,i;const s=[ks,bs],a=[];function o(e,t){return e[0]?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),p(e,r,n),i=!0},p(e,i){let l=t;t=o(e),t!==l&&(H(),G(a[l],1,1,(()=>{a[l]=null})),Z(),n=a[t],n||(n=a[t]=s[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){i||(W(n),i=!0)},o(e){G(n),i=!1},d(e){a[t].d(e),e&&f(r)}}}function $s(e){let t,n;return t=new as({props:{tooltip:"Toggle Loop (L)",$$slots:{default:[Es]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function xs(e,t,n){let r=!1;return ue.listenFor("DidSetLoop",(e=>{n(0,r=e)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestSetLoop"),t.blur()}]}class Ts extends re{constructor(e){super(),ne(this,e,xs,$s,s,{})}}function Rs(t){let n,r;return n=new xi({props:{name:"fast-rewind"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Ps(e){let t,n;return t=new as({props:{tooltip:"Seek (left arrow)",$$slots:{default:[Rs]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),t.$on("mouseleave",e[1]),t.$on("focus",e[2]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ss(e){let t=!1,n=null;return[e=>{const r=e.currentTarget;if(!t){n&&(clearTimeout(n),n=null);let e=ft.engine.wavesurfer.getDuration()/20;e/=ft.engine.wavesurfer.ZoomFactor/2+.5,e>1&&(e<<=0),ue.fireEvent("RequestSkipBack",e)}r.blur(),t=!1},e=>{const t=e.currentTarget;n&&(clearTimeout(n),n=null),t.blur()},e=>{const r=e.currentTarget;t=!1;const i=(e,n)=>{if(document.activeElement===r){t=!0,ue.fireEvent("RequestSkipBack",e);const r=4450;let s=ft.engine.wavesurfer.getDuration()/r;const a=ft.engine.wavesurfer.ZoomFactor;s/=a,n<12&&(s=0),setTimeout((()=>{i(e+s,++n)}),40)}};n=setTimeout((()=>{let e=ft.engine.wavesurfer.getDuration()/2e3;e/=ft.engine.wavesurfer.ZoomFactor,e<.01&&(e=.01),i(e,0)}),390)}]}class Cs extends re{constructor(e){super(),ne(this,e,Ss,Ps,s,{})}}function As(t){let n,r;return n=new xi({props:{name:"fast-forward"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Ds(e){let t,n;return t=new as({props:{tooltip:"Seek (right arrow)",$$slots:{default:[As]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),t.$on("mouseleave",e[1]),t.$on("focus",e[2]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};32&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Fs(e){let t=!1,n=null;return[e=>{const r=e.currentTarget;if(!t){n&&(clearTimeout(n),n=null);let e=ft.engine.wavesurfer.getDuration()/20;e/=ft.engine.wavesurfer.ZoomFactor/2+.5,e>1&&(e<<=0),ue.fireEvent("RequestSkipFront",e)}r.blur(),t=!1},e=>{const t=e.currentTarget;n&&(clearTimeout(n),n=null),t.blur()},e=>{const r=e.currentTarget;t=!1;const i=(e,n)=>{if(document.activeElement===r){t=!0,ue.fireEvent("RequestSkipFront",e);const r=4450;let s=ft.engine.wavesurfer.getDuration()/r;const a=ft.engine.wavesurfer.ZoomFactor;s/=a,n<12&&(s=0),setTimeout((()=>{i(e+s,++n)}),40)}};n=setTimeout((()=>{let e=ft.engine.wavesurfer.getDuration()/2e3;e/=ft.engine.wavesurfer.ZoomFactor,e<.01&&(e=.01),i(e,0)}),390)}]}class qs extends re{constructor(e){super(),ne(this,e,Fs,Ds,s,{})}}function Ls(t){let n,r;return n=new xi({props:{name:"skip-previous"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function zs(e){let t,n;return t=new as({props:{tooltip:"Seek Start (Shift + left arrow)",$$slots:{default:[Ls]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ms(e){return[e=>{const t=e.currentTarget;ue.fireEvent("RequestRegionClear"),ue.fireEvent("RequestSeekTo",0),t.blur()}]}class Os extends re{constructor(e){super(),ne(this,e,Ms,zs,s,{})}}function Ns(t){let n,r;return n=new xi({props:{name:"skip-next"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Is(e){let t,n;return t=new as({props:{tooltip:"Seek End (Shift + right arrow)",$$slots:{default:[Ns]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Bs(e){return[e=>{const t=e.currentTarget;ue.fireEvent("RequestRegionClear"),ue.fireEvent("RequestSeekTo",.996),t.blur()}]}class Us extends re{constructor(e){super(),ne(this,e,Bs,Is,s,{})}}function js(e){let t,n;return t=new xi({props:{name:"record"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Xs(e){let t,n;return t=new xi({props:{name:"record",color:"#f97583"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Vs(e){let t,n,r,i;const s=[Xs,js],a=[];function o(e,t){return e[1]?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),p(e,r,n),i=!0},p(e,i){let l=t;t=o(e),t!==l&&(H(),G(a[l],1,1,(()=>{a[l]=null})),Z(),n=a[t],n||(n=a[t]=s[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){i||(W(n),i=!0)},o(e){G(n),i=!1},d(e){a[t].d(e),e&&f(r)}}}function Hs(e){let t,n,r;function i(t){e[4](t)}let s={disabled:e[2],tooltip:"Record (R)",$$slots:{default:[Vs]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.button=e[0]),t=new as({props:s}),F.push((()=>Q(t,"button",i))),t.$on("mouseup",e[3]),{c(){K(t.$$.fragment)},m(e,n){J(t,e,n),r=!0},p(e,[r]){const i={};4&r&&(i.disabled=e[2]),34&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.button=e[0],N((()=>n=!1))),t.$set(i)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){G(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function Zs(e,t,n){let r,i=!1,s=!1;const a=()=>{s||ue.fireEvent("RequestActionRecordToggle"),r.blur()};return ue.listenFor("ErrorRec",(()=>{n(2,s=!0)})),We.add("r",(()=>{je.on||a()})),ue.listenFor("DidActionRecordStart",(()=>{n(1,i=!0)})),ue.listenFor("DidActionRecordStop",(()=>{n(1,i=!1)})),[r,i,s,a,function(e){r=e,n(0,r)}]}class Ws extends re{constructor(e){super(),ne(this,e,Zs,Hs,s,{})}}function Gs(t){let n,r;return n=new xi({props:{name:"copy"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Ys(e){let t,n;return t=new as({props:{disabled:e[0],tooltip:"Copy Selection (Shift + C)",$$slots:{default:[Gs]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Qs(e,t,n){let r=!0;return ue.listenFor("DidCreateRegion",(()=>{n(0,r=!1)})),ue.listenFor("DidDestroyRegion",(()=>{n(0,r=!0)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestActionCopy"),t.blur()}]}class Ks extends re{constructor(e){super(),ne(this,e,Qs,Ys,s,{})}}function Js(t){let n,r;return n=new xi({props:{name:"paste"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function ea(e){let t,n;return t=new as({props:{disabled:e[0],tooltip:"Paste Selection (Shift + V)",$$slots:{default:[Js]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ta(e,t,n){let r=!0;ue.listenFor("DidSetClipboard",(e=>{n(0,r=!e)}));return[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestActionPaste"),t.blur()}]}class na extends re{constructor(e){super(),ne(this,e,ta,ea,s,{})}}function ra(t){let n,r;return n=new xi({props:{name:"cut"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function ia(e){let t,n;return t=new as({props:{disabled:e[0],tooltip:"Cut Selection (Shift + X)",$$slots:{default:[ra]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function sa(e,t,n){let r=!0;return ue.listenFor("DidCreateRegion",(e=>{n(0,r=!1)})),ue.listenFor("DidDestroyRegion",(()=>{n(0,r=!0)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestActionCut"),t.blur()}]}class aa extends re{constructor(e){super(),ne(this,e,sa,ia,s,{})}}function oa(t){let n,r;return n=new xi({props:{name:"silence"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function la(e){let t,n,r;function i(t){e[2](t)}let s={tooltip:"Insert Silence (Shift + N)",$$slots:{default:[oa]},$$scope:{ctx:e}};return void 0!==e[0]&&(s.button=e[0]),t=new as({props:s}),F.push((()=>Q(t,"button",i))),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,n){J(t,e,n),r=!0},p(e,[r]){const i={};8&r&&(i.$$scope={dirty:r,ctx:e}),!n&&1&r&&(n=!0,i.button=e[0],N((()=>n=!1))),t.$set(i)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){G(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function ca(e,t,n){let r;const i=()=>{ue.fireEvent("RequestFXUI_Silence"),r.blur()};return We.add("shift+n",(()=>{je.on||i()})),[r,i,function(e){r=e,n(0,r)}]}class ua extends re{constructor(e){super(),ne(this,e,ca,la,s,{})}}function da(e){let t,n;return t=new xi({props:{width:"12",height:"12",name:"play"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function pa(e){let t,n;return t=new xi({props:{width:"12",height:"12",name:"play",color:"#7ad391"}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function fa(e){let t,n,r,i,s;const a=[pa,da],o=[];function l(e,t){return e[0]?0:1}return t=l(e),n=o[t]=a[t](e),i=new xi({props:{width:"12",height:"12",name:"pause"}}),{c(){n.c(),r=_(),K(i.$$.fragment)},m(e,n){o[t].m(e,n),p(e,r,n),J(i,e,n),s=!0},p(e,i){let s=t;t=l(e),t!==s&&(H(),G(o[s],1,1,(()=>{o[s]=null})),Z(),n=o[t],n||(n=o[t]=a[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){s||(W(n),W(i.$$.fragment,e),s=!0)},o(e){G(n),G(i.$$.fragment,e),s=!1},d(e){o[t].d(e),e&&f(r),ee(i,e)}}}function ha(e){let t,n;return t=new as({props:{$$slots:{default:[fa]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};5&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ma(e,t,n){let r=!1;return ue.listenFor("DidStopPlay",(()=>{n(0,r=!1)})),ue.listenFor("DidPlay",(()=>{n(0,r=!0)})),[r,e=>{const t=e.currentTarget;r?ue.fireEvent("RequestPause"):ue.fireEvent("RequestPlay"),t.blur()}]}class va extends re{constructor(e){super(),ne(this,e,ma,ha,s,{})}}function ga(t){let n,r;return n=new xi({props:{name:"zoom-out",width:"24",height:"24"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function _a(e){let t,n;return t=new as({props:{tooltip:"Zoom Out Horiz (-)",disabled:e[0],$$slots:{default:[ga]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),4&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function wa(e,t,n){let r=!0;return ue.listenFor("DidZoom",(e=>{const t=e[0];n(0,r=1===t)})),We.add("mod+3",(()=>{je.on||ue.fireEvent("RequestZoomUI","h",1)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestZoomUI","h",1),t.blur()}]}class ya extends re{constructor(e){super(),ne(this,e,wa,_a,s,{})}}function ba(t){let n,r;return n=new xi({props:{name:"zoom-in",width:"24",height:"24"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function ka(e){let t,n;return t=new as({props:{tooltip:"Zoom In Horiz (+)",$$slots:{default:[ba]},$$scope:{ctx:e}}}),t.$on("mouseup",e[0]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ea(e){return We.add("mod+1",(e=>{e.preventDefault(),je.on||ue.fireEvent("RequestZoomUI","h",-1)})),[e=>{const t=e.currentTarget;ue.fireEvent("RequestZoomUI","h",-1),t.blur()}]}class $a extends re{constructor(e){super(),ne(this,e,Ea,ka,s,{})}}function xa(t){let n,r;return n=new xi({props:{name:"zoom-fit",width:"24",height:"24"}}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Ta(e){let t,n;return t=new as({props:{tooltip:"Reset Zoom (0)",disabled:e[0],$$slots:{default:[xa]},$$scope:{ctx:e}}}),t.$on("mouseup",e[1]),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.disabled=e[0]),8&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ra(e,t,n){let r=!0;return ue.listenFor("DidZoom",(e=>{const t=e[0];n(0,r=1===t),1!=e[2]&&n(0,r=!1)})),We.add("mod+2",(e=>{e.preventDefault(),e.stopPropagation(),je.on||ue.fireEvent("RequestZoomUI",0)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestZoomUI",0),t.blur()}]}class Pa extends re{constructor(e){super(),ne(this,e,Ra,Ta,s,{})}}function Sa(e){let t,n,r,i,s;return n=new xi({props:{name:"cancel",width:"22",height:"22"}}),{c(){t=m("button"),K(n.$$.fragment),b(t,"class","small svelte-1yqx3wl"),t.disabled=e[0],b(t,"tabindex","-1"),x(t,"enabled",!e[0])},m(a,o){p(a,t,o),J(n,t,null),r=!0,i||(s=y(t,"mouseup",e[1]),i=!0)},p(e,[n]){(!r||1&n)&&(t.disabled=e[0]),1&n&&x(t,"enabled",!e[0])},i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){e&&f(t),ee(n),i=!1,s()}}}function Ca(e,t,n){let r=!0;ue.listenFor("DidCreateRegion",(()=>{n(0,r=!1)})),ue.listenFor("DidDestroyRegion",(()=>{n(0,r=!0)}));return[r,e=>{ue.fireEvent("RequestRegionClear"),e.currentTarget.blur()}]}class Aa extends re{constructor(e){super(),ne(this,e,Ca,Sa,s,{})}}function Da(t){let n,r,i,s,a;return r=new xi({props:{name:"select-all",width:"22",height:"22"}}),{c(){n=m("button"),K(r.$$.fragment),b(n,"class","small enabled svelte-1yqx3wl"),b(n,"tabindex","-1")},m(e,o){p(e,n,o),J(r,n,null),i=!0,s||(a=y(n,"mouseup",t[0]),s=!0)},p:e,i(e){i||(W(r.$$.fragment,e),i=!0)},o(e){G(r.$$.fragment,e),i=!1},d(e){e&&f(n),ee(r),s=!1,a()}}}function Fa(e){return[e=>{ue.fireEvent("RequestSelect"),e.currentTarget.blur()}]}class qa extends re{constructor(e){super(),ne(this,e,Fa,Da,s,{})}}function La(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y,E,$,T,R,P,S,C,A,D,F,q,L,z,M=e[1]("selection")+"",O=e[1]("start")+"",N=e[1]("end")+"",I=e[1]("duration")+"",B=Qe.isMobile&&function(e){let t,n;return t=new qa({}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}();return L=new Aa({}),{c(){t=m("div"),n=m("div"),r=g(M),i=_(),s=m("div"),a=m("div"),o=m("div"),l=m("span"),c=g(O),u=_(),h=m("span"),h.textContent="-",v=_(),w=m("div"),y=m("span"),E=g(N),$=_(),T=m("span"),T.textContent="-",R=_(),P=m("div"),S=m("span"),C=g(I),A=_(),D=m("span"),D.textContent="-",F=_(),B&&B.c(),q=_(),K(L.$$.fragment),b(n,"class","name svelte-1ro5u16"),b(l,"class","title svelte-1ro5u16"),b(h,"class","s_s pk_dat svelte-1ro5u16"),b(o,"class","svelte-1ro5u16"),b(y,"class","title svelte-1ro5u16"),b(T,"class","s_e pk_dat svelte-1ro5u16"),b(w,"class","svelte-1ro5u16"),b(S,"class","title svelte-1ro5u16"),b(D,"class","s_d pk_dat svelte-1ro5u16"),b(P,"class","svelte-1ro5u16"),b(a,"class","pk_sellist svelte-1ro5u16"),b(s,"data-name","selection"),b(s,"class","pk_selection svelte-1ro5u16"),b(t,"class","wrapper svelte-1ro5u16"),x(t,"mobile",Qe.isMobile)},m(f,m){p(f,t,m),d(t,n),d(n,r),d(t,i),d(t,s),d(s,a),d(a,o),d(o,l),d(l,c),d(o,u),d(o,h),d(a,v),d(a,w),d(w,y),d(y,E),d(w,$),d(w,T),d(a,R),d(a,P),d(P,S),d(S,C),d(P,A),d(P,D),d(s,F),B&&B.m(s,null),d(s,q),J(L,s,null),e[2](s),z=!0},p(e,[t]){(!z||2&t)&&M!==(M=e[1]("selection")+"")&&k(r,M),(!z||2&t)&&O!==(O=e[1]("start")+"")&&k(c,O),(!z||2&t)&&N!==(N=e[1]("end")+"")&&k(E,N),(!z||2&t)&&I!==(I=e[1]("duration")+"")&&k(C,I)},i(e){z||(W(B),W(L.$$.fragment,e),z=!0)},o(e){G(B),G(L.$$.fragment,e),z=!1},d(n){n&&f(t),B&&B.d(),ee(L),e[2](null)}}}function za(e,t,n){let r,i;return o(e,Cr,(e=>n(1,r=e))),C((()=>{let e=i.querySelectorAll(".pk_dat");ue.listenFor("DidCreateRegion",(t=>{t&&(e[0]||(e=document.querySelectorAll(".pk_sellist .pk_dat")),e[0].textContent=t.start.toFixed(3),e[1].textContent=t.end.toFixed(3),e[2].textContent=(t.end-t.start).toFixed(3))})),ue.listenFor("DidDestroyRegion",(()=>{e[0]||(e=document.querySelectorAll(".pk_sellist .pk_dat")),e[0].textContent="-",e[1].textContent="-",e[2].textContent="-"}))})),[i,r,function(e){F[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class Ma extends re{constructor(e){super(),ne(this,e,za,La,s,{})}}const Oa=e=>{let t=e>>0;const n=e-t;if(t<10){if(0===e)return"00:00:000";t="00:0"+t}else if(t<60)t="00:"+t;else{const e=t/60>>0,n=t%60;t=(e<10?"0":"")+e+":"+(n<10?"0"+n:n)}return n<.1?t+":0"+(n<.01?"0":"")+(1e3*n>>0):t+":"+(1e3*n>>0)};function Na(t){let n,r,i,s,a,o,l,c,u;return{c(){n=m("div"),r=m("span"),i=g(t[0]),s=_(),a=m("span"),o=g(t[2]),l=_(),c=m("span"),u=g(t[1]),b(r,"class","pk_timing svelte-10g8vzf"),b(a,"class","pk_total_dur svelte-10g8vzf"),b(c,"class","pk_hover_dur svelte-10g8vzf"),b(n,"data-name","timing"),b(n,"class","pk_timecontainer svelte-10g8vzf")},m(e,t){p(e,n,t),d(n,r),d(r,i),d(n,s),d(n,a),d(a,o),d(n,l),d(n,c),d(c,u)},p(e,[t]){1&t&&k(i,e[0]),4&t&&k(o,e[2]),2&t&&k(u,e[1])},i:e,o:e,d(e){e&&f(n)}}}function Ia(e,t,n){let r="00:00:000",i="00:00:000",s="00:00:000";return C((()=>{setTimeout((()=>{ue.listenFor("DidZoom",((e,t)=>{t&&n(1,i=Oa(ft.engine.wavesurfer.drawer.handleEvent(t)*ft.engine.wavesurfer.VisibleDuration+ft.engine.wavesurfer.LeftProgress))}));let e=0;document.getElementsByClassName("pk_av")[0].addEventListener("mousemove",(t=>{const r=t.timeStamp;r-e<58||(e=r,n(1,i=Oa(ft.engine.wavesurfer.drawer.handleEvent(t)*ft.engine.wavesurfer.VisibleDuration+ft.engine.wavesurfer.LeftProgress)))}),!1)}),1e3),ue.listenFor("DidUpdateLen",(e=>{n(2,s=Oa(e))}));let e=0,t=document.querySelector(".pk_wavepoint");ue.listenFor("DidAudioProcess",(i=>{const s=i[0],a=i[2]||window.performance.now();if(!(a-e<50)&&(e=a,s>-1&&(n(0,r=Oa(s)),ft.engine.wavesurfer.ZoomFactor>1))){const e=s/ft.engine.wavesurfer.getDuration();t||(t=document.querySelector(".pk_wavepoint")),t.style.left=(1e4*e>>0)/100+"%"}}))})),[r,i,s]}class Ba extends re{constructor(e){super(),ne(this,e,Ia,Na,s,{})}}function Ua(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,Y,Q,te,ne,re,ie,se,ae,oe,le,ce,ue,de,pe;return o=new va({}),u=new rs({}),w=new Ts({}),k=new us({}),x=new vs({}),R=new ys({}),C=new Ws({}),F=new Cs({}),L=new qs({}),M=new Os({}),N=new Us({}),U=new Ks({}),X=new na({}),H=new aa({}),Y=new ua({}),ne=new $a({}),ie=new ya({}),ae=new Pa({}),ce=new Ba({}),de=new Ma({}),{c(){n=m("div"),r=m("div"),i=m("div"),s=m("div"),a=m("div"),K(o.$$.fragment),l=_(),c=m("div"),K(u.$$.fragment),h=_(),v=m("div"),g=m("div"),K(w.$$.fragment),y=_(),K(k.$$.fragment),$=_(),K(x.$$.fragment),T=_(),K(R.$$.fragment),P=_(),S=m("div"),K(C.$$.fragment),A=_(),D=m("div"),K(F.$$.fragment),q=_(),K(L.$$.fragment),z=_(),K(M.$$.fragment),O=_(),K(N.$$.fragment),I=_(),B=m("div"),K(U.$$.fragment),j=_(),K(X.$$.fragment),V=_(),K(H.$$.fragment),Z=_(),K(Y.$$.fragment),Q=_(),te=m("div"),K(ne.$$.fragment),re=_(),K(ie.$$.fragment),se=_(),K(ae.$$.fragment),oe=_(),le=m("div"),K(ce.$$.fragment),ue=_(),K(de.$$.fragment),b(a,"class","col svelte-2l2apx"),E(a,"padding-right","17px"),b(c,"class","col volume-gauge-wrapper svelte-2l2apx"),b(s,"class","row svelte-2l2apx"),b(g,"class","col main-buttons-wrapper svelte-2l2apx"),b(S,"class","col svelte-2l2apx"),b(D,"class","col svelte-2l2apx"),b(B,"class","col svelte-2l2apx"),b(te,"class","col svelte-2l2apx"),b(v,"class","row svelte-2l2apx"),b(i,"class","left svelte-2l2apx"),b(le,"class","right svelte-2l2apx"),b(r,"data-name","toolbar"),b(r,"class","pk_tb pk_noselect svelte-2l2apx"),b(n,"data-name","container"),b(n,"class","container pk_tbc svelte-2l2apx")},m(e,t){p(e,n,t),d(n,r),d(r,i),d(i,s),d(s,a),J(o,a,null),d(s,l),d(s,c),J(u,c,null),d(i,h),d(i,v),d(v,g),J(w,g,null),d(g,y),J(k,g,null),d(g,$),J(x,g,null),d(g,T),J(R,g,null),d(v,P),d(v,S),J(C,S,null),d(v,A),d(v,D),J(F,D,null),d(D,q),J(L,D,null),d(D,z),J(M,D,null),d(D,O),J(N,D,null),d(v,I),d(v,B),J(U,B,null),d(B,j),J(X,B,null),d(B,V),J(H,B,null),d(B,Z),J(Y,B,null),d(v,Q),d(v,te),J(ne,te,null),d(te,re),J(ie,te,null),d(te,se),J(ae,te,null),d(r,oe),d(r,le),J(ce,le,null),d(le,ue),J(de,le,null),pe=!0},p:e,i(e){pe||(W(o.$$.fragment,e),W(u.$$.fragment,e),W(w.$$.fragment,e),W(k.$$.fragment,e),W(x.$$.fragment,e),W(R.$$.fragment,e),W(C.$$.fragment,e),W(F.$$.fragment,e),W(L.$$.fragment,e),W(M.$$.fragment,e),W(N.$$.fragment,e),W(U.$$.fragment,e),W(X.$$.fragment,e),W(H.$$.fragment,e),W(Y.$$.fragment,e),W(ne.$$.fragment,e),W(ie.$$.fragment,e),W(ae.$$.fragment,e),W(ce.$$.fragment,e),W(de.$$.fragment,e),pe=!0)},o(e){G(o.$$.fragment,e),G(u.$$.fragment,e),G(w.$$.fragment,e),G(k.$$.fragment,e),G(x.$$.fragment,e),G(R.$$.fragment,e),G(C.$$.fragment,e),G(F.$$.fragment,e),G(L.$$.fragment,e),G(M.$$.fragment,e),G(N.$$.fragment,e),G(U.$$.fragment,e),G(X.$$.fragment,e),G(H.$$.fragment,e),G(Y.$$.fragment,e),G(ne.$$.fragment,e),G(ie.$$.fragment,e),G(ae.$$.fragment,e),G(ce.$$.fragment,e),G(de.$$.fragment,e),pe=!1},d(e){e&&f(n),ee(o),ee(u),ee(w),ee(k),ee(x),ee(R),ee(C),ee(F),ee(L),ee(M),ee(N),ee(U),ee(X),ee(H),ee(Y),ee(ne),ee(ie),ee(ae),ee(ce),ee(de)}}}class ja extends re{constructor(e){super(),ne(this,e,null,Ua,s,{})}}function Xa(t){let n,r,i,s,a;return{c(){n=m("div"),r=m("div"),i=m("input"),b(i,"type","checkbox"),i.checked=t[0],b(i,"class","svelte-nnwiqs"),b(r,"class","container svelte-nnwiqs"),b(n,"class","wrapper svelte-nnwiqs")},m(e,o){p(e,n,o),d(n,r),d(r,i),s||(a=y(r,"mouseup",t[1]),s=!0)},p(e,[t]){1&t&&(i.checked=e[0])},i:e,o:e,d(e){e&&f(n),s=!1,a()}}}function Va(e,t,n){let{checked:r}=t;return e.$$set=e=>{"checked"in e&&n(0,r=e.checked)},[r,function(t){A(e,t)}]}class Ha extends re{constructor(e){super(),ne(this,e,Va,Xa,s,{checked:0})}}function Za(e){let t,n,r,i,s,a,o;return i=new Ha({props:{checked:e[0]}}),i.$on("mouseup",e[1]),{c(){t=m("div"),n=m("div"),n.textContent="ON",r=_(),K(i.$$.fragment),s=_(),a=m("div"),a.textContent="OFF",b(n,"class","on svelte-12mds0j"),b(a,"class","off svelte-12mds0j"),b(t,"class","wrapper svelte-12mds0j")},m(e,l){p(e,t,l),d(t,n),d(t,r),J(i,t,null),d(t,s),d(t,a),o=!0},p(e,[t]){const n={};1&t&&(n.checked=e[0]),i.$set(n)},i(e){o||(W(i.$$.fragment,e),o=!0)},o(e){G(i.$$.fragment,e),o=!1},d(e){e&&f(t),ee(i)}}}function Wa(e,t,n){let r=!0;return ue.listenFor("DidChanToggle",((e,t)=>{0===e&&n(0,r=!!t)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestChanToggle",0),t.blur()}]}class Ga extends re{constructor(e){super(),ne(this,e,Wa,Za,s,{})}}function Ya(e){let t,n,r,i,s,a,o;return i=new Ha({props:{checked:e[0]}}),i.$on("mouseup",e[1]),{c(){t=m("div"),n=m("div"),n.textContent="ON",r=_(),K(i.$$.fragment),s=_(),a=m("div"),a.textContent="OFF",b(n,"class","on svelte-12mds0j"),b(a,"class","off svelte-12mds0j"),b(t,"class","wrapper svelte-12mds0j")},m(e,l){p(e,t,l),d(t,n),d(t,r),J(i,t,null),d(t,s),d(t,a),o=!0},p(e,[t]){const n={};1&t&&(n.checked=e[0]),i.$set(n)},i(e){o||(W(i.$$.fragment,e),o=!0)},o(e){G(i.$$.fragment,e),o=!1},d(e){e&&f(t),ee(i)}}}function Qa(e,t,n){let r=!0;return ue.listenFor("DidChanToggle",((e,t)=>{1===e&&n(0,r=!!t)})),[r,e=>{const t=e.currentTarget;ue.fireEvent("RequestChanToggle",1),t.blur()}]}class Ka extends re{constructor(e){super(),ne(this,e,Qa,Ya,s,{})}}let Ja=[];const eo=window,to={};let no=0;const ro=["mousedown","touchup"],io=(e,t)=>{if(!e)return;if(0===Ja.length)return;const n=e.target||e.srcElement;if(!n||-1===n.className.indexOf("_action")||t){let e=Ja.length;for(;e--;)so(Ja[e]);Ja=[]}},so=e=>{const t=e.currentMenu.getElementsByTagName("*");let n=t.length;for(;n--;)t[n].parentNode.removeChild(t[n]);return e.currentMenu.removeEventListener(ro,ao),document.body.removeChild(e.currentMenu),e.currentMenu=null,!1},ao=e=>{e.stopPropagation()},oo=(e,t,n)=>{io(null),Ja.push(e);const r=document.createElement("div");let i;const s=e.options,a=t-4,o=n-4;let l=0,c=0;r.className="pk_contextMenu "+e.menuClass,r.id=e.token;for(let e=0,t=s.length;e<t;++e)s[e].isHTML?(i=document.createElement("div"),i.innerHTML=s[e].isHTML,r.appendChild(i)):(i=document.createElement("a"),i.className="pk_ctx_action",i.cnt=1,i.innerHTML=s[e].name,i.callback=s[e].callback,i.addEventListener("click",i.callback,!1),r.appendChild(i));return e.currentMenu=r,r.addEventListener(ro,ao,!1),document.body.appendChild(r),l=r.offsetWidth,c=r.offsetHeight,window.innerWidth<a+l&&window.innerHeight<o+c?r.style.cssText="top:"+(o-c)+"px;left:"+(a-l)+"px;":window.innerWidth<a+l?r.style.cssText="top:"+o+"px;left:"+(a-l)+"px;":window.innerHeight<o+c?r.style.cssText="top:"+(o-c)+"px;left:"+a+"px;":r.style.cssText="top:"+o+"px;left:"+a+"px;",e.onOpen&&e.onOpen(e,r),!1},lo=function(e){e?(e.preventDefault(),e.stopPropagation()):e={pageX:0,pageY:0};const t=co(this),n=e.pageX||e.clientX+document.documentElement.scrollLeft,r=e.pageY||e.clientY+document.documentElement.scrollTop;if(!t)return!1;t.curr_target=e.target||e.srcElement,oo(t,n,r)},co=e=>to[e.getAttribute("data-token")],uo=eo.contextMenu=function(e,t){if(!(this instanceof uo))return new uo(e,t);t||(t={}),this.elem=e,this.options=[],this.menuClass=t.className||"pk_open",this.curr_target=null,e&&e.addEventListener("pk_ctxmn",lo,!1),this.token=++no,e&&e.setAttribute("data-token",this.token),to[this.token]=this};function po(t){let n,r,i,s,a,o,l;return{c(){n=m("div"),r=m("div"),i=_(),s=m("div"),a=m("div"),o=_(),l=m("div"),b(r,"data-name","wavepoint"),b(r,"class","pk_wavepoint svelte-1q166g2"),b(a,"data-name","wavedrag_left"),b(a,"class","pk_wavedrag_l svelte-1q166g2"),b(l,"data-name","wavedrag_right"),b(l,"class","pk_wavedrag_r svelte-1q166g2"),b(s,"data-name","wavedrag"),b(s,"class","pk_wavedrag svelte-1q166g2"),b(n,"data-name","wavezoom"),b(n,"class","pk_wavescroll svelte-1q166g2")},m(e,c){p(e,n,c),d(n,r),t[5](r),d(n,i),d(n,s),d(s,a),t[6](a),d(s,o),d(s,l),t[7](l),t[8](s),t[9](n)},p:e,i:e,o:e,d(e){e&&f(n),t[5](null),t[6](null),t[7](null),t[8](null),t[9](null)}}}function fo(e,t,n){let r,i,s,a,o;return C((()=>{const e=s.style;let t=0,l=100;n(0,r.onclick=e=>{if(window.performance.now()-t<20)return;const n=e.target.getBoundingClientRect(),r=e.clientX-n.left;ue.fireEvent("RequestPan",r,2)},r),ue.listenFor("DidZoom",(t=>{const r=t[0],s=t[1],a=ft.engine.wavesurfer.getCurrentTime()/ft.engine.wavesurfer.getDuration();n(1,i.style.left=(1e4*a>>0)/100+"%",i),100/r>99?(l=100,e.width="100%",e.left="0%"):(l=100/r,e.width=l+"%",e.left=s+"%")})),ue.listenFor("DidCursorCenter",(t=>{requestAnimationFrame((()=>{e.left=100*t+"%"}))}));let c=0,u=0;const d=e=>{e.stopPropagation(),e.preventDefault();let t=e.clientX;if(e.touches){if(e.touches.length>1)return;t=e.touches[0].clientX}const n=(-u+t)*window.devicePixelRatio;0===c?ue.fireEvent("RequestPan",n,1):-1===c?ue.fireEvent("RequestZoom",n,-1):1===c&&ue.fireEvent("RequestZoom",n,1),u=t},p=e=>{e.touches&&e.touches.length>1||(ft.engine.wavesurfer.Interacting&=-3,e.stopPropagation(),e.preventDefault(),c=0,t=window.performance.now(),s.classList.remove("pk_drag"),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",p))},f=e=>{ft.engine.is_ready&&(e.target===s?c=0:e.target===a?c=-1:e.target===o&&(c=1),n(2,s.className+=" pk_drag",s),u=e.clientX,ft.engine.wavesurfer.Interacting|=2,e.is_touch?(document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",p,!1)):(document.addEventListener("mousemove",d,!1),document.addEventListener("mouseup",p,!1)))};s.addEventListener("mousedown",f,!1),"ontouchstart"in window&&s.addEventListener("touchstart",(e=>{if(e.preventDefault(),e.stopPropagation(),e.touches.length>1)return;const t={is_touch:!0,target:s,clientX:e.touches[0].clientX};f(t)}),!1)})),[r,i,s,a,o,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){F[e?"unshift":"push"]((()=>{o=e,n(4,o)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},function(e){F[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}uo.prototype.open=function(e){lo.call(this.elem,e)},uo.prototype.close=function(e){io()},uo.prototype.openWithToken=function(e,t,n){oo(to[e],t||0,n||0)},uo.prototype.destroy=function(){return this.elem.removeEventListener("pk_ctxmn",lo),io(),to[this.token]=null,!1},uo.prototype.addOption=function(e,t,n){this.options.push({name:e,callback:e=>{t&&t(this,this._open),io(this,!0)},isHTML:n})},document.addEventListener(ro[0],io,!1),document.addEventListener("killCTX",io,!1);class ho extends re{constructor(e){super(),ne(this,e,fo,po,s,{})}}function mo(t){let n,r,i,s,a;return s=new ho({}),{c(){n=m("div"),r=m("canvas"),i=_(),K(s.$$.fragment),b(r,"class","preview-canvas svelte-ck5p0l"),b(r,"id","previewCanvas"),b(n,"class","preview-wave-scroll svelte-ck5p0l"),x(n,"mobile",Qe.isMobile)},m(e,o){p(e,n,o),d(n,r),t[2](r),d(n,i),J(s,n,null),t[3](n),a=!0},p:e,i(e){a||(W(s.$$.fragment,e),a=!0)},o(e){G(s.$$.fragment,e),a=!1},d(e){e&&f(n),t[2](null),ee(s),t[3](null)}}}function vo(e,t,n){let r,i;return C((()=>{const{width:e,height:t}=r.getBoundingClientRect();n(1,i.width=e*window.devicePixelRatio,i),n(1,i.height=t*window.devicePixelRatio,i)})),[r,i,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class go extends re{constructor(e){super(),ne(this,e,vo,mo,s,{})}}function _o(t){let n;return{c(){n=m("canvas"),b(n,"width",t[3]),b(n,"height",t[4]),E(n,"width",t[0]+"px"),E(n,"height",t[1]+"px"),b(n,"class","svelte-kjeax")},m(e,r){p(e,n,r),t[5](n)},p(e,[t]){1&t&&E(n,"width",e[0]+"px"),2&t&&E(n,"height",e[1]+"px")},i:e,o:e,d(e){e&&f(n),t[5](null)}}}function wo(e,t,n){let{width:r=240}=t,{height:i=66}=t;const s=r*window.devicePixelRatio||1,a=i*window.devicePixelRatio||1;let o,l,c=!1;return ue.listenFor("DidAudioProcess",((e,t)=>{t?c||(c=!0,window.requestAnimationFrame((function(){(e=>{l.fillStyle="rgb(0, 0, 0)",l.fillRect(0,0,s,a);const t=s/240;let n,r=0;for(let i=0;i<240;i+=1){n=e[2*i];const s=n/256*a>>0;l.fillStyle="rgb("+(n+100)+",50,50)",l.fillRect(r,a-s,t,s),r+=t}c=!1})(t)}))):l.clearRect(0,0,s,a)})),C((()=>{l=o.getContext("2d",{alpha:!0,antialias:!1})})),e.$$set=e=>{"width"in e&&n(0,r=e.width),"height"in e&&n(1,i=e.height)},[r,i,o,s,a,function(e){F[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class yo extends re{constructor(e){super(),ne(this,e,wo,_o,s,{width:0,height:1})}}function bo(t){let n;return{c(){n=m("canvas"),b(n,"id","fr"),b(n,"width",t[3]),b(n,"height",t[4]),E(n,"width",t[0]+"px"),E(n,"height",t[1]+"px"),b(n,"class","svelte-kjeax")},m(e,r){p(e,n,r),t[5](n)},p(e,[t]){1&t&&E(n,"width",e[0]+"px"),2&t&&E(n,"height",e[1]+"px")},i:e,o:e,d(e){e&&f(n),t[5](null)}}}function ko(e,t,n){let{width:r=240}=t,{height:i=66}=t;const s=r*window.devicePixelRatio||1,a=i*window.devicePixelRatio||1;let o,l,c=!1;const u=document.createElement("canvas");u.width=s,u.height=a;const d=u.getContext("2d"),p=e=>{const t={0:[0,0,0],10:[75,0,159],20:[104,0,251],30:[131,0,255],40:[155,18,157],50:[175,37,0],60:[191,59,0],70:[206,88,0],80:[223,132,0],90:[240,188,0],100:[255,252,0]},n=100*e/255,r=10*Math.floor(n/10),i=(n-r)/10;let s;s=n<100?[t[r+10][0]-t[r+10][0],t[r+10][1]-t[r+10][1],t[r+10][2]-t[r+10][2]]:[0,0,0];const a=[t[r][0]+i*s[0],t[r][1]+i*s[1],t[r][2]+i*s[2]];return`rgb(${a[0]}, ${a[1]}, ${a[2]})`};return ue.listenFor("DidAudioProcess",((e,t)=>{t?c||(c=!0,window.requestAnimationFrame((function(){(e=>{d.drawImage(o,0,0,s,a),l.fillStyle="rgb(0, 0, 0)",l.fillRect(0,0,s,a);for(let t=0;t<e.length;++t){let n;n=e[t],l.fillStyle=p(n);const r=t/e.length,i=Math.round(r*a);l.fillRect(s-3,a-i,3,3)}l.translate(-3,0),l.drawImage(u,0,0,s,a,0,0,s,a),l.setTransform(1,0,0,1,0,0),c=!1})(t)}))):l.clearRect(0,0,s,a)})),C((()=>{l=o.getContext("2d",{alpha:!0,antialias:!1})})),e.$$set=e=>{"width"in e&&n(0,r=e.width),"height"in e&&n(1,i=e.height)},[r,i,o,s,a,function(e){F[e?"unshift":"push"]((()=>{o=e,n(2,o)}))}]}class Eo extends re{constructor(e){super(),ne(this,e,ko,bo,s,{width:0,height:1})}}function $o(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y=e[3]("frequency_analyser")+"",E=e[3]("spectrum_analyser")+"";return a=new yo({}),v=new Eo({}),{c(){t=m("div"),n=m("div"),r=m("div"),i=g(y),s=_(),K(a.$$.fragment),o=_(),l=m("div"),c=m("div"),u=g(E),h=_(),K(v.$$.fragment),b(r,"class","name svelte-1l5k2bv"),b(n,"class","svelte-1l5k2bv"),b(c,"class","name svelte-1l5k2bv"),b(l,"class","svelte-1l5k2bv"),b(t,"class","analyzers svelte-1l5k2bv")},m(e,f){p(e,t,f),d(t,n),d(n,r),d(r,i),d(n,s),J(a,n,null),d(t,o),d(t,l),d(l,c),d(c,u),d(l,h),J(v,l,null),w=!0},p(e,t){(!w||8&t)&&y!==(y=e[3]("frequency_analyser")+"")&&k(i,y),(!w||8&t)&&E!==(E=e[3]("spectrum_analyser")+"")&&k(u,E)},i(e){w||(W(a.$$.fragment,e),W(v.$$.fragment,e),w=!0)},o(e){G(a.$$.fragment,e),G(v.$$.fragment,e),w=!1},d(e){e&&f(t),ee(a),ee(v)}}}function xo(e){let t;return{c(){t=m("div"),b(t,"class","pk_tmpMsg svelte-1l5k2bv")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function To(e){let t,n,r,i,s,a;return n=new Ga({}),s=new Ka({}),{c(){t=m("div"),K(n.$$.fragment),r=_(),i=m("div"),K(s.$$.fragment),b(t,"data-name","panner_col_left"),b(t,"class","pk_pan_left svelte-1l5k2bv"),b(i,"data-name","panner_col_right"),b(i,"class","pk_pan_right svelte-1l5k2bv")},m(e,o){p(e,t,o),J(n,t,null),p(e,r,o),p(e,i,o),J(s,i,null),a=!0},i(e){a||(W(n.$$.fragment,e),W(s.$$.fragment,e),a=!0)},o(e){G(n.$$.fragment,e),G(s.$$.fragment,e),a=!1},d(e){e&&f(t),ee(n),e&&f(r),e&&f(i),ee(s)}}}function Ro(e){let t,n,r,i,s,a,o,l,c,u,h,v=!e[0]&&$o(e),g=!e[0]&&xo(),w=e[2]&&To();return u=new go({}),{c(){v&&v.c(),t=_(),n=m("div"),r=m("div"),g&&g.c(),i=_(),s=m("div"),w&&w.c(),a=_(),o=m("div"),o.innerHTML='<div class="left svelte-1l5k2bv"><span class="svelte-1l5k2bv">L</span></div> \n        <div class="right svelte-1l5k2bv"><span class="svelte-1l5k2bv">R</span></div>',l=_(),c=m("div"),K(u.$$.fragment),b(r,"data-name","main_audio_view"),b(r,"class","pk_av pk_noselect svelte-1l5k2bv"),b(r,"id","wavesurferContainer"),b(s,"data-name","btn_panner_cnt"),b(s,"class","pk_panner pk_noselect svelte-1l5k2bv"),b(o,"class","main-view-right-box pk_noselect svelte-1l5k2bv"),b(n,"data-name","audio_container"),b(n,"class","pk_av_cont svelte-1l5k2bv"),b(c,"data-name","footer"),b(c,"class","pk_ftr pk_noselect svelte-1l5k2bv")},m(f,m){v&&v.m(f,m),p(f,t,m),p(f,n,m),d(n,r),g&&g.m(r,null),e[4](r),d(n,i),d(n,s),w&&w.m(s,null),d(n,a),d(n,o),p(f,l,m),p(f,c,m),J(u,c,null),h=!0},p(e,[n]){e[0]?v&&(H(),G(v,1,1,(()=>{v=null})),Z()):v?(v.p(e,n),1&n&&W(v,1)):(v=$o(e),v.c(),W(v,1),v.m(t.parentNode,t)),e[0]?g&&(g.d(1),g=null):g||(g=xo(),g.c(),g.m(r,null)),e[2]?w?4&n&&W(w,1):(w=To(),w.c(),W(w,1),w.m(s,null)):w&&(H(),G(w,1,1,(()=>{w=null})),Z())},i(e){h||(W(v),W(w),W(u.$$.fragment,e),h=!0)},o(e){G(v),G(w),G(u.$$.fragment,e),h=!1},d(r){v&&v.d(r),r&&f(t),r&&f(n),g&&g.d(),e[4](null),w&&w.d(),r&&f(l),r&&f(c),ee(u)}}}function Po(e,t,n){let r;o(e,Cr,(e=>n(3,r=e)));let i,{isMobile:s}=t,a=!1;return C((()=>{const e=uo(i);e.addOption("Select Visible View",((e,t,n)=>{ue.fireEvent("RequestRegionSet")}),!1),e.addOption("Reset Zoom",(e=>{ue.fireEvent("RequestZoomUI",0)}),!1),e.addOption("Set Volume/Gain",(e=>{ue.fireEvent("RequestFXUI_Gain")}),!1),e.addOption("Copy",(e=>{ft.engine.wavesurfer.regions.list[0]&&ue.fireEvent("RequestActionCopy")}),!1),e.addOption("Paste",(e=>{t&&ue.fireEvent("RequestActionPaste")}),!1),e.addOption("Cut",(e=>{ft.engine.wavesurfer.regions.list[0]&&ue.fireEvent("RequestActionCut")}),!1),e.addOption("Insert Silence",(e=>{ue.fireEvent("RequestFXUI_Silence",0)}),!1);let t=!1;ue.listenFor("DidSetClipboard",(e=>{t=!!e})),e.onOpen=(e,n)=>{const r=n.childNodes;t||(r[4].className+=" pk_inact"),ue.fireEvent("RequestPause");ft.engine.wavesurfer.regions.list[0]||(r[3].className+=" pk_inact",r[5].className+=" pk_inact")}})),ue.listenFor("DidReadyFire",(()=>{n(2,a=!0)})),e.$$set=e=>{"isMobile"in e&&n(0,s=e.isMobile)},[s,i,a,r,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class So extends re{constructor(e){super(),ne(this,e,Po,Ro,s,{isMobile:0})}}const Co=(e,t)=>{if(!e.className)return!1;const n=e.className.split(" "),r=[];for(let e=0,i=n.length;e<i;++e)n[e]!=t&&r.push(n[e]);e.className=r.join(" ")},Ao=new FileReader,Do=(e,t,n)=>(Ao.onerror=e=>{throw["File not found.","File coulnot be opened","File couldnot be uploaded","Couldnot read File","File too large"][e.target.error.code-1]},Ao.onloadend=n=>{t&&t(n.target.result,e.name),Ao.onloadend=null},Ao[n](e),!1),Fo=()=>{let e=0,t=1,n=4;We.add("left",(r=>{if(je.on||!ft.engine.is_ready)return;const i=r.timeStamp;i-e>158?(t=1,n=4):--n<0&&t<6&&(t+=.05),e=i;let s=.5;const a=ft.engine.wavesurfer.ZoomFactor,o=ft.engine.wavesurfer.getDuration();s=Math.max(o/200,.05),s/=a,s*=t,ue.fireEvent("RequestSkipBack",s)}));let r=0,i=1,s=4;We.add("right",(e=>{if(je.on||!ft.engine.is_ready)return;const t=e.timeStamp;t-r>158?(i=1,s=4):--s<0&&i<6&&(i+=.05),r=t;let n=.5;const a=ft.engine.wavesurfer.ZoomFactor,o=ft.engine.wavesurfer.getDuration();n=Math.max(o/200,.05),n/=a,n*=i,ue.fireEvent("RequestSkipFront",n)})),We.add("mod+left",(()=>{if(je.on||!ft.engine.is_ready)return;const e=ft.engine.wavesurfer.regions.list[0];if(e){const t=ft.engine.wavesurfer.ActiveMarker,n=ft.engine.wavesurfer.getDuration();let r=e.end/n;if(t>r+.004)return void ue.fireEvent("RequestSeekTo",r-1e-4);if(r=e.start/n,t>r+.004)return void ue.fireEvent("RequestSeekTo",r)}ue.fireEvent("RequestSeekTo",0)})),We.add("mod+right",(()=>{if(je.on||!ft.engine.is_ready)return;const e=ft.engine.wavesurfer.regions.list[0];if(e){const t=ft.engine.wavesurfer.ActiveMarker,n=ft.engine.wavesurfer.getDuration();let r=e.start/n;if(t<r-.004)return void ue.fireEvent("RequestSeekTo",r);if(r=e.end/n,t<r-.004)return void ue.fireEvent("RequestSeekTo",r-1e-4)}ue.fireEvent("RequestSeekTo",.994)})),We.add("esc",(()=>{const e=new Event("killCTX",{bubbles:!0});document.body.dispatchEvent(e)})),We.add("tab",(e=>{e.preventDefault(),e.stopPropagation(),!je.on&&ft.engine.is_ready&&ue.fireEvent("RequestViewCenterToCursor")})),ue.listenFor("DidChanToggle",((e,t)=>{const n=ft.engine.wavesurfer.regions.list[0];if(n)return 1===t?(n.element.style.top="0",void(n.element.style.height="100%")):0===e?(n.element.style.top="50%",void(n.element.style.height="50%")):void(1===e&&(n.element.style.top="0",n.element.style.height="50%"))})),((e,t,n,r)=>{if("ontouchstart"in window)return"mobile";const i="__fadingIn";r=r?{text:"readAsText",binary:"readAsBinaryText",arrayBuffer:"readAsArrayBuffer"}[r]:"readAsText";let s=0,a=t||e;const o={silencer:e=>{e.preventDefault(),e.stopPropagation()},onDragEnter:e=>{++s,setTimeout((()=>{s>1&&(s=1)}),10)},onDragLeave:e=>{--s,s<=0&&(Co(a,i),s=0)},onDrop:e=>{o.silencer(e),Co(a,i),s=0;const t=e.dataTransfer.files;let l;if(!t||!t.length)return!1;for(l=t.length;l--;)Do(t[l],n,r)}};!function(){const{body:e}=document;e.parentNode.addEventListener("dragenter",o.onDragEnter,!1),e.addEventListener("dragleave",o.onDragLeave,!1),e.addEventListener("dragover",o.silencer,!1),e.addEventListener("drop",o.onDrop,!1)}()})(document.getElementById("app"),"pk_overlay",(e=>{ft.engine.LoadArrayBuffer(new Blob([e]))}),"arrayBuffer")};function qo(t){let n,r,i,s,a,o,l,c,u,h,v,w,E,$,T=t[3]("progress")+"",R=t[3]("cancel")+"";return{c(){n=m("div"),r=m("div"),i=g(t[2]),s=_(),a=m("span"),o=g(T),l=_(),c=m("div"),c.innerHTML='<div class="svelte-6478te"></div>',u=_(),h=m("div"),v=m("button"),w=g(R),b(r,"class","val svelte-6478te"),b(c,"class","pk_mload svelte-6478te"),b(v,"tabindex","-1"),b(v,"class","pk_btn svelte-6478te"),b(h,"class","pk_prc svelte-6478te"),b(n,"class","pk_tmpMsg2 svelte-6478te"),x(n,"pk_act",t[1])},m(e,f){p(e,n,f),d(n,r),d(r,i),d(n,s),d(n,a),d(a,o),d(n,l),d(n,c),d(n,u),d(n,h),d(h,v),d(v,w),t[5](n),E||($=y(v,"click",t[4]),E=!0)},p(e,[t]){4&t&&k(i,e[2]),8&t&&T!==(T=e[3]("progress")+"")&&k(o,T),8&t&&R!==(R=e[3]("cancel")+"")&&k(w,R),2&t&&x(n,"pk_act",e[1])},i:e,o:e,d(e){e&&f(n),t[5](null),E=!1,$()}}}function Lo(e,t,n){let r,i;o(e,Cr,(e=>n(3,r=e)));let s=!1,a="";C((()=>{ue.listenFor("WillDownloadFile",(()=>{n(1,s=!0),n(2,a="")})),ue.listenFor("DidDownloadFile",(()=>{n(1,s=!1)})),ue.listenFor("DidProgressModal",(e=>{n(2,a=`${e}%`)}))}));return[i,s,a,r,()=>{ue.fireEvent("RequestCancelModal")},function(e){F[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}class zo extends re{constructor(e){super(),ne(this,e,Lo,qo,s,{})}}function Mo(e){let t,n,r,s,a,o,c,h,v,w,E,$,T,R,P,S=(e[1].title||"")+"",C=e[8]("cancel")+"";const A=e[11].default,D=l(A,e,e[10],null);return{c(){t=m("div"),n=m("div"),r=m("div"),s=m("div"),a=m("span"),o=g(S),c=_(),h=m("div"),D&&D.c(),v=_(),w=m("div"),E=m("a"),$=g(C),b(s,"data-name","el_title"),b(s,"class","pk_noselect pk_modal_title svelte-1cudf61"),b(h,"data-name","el_main"),b(h,"class","pk_modal_main svelte-1cudf61"),b(E,"data-name","a_cancel"),b(E,"class","pk_modal_cancel pk_modal_a_bottom svelte-1cudf61"),b(w,"data-name","el_bottom"),b(w,"class","pk_noselect pk_modal_bottom svelte-1cudf61"),b(r,"data-name","el"),b(r,"class","pk_modal svelte-1cudf61"),x(r,"pk_bigger",e[1].big),b(n,"data-name","el_cont"),b(n,"class","pk_modal_cnt svelte-1cudf61"),b(t,"data-name","el_back"),b(t,"class","pk_modal_back svelte-1cudf61")},m(l,u){p(l,t,u),d(t,n),d(n,r),d(r,s),d(s,a),d(a,o),e[12](s),d(r,c),d(r,h),D&&D.m(h,null),e[13](h),d(r,v),d(r,w),d(w,E),d(E,$),e[14](w),e[15](r),e[16](n),e[17](t),T=!0,R||(P=y(E,"click",(function(){i(e[2])&&e[2].apply(this,arguments)})),R=!0)},p(t,[n]){e=t,(!T||2&n)&&S!==(S=(e[1].title||"")+"")&&k(o,S),D&&D.p&&1024&n&&u(D,A,e,e[10],n,null,null),(!T||256&n)&&C!==(C=e[8]("cancel")+"")&&k($,C),2&n&&x(r,"pk_bigger",e[1].big)},i(e){T||(W(D,e),T=!0)},o(e){G(D,e),T=!1},d(n){n&&f(t),e[12](null),D&&D.d(n),e[13](null),e[14](null),e[15](null),e[16](null),e[17](null),R=!1,P()}}}function Oo(e,t,n){let r;o(e,Cr,(e=>n(8,r=e)));let{$$slots:i={},$$scope:s}=t,{config:a}=t,{hide:l}=t,{els:c}=t,{el_body:u=null}=t;a.id&&a.id;let d=a.ondestroy;let p,f,h,m,v;var g;return c={toolbar:[],bottom:[]},C((()=>{if(a.buttons&&a.buttons.length>0)for(let e=0;e<a.buttons.length;++e){const t=a.buttons[e];if(!t.title||!t.callback)continue;const n=document.createElement("a");n.innerHTML=t.title,n.className="pk_modal_a_bottom "+(t.clss?t.clss:""),t.callback&&function(e){n.onclick=function(){e(null)}}(t.callback),c.bottom.push(n),v.appendChild(n)}if(h.appendChild(v),a.toolbar&&a.toolbar.length>0)for(let e=0;e<a.toolbar.length;++e){const t=a.toolbar[e];if(!t.title||!t.callback)continue;const n=document.createElement("a");"Preview"===t.title?n.innerHTML=`<svg viewBox="0 0 48 48" width="48" height="48" style="position: absolute; left: -15px; top: 1px; width: 15px; height: 15px">\n                        <path fill="#2188ff" d="M16 10v28l22-14z" />\n                    </svg>${r("play")}`:n.innerHTML=t.title,n.className="pk_modal_a_top "+(t.clss?t.clss:""),m.appendChild(n),t.callback&&function(e){n.onclick=function(){e(null,this)}}(t.callback),c.toolbar.push(n)}})),g=()=>{d&&(d(),d=null),n(9,c=null)},S().$$.on_destroy.push(g),e.$$set=e=>{"config"in e&&n(1,a=e.config),"hide"in e&&n(2,l=e.hide),"els"in e&&n(9,c=e.els),"el_body"in e&&n(0,u=e.el_body),"$$scope"in e&&n(10,s=e.$$scope)},[u,a,l,p,f,h,m,v,r,c,s,i,function(e){F[e?"unshift":"push"]((()=>{m=e,n(6,m)}))},function(e){F[e?"unshift":"push"]((()=>{u=e,n(0,u)}))},function(e){F[e?"unshift":"push"]((()=>{v=e,n(7,v)}))},function(e){F[e?"unshift":"push"]((()=>{h=e,n(5,h)}))},function(e){F[e?"unshift":"push"]((()=>{f=e,n(4,f)}))},function(e){F[e?"unshift":"push"]((()=>{p=e,n(3,p)}))}]}class No extends re{constructor(e){super(),ne(this,e,Oo,Mo,s,{config:1,hide:2,els:9,el_body:0})}}function Io(e){let t;const n=e[6].default,r=l(n,e,e[10],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&1024&t&&u(r,n,e,e[10],t,null,null)},i(e){t||(W(r,e),t=!0)},o(e){G(r,e),t=!1},d(e){r&&r.d(e)}}}function Bo(e){let t,n,r,i,s;function a(t){e[7](t)}function o(t){e[8](t)}let l={config:e[4],hide:e[2],$$slots:{default:[Io]},$$scope:{ctx:e}};return void 0!==e[0]&&(l.els=e[0]),void 0!==e[1]&&(l.el_body=e[1]),n=new No({props:l}),F.push((()=>Q(n,"els",a))),F.push((()=>Q(n,"el_body",o))),{c(){t=m("div"),K(n.$$.fragment),b(t,"class","svelte-140fawt")},m(r,i){p(r,t,i),J(n,t,null),e[9](t),s=!0},p(e,[t]){const s={};4&t&&(s.hide=e[2]),1024&t&&(s.$$scope={dirty:t,ctx:e}),!r&&1&t&&(r=!0,s.els=e[0],N((()=>r=!1))),!i&&2&t&&(i=!0,s.el_body=e[1],N((()=>i=!1))),n.$set(s)},i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){G(n.$$.fragment,e),s=!1},d(r){r&&f(t),ee(n),e[9](null)}}}function Uo(e,t,n){let r;o(e,Cr,(e=>n(13,r=e)));let i,{$$slots:s={},$$scope:a}=t,{config:l}=t,{hide:c}=t,{els:u=null}=t,{el_body:d=null}=t,p=null;l.preview&&(p=[{title:"ON",clss:"pk_inact",callback:()=>{ue.fireEvent("RequestActionFX_TOGGLE")}},{title:"Preview",callback:e=>{l.preview&&l.preview(e)}}]);const f={id:l.id};C((()=>{f.el=i,f.el_body=d,ue.fireEvent("RequestActionFX_TOGGLE",1),We.add("space",(()=>{if(je.check("modalfx")){var e=u.toolbar;if(e&&e.length>0)for(var t=e.length;t-- >0;)if("Preview"===e[t].title){e[t].callback(f);break}}})),f._evstart=function(){u.toolbar[0].classList.remove("pk_inact"),u.toolbar[1].classList.add("pk_act")},f._evstop=function(){u.toolbar[0].classList.add("pk_inact"),u.toolbar[1].classList.remove("pk_act")},f._evtoggle=function(e){var t=u.toolbar[0];t.innerHTML=e?"ON":"OFF"},f._updpreview=e=>{var t=f.el_presets.options[f.el_presets.selectedIndex],n=f.el.getElementsByClassName("pk_sel_edt")[0];"t"!==e||t&&t.getAttribute("data-custom")?(n.style.visibility="visible",n.style.opacity="1",ue.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",f._updpreview)):(n.style.visibility="hidden",n.style.opacity="0",ue.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",f._updpreview),setTimeout((function(){ue.listenFor("RequestActionFX_UPDATE_PREVIEW",f._updpreview)}),100))},f._updpreset=function(e,t){if(!e||e===f.id)for(var n=f.el_presets.getElementsByTagName("option"),r=n.length,i=null;r-- >0;)if((i=n[r]).getAttribute("data-custom")===t){i.selected="selected";break}},f._updatePresets=function(e,t){if(!e||e===f.id){var n=document,i=f.el.getElementsByClassName("pk_sel");if(i.length>0){for(var s=(i=i[0]).getElementsByTagName("option"),a=s.length,o=null;a-- >0;)(o=s[a]).getAttribute("data-custom")&&i.removeChild(o);if(0===t.length)return;(u=n.createElement("option")).setAttribute("disabled","1"),u.setAttribute("data-custom","1"),u.innerHTML="----custom-----",i.appendChild(u);for(var c=0;c<t.length;++c){var u=n.createElement("option");o=t[c];u.value=o.val,u.setAttribute("data-custom",o.id),u.innerHTML=o.name,i.appendChild(u)}}else if((i=n.createElement("select")).className="pk_sel",0!==t.length){for(c=-1;c<t.length;++c){u=n.createElement("option");if(-1===c)u.value="null",u.innerHTML=r("presets");else{o=t[c];u.value=o.val,u.innerHTML=o.name}i.appendChild(u)}i.onchange=function(){var e=this.value.split(","),t=f.el.getElementsByTagName("input");if(f._updpreview("t"),l.onpreset)l.onpreset(this.value);else for(var n=t.length,r=0;r<n&&e[r];++r){var i=e[r].trim(),s=t[r];"null"!==i&&("checkbox"===s.type||"radio"===s.type?s.checked=i:(s.value=i,s.oninput&&s.oninput.apply(s)))}};var d=f.el.getElementsByClassName("pk_modal_bottom")[0];d.appendChild(i),f.el_presets=i;var p=n.createElement("a");p.className="pk_sel_edt",p.innerHTML="...<span>Save or Modify preset</span>",p.onclick=()=>{setTimeout((()=>{ue.fireEvent("RequestSavePreset",f)}),200)},d.appendChild(p),ue.listenFor("RequestActionFX_UPDATE_PREVIEW",f._updpreview),ue.listenFor("RequestSetPresetActive",f._updpreset)}}},ue.listenFor("DidStartPreview",f._evstart),ue.listenFor("DidStopPreview",f._evstop),ue.listenFor("DidTogglePreview",f._evtoggle),ue.fireEvent("DidOpenFX_UI",f),l.updateFilter&&(f.updateFilter=l.updateFilter),l.presets&&(f._updatePresets(null,l.presets),l.custom_pres&&f._updatePresets(null,l.custom_pres),ue.listenFor("DidSetPresets",f._updatePresets)),l.setup&&l.setup(f)}));const h={id:l.id,title:l.title,clss:l.clss,presets:l.presets,updateFilter:l.updateFilter,ondestroy:()=>{ue.fireEvent("DidCloseFX_UI"),ue.stopListeningFor("DidStartPreview",f._evstart),ue.stopListeningFor("DidStopPreview",f._evstop),ue.stopListeningFor("DidTogglePreview",f._evtoggle),ue.stopListeningFor("DidSetPresets",f._updatePresets),ue.stopListeningFor("RequestActionFX_UPDATE_PREVIEW",f._updpreview),ue.stopListeningFor("RequestSetPresetActive",f._updpreset),ue.fireEvent("RequestActionFX_PREVIEW_STOP"),We.removeLast("space"),l.ondestroy&&l.ondestroy(f)},toolbar:p,buttons:l.buttons,body:l.body,onpreset:l.onpreset};return e.$$set=e=>{"config"in e&&n(5,l=e.config),"hide"in e&&n(2,c=e.hide),"els"in e&&n(0,u=e.els),"el_body"in e&&n(1,d=e.el_body),"$$scope"in e&&n(10,a=e.$$scope)},[u,d,c,i,h,l,s,function(e){u=e,n(0,u)},function(e){d=e,n(1,d)},function(e){F[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},a]}class jo extends re{constructor(e){super(),ne(this,e,Uo,Bo,s,{config:5,hide:2,els:0,el_body:1})}}function Xo(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B;return{c(){n=m("div"),r=m("div"),i=m("label"),i.textContent="Devices:",s=_(),a=m("select"),o=_(),l=m("div"),c=m("div"),u=m("label"),u.textContent="Volume",h=_(),v=m("canvas"),g=_(),w=m("div"),y=m("label"),y.textContent="Time",k=_(),$=m("span"),$.textContent="0.0",x=_(),T=m("div"),R=_(),P=m("div"),S=m("label"),S.textContent="Waveform",C=_(),A=m("canvas"),D=_(),F=m("div"),q=m("a"),q.textContent="START RECORDING",L=_(),z=m("a"),z.textContent="PAUSE",M=_(),O=m("div"),N=m("a"),N.textContent="OPEN RECORDING",I=_(),B=m("a"),B.textContent="APPEND TO EXISTING",E(a,"max-width","220px"),b(r,"class","pk_row"),b(v,"width","200"),b(v,"height","40"),E(c,"float","left"),E($,"font-size","24px"),E($,"line-height","50px"),E(w,"float","left"),E(w,"margin-left","20px"),E(T,"clear","both"),E(T,"height","10px"),b(A,"width","1000"),b(A,"height","200"),E(A,"image-rendering","pixelated"),E(A,"width","500px"),E(A,"height","100px"),E(A,"display","block"),E(A,"background","#000"),b(l,"class","pk_row"),b(q,"class","pk_tbsa pk_inact"),E(q,"text-align","center"),b(z,"class","pk_tbsa pk_inact"),E(z,"margin-left","24px"),E(z,"text-align","center"),b(F,"class","pk_row"),b(N,"class","pk_tbsa"),E(N,"float","left"),E(N,"display","none"),E(N,"text-align","center"),E(N,"box-shadow","0 0 7px #3a6b79 inset"),b(B,"class","pk_tbsa"),E(B,"float","left"),E(B,"display","none"),E(B,"margin-left","24px"),E(B,"text-align","center"),b(O,"class","pk_row"),b(n,"class","pk_rec"),E(n,"user-select","none")},m(e,f){p(e,n,f),d(n,r),d(r,i),d(r,s),d(r,a),t[10](a),d(n,o),d(n,l),d(l,c),d(c,u),d(c,h),d(c,v),t[11](v),d(l,g),d(l,w),d(w,y),d(w,k),d(w,$),t[12]($),d(l,x),d(l,T),d(l,R),d(l,P),d(P,S),d(P,C),d(P,A),t[13](A),d(n,D),d(n,F),d(F,q),t[14](q),d(F,L),d(F,z),t[15](z),d(n,M),d(n,O),d(O,N),t[16](N),d(O,I),d(O,B),t[17](B)},p:e,d(e){e&&f(n),t[10](null),t[11](null),t[12](null),t[13](null),t[14](null),t[15](null),t[16](null),t[17](null)}}}function Vo(e){let t,n;return t=new jo({props:{config:e[9],hide:e[0],$$slots:{default:[Xo]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.hide=e[0]),510&n[0]|4&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const Ho="modalfx",Zo=2048;function Wo(e,t,n){let r;o(e,Cr,(e=>n(31,r=e)));let{hide:i}=t,s=null,a=null,l=null,c=null,u=[],d=null,p=44100;const f=()=>{s&&(s.getTracks().forEach((e=>{e.stop()})),l&&(l.onaudioprocess=null),c&&c.disconnect(),l&&l.disconnect(),c=null,s=null,a=null)},h={id:"rec_tools",title:r("recording"),ondestroy:()=>{$=!1,f(),u=[],d=null,je.on=!1,We.removeLast("esc"),ue.fireEvent("RequestStop")}};let m,v,g,_,w,y,b,k,E=!1,$=!1,x=!1,T=!1;return C((()=>{const e=b.getContext("2d",{alpha:!1,antialias:!1}),t=k.getContext("2d",{alpha:!1,antialias:!1}),r=document.createElement("canvas");r.width=1e3,r.height=200;const o=r.getContext("2d",{alpha:!1,antialias:!1});let h=12,R=0,P=-1,S=0,C=0,A=!1,D=-999999,F=[],q=0,L=!1;u=[],d=null;const z=()=>{e.fillStyle="#000",e.fillRect(0,0,200,40),$&&(e.fillStyle="green",e.fillRect(0,0,200*S*1.67,40),n(5,w.innerText=""+(10*C>>0)/10,w),window.requestAnimationFrame(z))},M=e=>{if(h>0)return void--h;if(x)return;R+=e.inputBuffer.duration*p;const n=e.inputBuffer.getChannelData(0).slice(0);u[++P]=n;let i,s=0;for(let e=0;e<Zo;e+=2)i=n[e],s+=i*i;const a=Math.sqrt(s/1024);S=Math.max(a,.9*S);const l=P*Zo/p;C=l;const c=500,d=100;let f=c,m=0,v=0,g=0;const _=l-3,w=l;let y=!1,b=_*p>>0,E=(_+3)*p>>0,$=E-b,T=$/c>>0;if(_<D){if(g=(w-D)/3*c,v=Math.round(g),g=(1e3*g>>0)/1e3,v>=0){if(0===v)return;f=v,b=D*p>>0,E=w*p>>0,$=E-b,T=$/v>>0,F=F.slice(2*v),m=c-v,y=!0}}D=w;let A=0,L=0;for(let e=0;e<f;++e){const t=b+T*e;if(A=0,L=0,t>=0)for(let e=0;e<T;e+=3){const n=t+e,r=n/2048>>0,i=n%2048;u[r]&&(u[r][i]>A?A=u[r][i]:u[r][i]<L&&(L=u[r][i]))}F[2*(e+m)]=A,F[2*(e+m)+1]=L}if(y&&o.drawImage(k,0,0),t.fillStyle="#000",t.fillRect(0,0,1e3,200),t.fillStyle="#99c2c6",y){let e=Math.round(2*g);q+=e-2*g,q>1&&(e-=1,q=0),t.translate(-e,0),t.drawImage(r,0,0),t.setTransform(1,0,0,1,0,0),t.beginPath();let n=F[2*(c-v-2)],i=Math.round(n*d);t.moveTo(2*(c-v-2),d-i);for(let e=c-v-1;e<c;++e)n=F[2*e],i=Math.round(n*d),t.lineTo(2*e,d-i);for(let e=499;e>=c-v-1;--e){const n=F[2*e+1],r=Math.round(n*d);t.lineTo(2*e,d-r)}t.closePath(),t.fill()}else{t.beginPath(),t.moveTo(0,d);for(let e=0;e<c;++e){const n=F[2*e],r=Math.round(n*d);t.lineTo(2*e,d-r)}for(let e=499;e>=0;--e){const n=F[2*e+1],r=Math.round(n*d);t.lineTo(2*e,d-r)}t.closePath(),t.fill()}};navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((e=>{e.getTracks().forEach((e=>{e.stop()})),O()})).catch((()=>{alert("no microphone permissions found!")}));const O=()=>{navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices().then((e=>{e=e.filter((e=>"audioinput"===e.kind)),A=!0;const t=e.length;for(let n=0;n<t;++n){const t=document.createElement("option");t.value=e[n].deviceId,t.innerText=e[n].label,y.appendChild(t)}E=!0,m.classList.remove("pk_inact")})):(n(6,y.parentNode.style.display="none",y),A=!1,E=!0,m.classList.remove("pk_inact"))};n(1,m.onclick=()=>{if(!E)return;if(L)return;if(L=!0,setTimeout((()=>{L=!1}),260),T&&!window.confirm("Are you sure? This will discard the current recording."))return;if($)return(()=>{f(),$=!1,x=!1,h=10,++P;let e=-1;d=new Float32Array(P*Zo);for(let t=0;t<P;++t)for(let n=0;n<Zo;++n)d[++e]=u[t][n];P=-1,u=[],n(3,g.style.display="block",g),ft.engine.is_ready&&n(4,_.style.display="block",_),T=!0})(),v.classList.add("pk_inact"),n(1,m.innerText="START RECORDING",m),void n(1,m.style.boxShadow="none",m);P=-1,u=[],d=null,S=0,n(3,g.style.display="none",g),n(4,_.style.display="none",_),a=new(window.AudioContext||window.webkitAudioContext),p=a.sampleRate;let e=!0;A&&(e={deviceId:y.value}),navigator.mediaDevices.getUserMedia({audio:e}).then((e=>{s=e,c=a.createMediaStreamSource(e),l=a.createScriptProcessor(Zo,1,1),c.connect(l),l.connect(a.destination),$=!0,v.classList.remove("pk_inact"),n(1,m.innerText="FINISH RECORDING",m),n(1,m.style.boxShadow="#992222 0px 0px 6px inset",m),l.onaudioprocess=M,z()})).catch((e=>{}))},m),n(2,v.onclick=()=>{E&&$&&(x=!x,n(2,v.innerText=x?"UN-PAUSE":"PAUSE",v))},v),n(3,g.onclick=()=>{L||(L=!0,setTimeout((()=>{L=!1}),150),ft.engine.wavesurfer.backend._add=0,ft.engine.LoadDB({samplerate:p,data:[d.buffer]}),i())},g),n(4,_.onclick=()=>{L||(L=!0,setTimeout((()=>{L=!1}),150),ft.engine.wavesurfer.backend._add=1,ft.engine.LoadDB({samplerate:p,data:[d.buffer]}),i())},_),ue.fireEvent("RequestPause"),je.checkAndSet(Ho),We.add("esc",(()=>{je.check(Ho)&&i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide)},[i,m,v,g,_,w,y,b,k,h,function(e){F[e?"unshift":"push"]((()=>{y=e,n(6,y)}))},function(e){F[e?"unshift":"push"]((()=>{b=e,n(7,b)}))},function(e){F[e?"unshift":"push"]((()=>{w=e,n(5,w)}))},function(e){F[e?"unshift":"push"]((()=>{k=e,n(8,k)}))},function(e){F[e?"unshift":"push"]((()=>{m=e,n(1,m)}))},function(e){F[e?"unshift":"push"]((()=>{v=e,n(2,v)}))},function(e){F[e?"unshift":"push"]((()=>{g=e,n(3,g)}))},function(e){F[e?"unshift":"push"]((()=>{_=e,n(4,_)}))}]}class Go extends re{constructor(e){super(),ne(this,e,Wo,Vo,s,{hide:0},[-1,-1])}}const Yo=new class{constructor(){if(this.presets={},!window.localStorage)return void(this.Set=function(){});const e=window.localStorage.getItem("pk_presetfx");let t=null;if(e){try{t=JSON.parse(e)}catch(e){}t&&(this.presets=t)}}Set(e,t){let n=this.presets[e];return n||(n=[],this.presets[e]=n),n.push(t),localStorage.setItem("pk_presetfx",JSON.stringify(this.presets)),n}Save(){localStorage.setItem("pk_presetfx",JSON.stringify(this.presets))}Get(e){return e?this.presets[e]:this.presets}GetSingle(e,t){if(!e)return!1;if(!t)return!1;const n=this.presets[e];let r=n.length,i=null;for(;r-- >0;)if(n[r].id===t){i=n[r];break}return i||!1}Del(e,t){if(!e)return this.presets;const n=this.presets[e];let r=n.length,i=!1;for(;r-- >0;)if(n[r].id===t){n.splice(r,1),i=!0;break}return i&&localStorage.setItem("pk_presetfx",JSON.stringify(this.presets)),n}};function Qo(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><label>Threshold</label> \n            <input class="pk_horiz" type="range" min="-100" max="0" step="0.1" value="-24.0"/> \n            <span class="pk_val">-24.0</span></div> \n\n        <div class="pk_row"><label>Knee</label> \n            <input class="pk_horiz" type="range" min="0.0" max="40.0" step="0.01" value="30.0"/> \n            <span class="pk_val">30.0</span></div> \n\n        <div class="pk_row"><label>Ratio</label> \n            <input class="pk_horiz" type="range" min="1.0" max="20.0" step="0.01" value="12.0"/> \n            <span class="pk_val">12.0</span></div> \n\n        <div class="pk_row"><label>Attack</label> \n            <input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.001" value="0.003"/> \n            <span class="pk_val">0.003</span></div> \n\n        <div class="pk_row" style="border:none"><label>Release</label> \n            <input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.001" value="0.25"/> \n            <span class="pk_val">0.25</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function Ko(e){let t,n;return t=new jo({props:{config:e[2],hide:e[0],$$slots:{default:[Qo]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),130&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const Jo="modalfx",el="compressor";function tl(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a=()=>{let e,t=[];{const e=i.getElementsByTagName("input");t[0]={val:e[0].value/1},t[1]={val:e[1].value/1},t[2]={val:e[2].value/1},t[3]={val:e[3].value/1},t[4]={val:e[4].value/1}}return e={threshold:t[0],knee:t[1],ratio:t[2],attack:t[3],release:t[4]},e},l={id:el,title:r("compressor"),big:!0,ondestroy:()=>{je.on=!1,We.removeLast("esc")},presets:[{name:"Classic",val:"-40,5,7,0.002,0.1"},{name:"Light",val:"-6,2,2.5,0.002,0.05"},{name:"Dashed Distortion",val:"-45,26,2.05,0.233,0.0"},{name:"Chaotic Distortion",val:"-60,14,11.07,0.036,0.00"}],custom_pres:Yo.Get(el),preview:()=>{console.log("preview!!!!!!!1");const e=a();ue.fireEvent("RequestActionFX_PREVIEW_COMPRESSOR",e)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=a();ue.fireEvent("RequestActionFX_Compressor",e),s()}}]};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByTagName("input");for(let n=0;n<e.length;++n)e[n].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value/1).toFixed(3),t()};const t=()=>{const e=a();ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};ue.fireEvent("RequestPause"),je.checkAndSet(Jo),We.add("esc",(()=>{je.check(Jo)&&s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,l,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class nl extends re{constructor(e){super(),ne(this,e,tl,Ko,s,{hide:0})}}function rl(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><label>Delay Time</label> \n            <input class="pk_horiz" type="range" min="0.0" max="6.0" step="0.01" value="0.28"/> \n            <span class="pk_val">0.28</span></div> \n\n        <div class="pk_row"><label>Feedback</label> \n            <input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.5"/> \n            <span class="pk_val">0.5</span></div> \n\n        <div class="pk_row"><label>Wet</label> \n            <input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.4"/> \n            <span class="pk_val">0.4</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function il(e){let t,n;return t=new jo({props:{config:e[2],hide:e[0],$$slots:{default:[rl]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),130&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const sl="modalfx",al="delay";function ol(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a=function(){let e,t=[];{const e=i.getElementsByTagName("input");t[0]={val:e[0].value/1},t[1]={val:e[1].value/1},t[2]={val:e[2].value/1}}return e={delay:t[0],feedback:t[1],mix:t[2]},e},l={id:al,title:r("delay"),big:!0,ondestroy:()=>{je.on=!1,We.removeLast("esc")},presets:[{name:"Classic",val:"0.3,0.4,0.4"},{name:"Spacey",val:"3.0,0.6,0.3"}],custom_pres:Yo.Get(al),preview:()=>{const e=a();ue.fireEvent("RequestActionFX_PREVIEW_DELAY",e)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=a();ue.fireEvent("RequestActionFX_DELAY",e),s()}}]};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByTagName("input");for(let n=0;n<e.length;++n)e[n].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value/1).toFixed(3),t()};function t(){const e=a();ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)}ue.fireEvent("RequestPause"),je.checkAndSet(sl),We.add("esc",(()=>{je.check(sl)&&s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,l,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class ll extends re{constructor(e){super(),ne(this,e,ol,il,s,{hide:0})}}function cl(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><label>Gain</label> \n            <input class="pk_horiz" type="range" min="0.0" max="2.0" step="0.01" value="0.5"/> \n            <span class="pk_val">0.5</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function ul(e){let t,n;return t=new jo({props:{config:e[2],hide:e[0],$$slots:{default:[cl]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),130&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const dl="modalfx";function pl(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a=()=>{let e;e=[{val:i.getElementsByTagName("input")[0].value/1}];return e},l={id:"dist",title:r("distortion"),big:!0,ondestroy:()=>{je.on=!1,We.removeLast("esc")},preview:()=>{const e=a();ue.fireEvent("RequestActionFX_PREVIEW_DISTORT",e)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=a();ue.fireEvent("RequestActionFX_DISTORT",e),s()}}]};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByTagName("input");for(let n=0;n<e.length;++n)e[n].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value/1).toFixed(2),t()};const t=()=>{const e=a();ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",e)};ue.fireEvent("RequestPause"),je.checkAndSet(dl),We.add("esc",(()=>{je.check(dl)&&s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,l,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class fl extends re{constructor(e){super(),ne(this,e,pl,ul,s,{hide:0})}}function hl(t){let n,r,i,s,a,o;return{c(){n=m("div"),r=m("label"),r.textContent="Gain percentage",i=_(),s=m("input"),a=_(),o=m("span"),o.textContent="100%",b(s,"type","range"),b(s,"class","pk_horiz"),b(s,"min","0.0"),b(s,"max","2.5"),b(s,"step","0.01"),s.value="1.0",b(o,"class","pk_val"),b(n,"class","pk_row")},m(e,l){p(e,n,l),d(n,r),d(n,i),d(n,s),t[4](s),d(n,a),d(n,o),t[5](o)},p:e,d(e){e&&f(n),t[4](null),t[5](null)}}}function ml(e){let t,n;return t=new jo({props:{config:e[3],hide:e[0],$$slots:{default:[hl]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const vl="modalfx",gl="gain";function _l(e,t,n){let r;o(e,Cr,(e=>n(7,r=e)));let i,s,{hide:a}=t;const l=function(e){let t;t=[{val:i.value/1}];return t},c={id:gl,title:r("gain"),presets:[{name:"Silence",val:0},{name:"-50%",val:.5},{name:"-25%",val:.75},{name:"+25%",val:1.25},{name:"+50%",val:1.5},{name:"+100%",val:2}],custom_pres:Yo.Get(gl),ondestroy:()=>{je.on=!1,We.removeLast("esc")},preview(e){const t=l();ue.fireEvent("RequestActionFX_PREVIEW_GAIN",t)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback(e){const t=l();1!=t[0].val&&ue.fireEvent("RequestActionFX_GAIN",t),a()}}]};return C((()=>{ue.fireEvent("RequestSelect",1),n(1,i.oninput=function(){n(2,s.innerHTML=(100*i.value>>0)+"%",s),ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",[{val:i.value/1}])},i),ue.fireEvent("RequestPause"),je.checkAndSet(vl),We.add("esc",(()=>{je.check(vl)&&a()}))})),e.$$set=e=>{"hide"in e&&n(0,a=e.hide)},[a,i,s,c,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class wl extends re{constructor(e){super(),ne(this,e,_l,ml,s,{hide:0})}}function yl(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y,E,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,W,G,Y,Q,K,J,ee,te,ne,re,ie,se,ae,oe,le,ce,ue,de,pe,fe,he,me,ve,ge,_e,we,ye,be,ke,Ee,$e,xe,Te,Re,Pe,Se,Ce,Ae,De,Fe,qe,Le,ze,Me,Oe,Ne,Ie,Be,Ue,je,Xe,Ve,He,Ze,We,Ge,Ye,Qe,Ke,Je,et,tt,nt,rt,it,st,at,ot,lt,ct,ut=e[3]("dB")+"",dt=e[3]("Hz")+"",pt=e[3]("dB")+"",ft=e[3]("Hz")+"",ht=e[3]("dB")+"",mt=e[3]("Hz")+"",vt=e[3]("dB")+"",gt=e[3]("Hz")+"",_t=e[3]("dB")+"",wt=e[3]("Hz")+"",yt=e[3]("dB")+"",bt=e[3]("Hz")+"",kt=e[3]("dB")+"",Et=e[3]("Hz")+"",$t=e[3]("dB")+"",xt=e[3]("Hz")+"",Tt=e[3]("dB")+"",Rt=e[3]("Hz")+"",Pt=e[3]("dB")+"",St=e[3]("Hz")+"";return{c(){t=m("div"),n=m("span"),r=g("0 "),i=g(ut),s=_(),a=m("input"),o=_(),l=m("span"),c=g("< 32"),u=g(dt),h=_(),v=m("div"),w=m("span"),y=g("0 "),E=g(pt),$=_(),x=m("input"),T=_(),R=m("span"),P=g("64"),S=g(ft),C=_(),A=m("div"),D=m("span"),F=g("0 "),q=g(ht),L=_(),z=m("input"),M=_(),O=m("span"),N=g("125"),I=g(mt),B=_(),U=m("div"),j=m("span"),X=g("0 "),V=g(vt),H=_(),Z=m("input"),W=_(),G=m("span"),Y=g("250"),Q=g(gt),K=_(),J=m("div"),ee=m("span"),te=g("0 "),ne=g(_t),re=_(),ie=m("input"),se=_(),ae=m("span"),oe=g("500"),le=g(wt),ce=_(),ue=m("div"),de=m("span"),pe=g("0 "),fe=g(yt),he=_(),me=m("input"),ve=_(),ge=m("span"),_e=g("1000"),we=g(bt),ye=_(),be=m("div"),ke=m("span"),Ee=g("0 "),$e=g(kt),xe=_(),Te=m("input"),Re=_(),Pe=m("span"),Se=g("2000"),Ce=g(Et),Ae=_(),De=m("div"),Fe=m("span"),qe=g("0 "),Le=g($t),ze=_(),Me=m("input"),Oe=_(),Ne=m("span"),Ie=g("4000"),Be=g(xt),Ue=_(),je=m("div"),Xe=m("span"),Ve=g("0 "),He=g(Tt),Ze=_(),We=m("input"),Ge=_(),Ye=m("span"),Qe=g("8000"),Ke=g(Rt),Je=_(),et=m("div"),tt=m("span"),nt=g("0 "),rt=g(Pt),it=_(),st=m("input"),at=_(),ot=m("span"),lt=g("> 16000"),ct=g(St),b(n,"class","pk_val svelte-te7caa"),b(a,"class","pk_vert svelte-te7caa"),b(a,"data-freq","32"),b(a,"data-type","lowshelf"),b(a,"type","range"),b(a,"min","-25.0"),b(a,"max","25.0"),b(a,"step","0.01"),a.value="0.0",b(l,"class","pk_btm svelte-te7caa"),b(t,"class","pk_col svelte-te7caa"),b(w,"class","pk_val svelte-te7caa"),b(x,"class","pk_vert svelte-te7caa"),b(x,"data-freq","64"),b(x,"data-type","peaking"),b(x,"type","range"),b(x,"min","-25.0"),b(x,"max","25.0"),b(x,"step","0.01"),x.value="0.0",b(R,"class","pk_btm svelte-te7caa"),b(v,"class","pk_col svelte-te7caa"),b(D,"class","pk_val svelte-te7caa"),b(z,"class","pk_vert svelte-te7caa"),b(z,"data-freq","125"),b(z,"data-type","peaking"),b(z,"type","range"),b(z,"min","-25.0"),b(z,"max","25.0"),b(z,"step","0.01"),z.value="0.0",b(O,"class","pk_btm svelte-te7caa"),b(A,"class","pk_col svelte-te7caa"),b(j,"class","pk_val svelte-te7caa"),b(Z,"class","pk_vert svelte-te7caa"),b(Z,"data-freq","250"),b(Z,"data-type","peaking"),b(Z,"type","range"),b(Z,"min","-25.0"),b(Z,"max","25.0"),b(Z,"step","0.01"),Z.value="0.0",b(G,"class","pk_btm svelte-te7caa"),b(U,"class","pk_col svelte-te7caa"),b(ee,"class","pk_val svelte-te7caa"),b(ie,"class","pk_vert svelte-te7caa"),b(ie,"data-freq","500"),b(ie,"data-type","peaking"),b(ie,"type","range"),b(ie,"min","-25.0"),b(ie,"max","25.0"),b(ie,"step","0.01"),ie.value="0.0",b(ae,"class","pk_btm svelte-te7caa"),b(J,"class","pk_col svelte-te7caa"),b(de,"class","pk_val svelte-te7caa"),b(me,"class","pk_vert svelte-te7caa"),b(me,"data-freq","1000"),b(me,"data-type","peaking"),b(me,"type","range"),b(me,"min","-25.0"),b(me,"max","25.0"),b(me,"step","0.01"),me.value="0.0",b(ge,"class","pk_btm svelte-te7caa"),b(ue,"class","pk_col svelte-te7caa"),b(ke,"class","pk_val svelte-te7caa"),b(Te,"class","pk_vert svelte-te7caa"),b(Te,"data-freq","2000"),b(Te,"data-type","peaking"),b(Te,"type","range"),b(Te,"min","-25.0"),b(Te,"max","25.0"),b(Te,"step","0.01"),Te.value="0.0",b(Pe,"class","pk_btm svelte-te7caa"),b(be,"class","pk_col svelte-te7caa"),b(Fe,"class","pk_val svelte-te7caa"),b(Me,"class","pk_vert svelte-te7caa"),b(Me,"data-freq","4000"),b(Me,"data-type","peaking"),b(Me,"type","range"),b(Me,"min","-25.0"),b(Me,"max","25.0"),b(Me,"step","0.01"),Me.value="0.0",b(Ne,"class","pk_btm svelte-te7caa"),b(De,"class","pk_col svelte-te7caa"),b(Xe,"class","pk_val svelte-te7caa"),b(We,"class","pk_vert svelte-te7caa"),b(We,"data-freq","8000"),b(We,"data-type","peaking"),b(We,"type","range"),b(We,"min","-25.0"),b(We,"max","25.0"),b(We,"step","0.01"),We.value="0.0",b(Ye,"class","pk_btm svelte-te7caa"),b(je,"class","pk_col svelte-te7caa"),b(tt,"class","pk_val svelte-te7caa"),b(st,"class","pk_vert svelte-te7caa"),b(st,"data-freq","16000"),b(st,"data-type","highshelf"),b(st,"type","range"),b(st,"min","-25.0"),b(st,"max","25.0"),b(st,"step","0.01"),st.value="0.0",b(ot,"class","pk_btm svelte-te7caa"),b(et,"class","pk_col svelte-te7caa")},m(e,f){p(e,t,f),d(t,n),d(n,r),d(n,i),d(t,s),d(t,a),d(t,o),d(t,l),d(l,c),d(l,u),p(e,h,f),p(e,v,f),d(v,w),d(w,y),d(w,E),d(v,$),d(v,x),d(v,T),d(v,R),d(R,P),d(R,S),p(e,C,f),p(e,A,f),d(A,D),d(D,F),d(D,q),d(A,L),d(A,z),d(A,M),d(A,O),d(O,N),d(O,I),p(e,B,f),p(e,U,f),d(U,j),d(j,X),d(j,V),d(U,H),d(U,Z),d(U,W),d(U,G),d(G,Y),d(G,Q),p(e,K,f),p(e,J,f),d(J,ee),d(ee,te),d(ee,ne),d(J,re),d(J,ie),d(J,se),d(J,ae),d(ae,oe),d(ae,le),p(e,ce,f),p(e,ue,f),d(ue,de),d(de,pe),d(de,fe),d(ue,he),d(ue,me),d(ue,ve),d(ue,ge),d(ge,_e),d(ge,we),p(e,ye,f),p(e,be,f),d(be,ke),d(ke,Ee),d(ke,$e),d(be,xe),d(be,Te),d(be,Re),d(be,Pe),d(Pe,Se),d(Pe,Ce),p(e,Ae,f),p(e,De,f),d(De,Fe),d(Fe,qe),d(Fe,Le),d(De,ze),d(De,Me),d(De,Oe),d(De,Ne),d(Ne,Ie),d(Ne,Be),p(e,Ue,f),p(e,je,f),d(je,Xe),d(Xe,Ve),d(Xe,He),d(je,Ze),d(je,We),d(je,Ge),d(je,Ye),d(Ye,Qe),d(Ye,Ke),p(e,Je,f),p(e,et,f),d(et,tt),d(tt,nt),d(tt,rt),d(et,it),d(et,st),d(et,at),d(et,ot),d(ot,lt),d(ot,ct)},p(e,t){8&t&&ut!==(ut=e[3]("dB")+"")&&k(i,ut),8&t&&dt!==(dt=e[3]("Hz")+"")&&k(u,dt),8&t&&pt!==(pt=e[3]("dB")+"")&&k(E,pt),8&t&&ft!==(ft=e[3]("Hz")+"")&&k(S,ft),8&t&&ht!==(ht=e[3]("dB")+"")&&k(q,ht),8&t&&mt!==(mt=e[3]("Hz")+"")&&k(I,mt),8&t&&vt!==(vt=e[3]("dB")+"")&&k(V,vt),8&t&&gt!==(gt=e[3]("Hz")+"")&&k(Q,gt),8&t&&_t!==(_t=e[3]("dB")+"")&&k(ne,_t),8&t&&wt!==(wt=e[3]("Hz")+"")&&k(le,wt),8&t&&yt!==(yt=e[3]("dB")+"")&&k(fe,yt),8&t&&bt!==(bt=e[3]("Hz")+"")&&k(we,bt),8&t&&kt!==(kt=e[3]("dB")+"")&&k($e,kt),8&t&&Et!==(Et=e[3]("Hz")+"")&&k(Ce,Et),8&t&&$t!==($t=e[3]("dB")+"")&&k(Le,$t),8&t&&xt!==(xt=e[3]("Hz")+"")&&k(Be,xt),8&t&&Tt!==(Tt=e[3]("dB")+"")&&k(He,Tt),8&t&&Rt!==(Rt=e[3]("Hz")+"")&&k(Ke,Rt),8&t&&Pt!==(Pt=e[3]("dB")+"")&&k(rt,Pt),8&t&&St!==(St=e[3]("Hz")+"")&&k(ct,St)},d(e){e&&f(t),e&&f(h),e&&f(v),e&&f(C),e&&f(A),e&&f(B),e&&f(U),e&&f(K),e&&f(J),e&&f(ce),e&&f(ue),e&&f(ye),e&&f(be),e&&f(Ae),e&&f(De),e&&f(Ue),e&&f(je),e&&f(Je),e&&f(et)}}}function bl(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y,E,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,W,G,Y,Q,K,J,ee,te,ne,re,ie,se,ae,oe,le,ce,ue,de,pe,fe,he,me,ve,ge,_e,we,ye,be,ke,Ee,$e,xe,Te,Re,Pe,Se,Ce,Ae,De,Fe,qe,Le,ze,Me,Oe,Ne,Ie,Be,Ue,je,Xe,Ve,He,Ze,We,Ge,Ye,Qe,Ke,Je,et,tt,nt,rt,it,st,at,ot,lt,ct,ut,dt,pt,ft,ht,mt,vt,gt,_t,wt,yt,bt,kt,Et,$t,xt,Tt,Rt,Pt,St,Ct,At,Dt,Ft,qt,Lt,zt,Mt,Ot,Nt,It,Bt,Ut,jt,Xt,Vt,Ht,Zt,Wt,Gt,Yt,Qt,Kt,Jt,en,tn,nn,rn,sn,an,on,ln,cn,un,dn,pn,fn,hn,mn,vn,gn,_n,wn,yn,bn,kn,En,$n,xn,Tn,Rn,Pn,Sn,Cn,An,Dn,Fn,qn,Ln,zn,Mn,On,Nn,In,Bn,Un,jn,Xn,Vn,Hn,Zn,Wn,Gn,Yn,Qn,Kn,Jn,er,tr,nr,rr,ir,sr,ar,or,lr,cr,ur,dr,pr,fr=e[3]("dB")+"",hr=e[3]("Hz")+"",mr=e[3]("dB")+"",vr=e[3]("Hz")+"",gr=e[3]("dB")+"",_r=e[3]("Hz")+"",wr=e[3]("dB")+"",yr=e[3]("Hz")+"",br=e[3]("dB")+"",kr=e[3]("Hz")+"",Er=e[3]("dB")+"",$r=e[3]("Hz")+"",xr=e[3]("dB")+"",Tr=e[3]("Hz")+"",Rr=e[3]("dB")+"",Pr=e[3]("Hz")+"",Sr=e[3]("dB")+"",Cr=e[3]("Hz")+"",Ar=e[3]("dB")+"",Dr=e[3]("Hz")+"",Fr=e[3]("dB")+"",qr=e[3]("kHz")+"",Lr=e[3]("dB")+"",zr=e[3]("kHz")+"",Mr=e[3]("dB")+"",Or=e[3]("kHz")+"",Nr=e[3]("dB")+"",Ir=e[3]("kHz")+"",Br=e[3]("dB")+"",Ur=e[3]("kHz")+"",jr=e[3]("dB")+"",Xr=e[3]("kHz")+"",Vr=e[3]("dB")+"",Hr=e[3]("kHz")+"",Zr=e[3]("dB")+"",Wr=e[3]("kHz")+"",Gr=e[3]("dB")+"",Yr=e[3]("kHz")+"",Qr=e[3]("dB")+"",Kr=e[3]("kHz")+"";return{c(){t=m("div"),n=m("span"),r=g("0 "),i=g(fr),s=_(),a=m("input"),o=_(),l=m("span"),c=g("< 31"),u=g(hr),h=_(),v=m("div"),w=m("span"),y=g("0 "),E=g(mr),$=_(),x=m("input"),T=_(),R=m("span"),P=g("44"),S=g(vr),C=_(),A=m("div"),D=m("span"),F=g("0 "),q=g(gr),L=_(),z=m("input"),M=_(),O=m("span"),N=g("63"),I=g(_r),B=_(),U=m("div"),j=m("span"),X=g("0 "),V=g(wr),H=_(),Z=m("input"),W=_(),G=m("span"),Y=g("88"),Q=g(yr),K=_(),J=m("div"),ee=m("span"),te=g("0 "),ne=g(br),re=_(),ie=m("input"),se=_(),ae=m("span"),oe=g("125"),le=g(kr),ce=_(),ue=m("div"),de=m("span"),pe=g("0 "),fe=g(Er),he=_(),me=m("input"),ve=_(),ge=m("span"),_e=g("180"),we=g($r),ye=_(),be=m("div"),ke=m("span"),Ee=g("0 "),$e=g(xr),xe=_(),Te=m("input"),Re=_(),Pe=m("span"),Se=g("250"),Ce=g(Tr),Ae=_(),De=m("div"),Fe=m("span"),qe=g("0 "),Le=g(Rr),ze=_(),Me=m("input"),Oe=_(),Ne=m("span"),Ie=g("335"),Be=g(Pr),Ue=_(),je=m("div"),Xe=m("span"),Ve=g("0 "),He=g(Sr),Ze=_(),We=m("input"),Ge=_(),Ye=m("span"),Qe=g("500"),Ke=g(Cr),Je=_(),et=m("div"),tt=m("span"),nt=g("0 "),rt=g(Ar),it=_(),st=m("input"),at=_(),ot=m("span"),lt=g("710"),ct=g(Dr),ut=_(),dt=m("div"),pt=m("span"),ft=g("0 "),ht=g(Fr),mt=_(),vt=m("input"),gt=_(),_t=m("span"),wt=g("1"),yt=g(qr),bt=_(),kt=m("div"),Et=m("span"),$t=g("0 "),xt=g(Lr),Tt=_(),Rt=m("input"),Pt=_(),St=m("span"),Ct=g("1.4"),At=g(zr),Dt=_(),Ft=m("div"),qt=m("span"),Lt=g("0 "),zt=g(Mr),Mt=_(),Ot=m("input"),Nt=_(),It=m("span"),Bt=g("2"),Ut=g(Or),jt=_(),Xt=m("div"),Vt=m("span"),Ht=g("0 "),Zt=g(Nr),Wt=_(),Gt=m("input"),Yt=_(),Qt=m("span"),Kt=g("2.8"),Jt=g(Ir),en=_(),tn=m("div"),nn=m("span"),rn=g("0 "),sn=g(Br),an=_(),on=m("input"),ln=_(),cn=m("span"),un=g("4"),dn=g(Ur),pn=_(),fn=m("div"),hn=m("span"),mn=g("0 "),vn=g(jr),gn=_(),_n=m("input"),wn=_(),yn=m("span"),bn=g("5.6"),kn=g(Xr),En=_(),$n=m("div"),xn=m("span"),Tn=g("0 "),Rn=g(Vr),Pn=_(),Sn=m("input"),Cn=_(),An=m("span"),Dn=g("8"),Fn=g(Hr),qn=_(),Ln=m("div"),zn=m("span"),Mn=g("0 "),On=g(Zr),Nn=_(),In=m("input"),Bn=_(),Un=m("span"),jn=g("11.3"),Xn=g(Wr),Vn=_(),Hn=m("div"),Zn=m("span"),Wn=g("0 "),Gn=g(Gr),Yn=_(),Qn=m("input"),Kn=_(),Jn=m("span"),er=g("16"),tr=g(Yr),nr=_(),rr=m("div"),ir=m("span"),sr=g("0 "),ar=g(Qr),or=_(),lr=m("input"),cr=_(),ur=m("span"),dr=g("> 22"),pr=g(Kr),b(n,"class","pk_val svelte-te7caa"),b(a,"class","pk_vert svelte-te7caa"),b(a,"data-freq","31"),b(a,"data-type","lowshelf"),b(a,"type","range"),b(a,"min","-25.0"),b(a,"max","25.0"),b(a,"step","0.01"),a.value="0.0",b(l,"class","pk_btm svelte-te7caa"),b(t,"class","pk_col svelte-te7caa"),b(w,"class","pk_val svelte-te7caa"),b(x,"class","pk_vert svelte-te7caa"),b(x,"data-freq","44"),b(x,"data-type","peaking"),b(x,"type","range"),b(x,"min","-25.0"),b(x,"max","25.0"),b(x,"step","0.01"),x.value="0.0",b(R,"class","pk_btm svelte-te7caa"),b(v,"class","pk_col svelte-te7caa"),b(D,"class","pk_val svelte-te7caa"),b(z,"class","pk_vert svelte-te7caa"),b(z,"data-freq","63"),b(z,"data-type","peaking"),b(z,"type","range"),b(z,"min","-25.0"),b(z,"max","25.0"),b(z,"step","0.01"),z.value="0.0",b(O,"class","pk_btm svelte-te7caa"),b(A,"class","pk_col svelte-te7caa"),b(j,"class","pk_val svelte-te7caa"),b(Z,"class","pk_vert svelte-te7caa"),b(Z,"data-freq","88"),b(Z,"data-type","peaking"),b(Z,"type","range"),b(Z,"min","-25.0"),b(Z,"max","25.0"),b(Z,"step","0.01"),Z.value="0.0",b(G,"class","pk_btm svelte-te7caa"),b(U,"class","pk_col svelte-te7caa"),b(ee,"class","pk_val svelte-te7caa"),b(ie,"class","pk_vert svelte-te7caa"),b(ie,"data-freq","125"),b(ie,"data-type","peaking"),b(ie,"type","range"),b(ie,"min","-25.0"),b(ie,"max","25.0"),b(ie,"step","0.01"),ie.value="0.0",b(ae,"class","pk_btm svelte-te7caa"),b(J,"class","pk_col svelte-te7caa"),b(de,"class","pk_val svelte-te7caa"),b(me,"class","pk_vert svelte-te7caa"),b(me,"data-freq","180"),b(me,"data-type","peaking"),b(me,"type","range"),b(me,"min","-25.0"),b(me,"max","25.0"),b(me,"step","0.01"),me.value="0.0",b(ge,"class","pk_btm svelte-te7caa"),b(ue,"class","pk_col svelte-te7caa"),b(ke,"class","pk_val svelte-te7caa"),b(Te,"class","pk_vert svelte-te7caa"),b(Te,"data-freq","250"),b(Te,"data-type","peaking"),b(Te,"type","range"),b(Te,"min","-25.0"),b(Te,"max","25.0"),b(Te,"step","0.01"),Te.value="0.0",b(Pe,"class","pk_btm svelte-te7caa"),b(be,"class","pk_col svelte-te7caa"),b(Fe,"class","pk_val svelte-te7caa"),b(Me,"class","pk_vert svelte-te7caa"),b(Me,"data-freq","335"),b(Me,"data-type","peaking"),b(Me,"type","range"),b(Me,"min","-25.0"),b(Me,"max","25.0"),b(Me,"step","0.01"),Me.value="0.0",b(Ne,"class","pk_btm svelte-te7caa"),b(De,"class","pk_col svelte-te7caa"),b(Xe,"class","pk_val svelte-te7caa"),b(We,"class","pk_vert svelte-te7caa"),b(We,"data-freq","500"),b(We,"data-type","peaking"),b(We,"type","range"),b(We,"min","-25.0"),b(We,"max","25.0"),b(We,"step","0.01"),We.value="0.0",b(Ye,"class","pk_btm svelte-te7caa"),b(je,"class","pk_col svelte-te7caa"),b(tt,"class","pk_val svelte-te7caa"),b(st,"class","pk_vert svelte-te7caa"),b(st,"data-freq","710"),b(st,"data-type","peaking"),b(st,"type","range"),b(st,"min","-25.0"),b(st,"max","25.0"),b(st,"step","0.01"),st.value="0.0",b(ot,"class","pk_btm svelte-te7caa"),b(et,"class","pk_col svelte-te7caa"),b(pt,"class","pk_val svelte-te7caa"),b(vt,"class","pk_vert svelte-te7caa"),b(vt,"data-freq","1000"),b(vt,"data-type","peaking"),b(vt,"type","range"),b(vt,"min","-25.0"),b(vt,"max","25.0"),b(vt,"step","0.01"),vt.value="0.0",b(_t,"class","pk_btm svelte-te7caa"),b(dt,"class","pk_col svelte-te7caa"),b(Et,"class","pk_val svelte-te7caa"),b(Rt,"class","pk_vert svelte-te7caa"),b(Rt,"data-freq","1400"),b(Rt,"data-type","peaking"),b(Rt,"type","range"),b(Rt,"min","-25.0"),b(Rt,"max","25.0"),b(Rt,"step","0.01"),Rt.value="0.0",b(St,"class","pk_btm svelte-te7caa"),b(kt,"class","pk_col svelte-te7caa"),b(qt,"class","pk_val svelte-te7caa"),b(Ot,"class","pk_vert svelte-te7caa"),b(Ot,"data-freq","2000"),b(Ot,"data-type","peaking"),b(Ot,"type","range"),b(Ot,"min","-25.0"),b(Ot,"max","25.0"),b(Ot,"step","0.01"),Ot.value="0.0",b(It,"class","pk_btm svelte-te7caa"),b(Ft,"class","pk_col svelte-te7caa"),b(Vt,"class","pk_val svelte-te7caa"),b(Gt,"class","pk_vert svelte-te7caa"),b(Gt,"data-freq","2800"),b(Gt,"data-type","peaking"),b(Gt,"type","range"),b(Gt,"min","-25.0"),b(Gt,"max","25.0"),b(Gt,"step","0.01"),Gt.value="0.0",b(Qt,"class","pk_btm svelte-te7caa"),b(Xt,"class","pk_col svelte-te7caa"),b(nn,"class","pk_val svelte-te7caa"),b(on,"class","pk_vert svelte-te7caa"),b(on,"data-freq","4000"),b(on,"data-type","peaking"),b(on,"type","range"),b(on,"min","-25.0"),b(on,"max","25.0"),b(on,"step","0.01"),on.value="0.0",b(cn,"class","pk_btm svelte-te7caa"),b(tn,"class","pk_col svelte-te7caa"),b(hn,"class","pk_val svelte-te7caa"),b(_n,"class","pk_vert svelte-te7caa"),b(_n,"data-freq","5600"),b(_n,"data-type","peaking"),b(_n,"type","range"),b(_n,"min","-25.0"),b(_n,"max","25.0"),b(_n,"step","0.01"),_n.value="0.0",b(yn,"class","pk_btm svelte-te7caa"),b(fn,"class","pk_col svelte-te7caa"),b(xn,"class","pk_val svelte-te7caa"),b(Sn,"class","pk_vert svelte-te7caa"),b(Sn,"data-freq","8000"),b(Sn,"data-type","peaking"),b(Sn,"type","range"),b(Sn,"min","-25.0"),b(Sn,"max","25.0"),b(Sn,"step","0.01"),Sn.value="0.0",b(An,"class","pk_btm svelte-te7caa"),b($n,"class","pk_col svelte-te7caa"),b(zn,"class","pk_val svelte-te7caa"),b(In,"class","pk_vert svelte-te7caa"),b(In,"data-freq","11300"),b(In,"data-type","peaking"),b(In,"type","range"),b(In,"min","-25.0"),b(In,"max","25.0"),b(In,"step","0.01"),In.value="0.0",b(Un,"class","pk_btm svelte-te7caa"),b(Ln,"class","pk_col svelte-te7caa"),b(Zn,"class","pk_val svelte-te7caa"),b(Qn,"class","pk_vert svelte-te7caa"),b(Qn,"data-freq","16000"),b(Qn,"data-type","peaking"),b(Qn,"type","range"),b(Qn,"min","-25.0"),b(Qn,"max","25.0"),b(Qn,"step","0.01"),Qn.value="0.0",b(Jn,"class","pk_btm svelte-te7caa"),b(Hn,"class","pk_col svelte-te7caa"),b(ir,"class","pk_val svelte-te7caa"),b(lr,"class","pk_vert svelte-te7caa"),b(lr,"data-freq","22000"),b(lr,"data-type","highshelf"),b(lr,"type","range"),b(lr,"min","-25.0"),b(lr,"max","25.0"),b(lr,"step","0.01"),lr.value="0.0",b(ur,"class","pk_btm svelte-te7caa"),b(rr,"class","pk_col svelte-te7caa")},m(e,f){p(e,t,f),d(t,n),d(n,r),d(n,i),d(t,s),d(t,a),d(t,o),d(t,l),d(l,c),d(l,u),p(e,h,f),p(e,v,f),d(v,w),d(w,y),d(w,E),d(v,$),d(v,x),d(v,T),d(v,R),d(R,P),d(R,S),p(e,C,f),p(e,A,f),d(A,D),d(D,F),d(D,q),d(A,L),d(A,z),d(A,M),d(A,O),d(O,N),d(O,I),p(e,B,f),p(e,U,f),d(U,j),d(j,X),d(j,V),d(U,H),d(U,Z),d(U,W),d(U,G),d(G,Y),d(G,Q),p(e,K,f),p(e,J,f),d(J,ee),d(ee,te),d(ee,ne),d(J,re),d(J,ie),d(J,se),d(J,ae),d(ae,oe),d(ae,le),p(e,ce,f),p(e,ue,f),d(ue,de),d(de,pe),d(de,fe),d(ue,he),d(ue,me),d(ue,ve),d(ue,ge),d(ge,_e),d(ge,we),p(e,ye,f),p(e,be,f),d(be,ke),d(ke,Ee),d(ke,$e),d(be,xe),d(be,Te),d(be,Re),d(be,Pe),d(Pe,Se),d(Pe,Ce),p(e,Ae,f),p(e,De,f),d(De,Fe),d(Fe,qe),d(Fe,Le),d(De,ze),d(De,Me),d(De,Oe),d(De,Ne),d(Ne,Ie),d(Ne,Be),p(e,Ue,f),p(e,je,f),d(je,Xe),d(Xe,Ve),d(Xe,He),d(je,Ze),d(je,We),d(je,Ge),d(je,Ye),d(Ye,Qe),d(Ye,Ke),p(e,Je,f),p(e,et,f),d(et,tt),d(tt,nt),d(tt,rt),d(et,it),d(et,st),d(et,at),d(et,ot),d(ot,lt),d(ot,ct),p(e,ut,f),p(e,dt,f),d(dt,pt),d(pt,ft),d(pt,ht),d(dt,mt),d(dt,vt),d(dt,gt),d(dt,_t),d(_t,wt),d(_t,yt),p(e,bt,f),p(e,kt,f),d(kt,Et),d(Et,$t),d(Et,xt),d(kt,Tt),d(kt,Rt),d(kt,Pt),d(kt,St),d(St,Ct),d(St,At),p(e,Dt,f),p(e,Ft,f),d(Ft,qt),d(qt,Lt),d(qt,zt),d(Ft,Mt),d(Ft,Ot),d(Ft,Nt),d(Ft,It),d(It,Bt),d(It,Ut),p(e,jt,f),p(e,Xt,f),d(Xt,Vt),d(Vt,Ht),d(Vt,Zt),d(Xt,Wt),d(Xt,Gt),d(Xt,Yt),d(Xt,Qt),d(Qt,Kt),d(Qt,Jt),p(e,en,f),p(e,tn,f),d(tn,nn),d(nn,rn),d(nn,sn),d(tn,an),d(tn,on),d(tn,ln),d(tn,cn),d(cn,un),d(cn,dn),p(e,pn,f),p(e,fn,f),d(fn,hn),d(hn,mn),d(hn,vn),d(fn,gn),d(fn,_n),d(fn,wn),d(fn,yn),d(yn,bn),d(yn,kn),p(e,En,f),p(e,$n,f),d($n,xn),d(xn,Tn),d(xn,Rn),d($n,Pn),d($n,Sn),d($n,Cn),d($n,An),d(An,Dn),d(An,Fn),p(e,qn,f),p(e,Ln,f),d(Ln,zn),d(zn,Mn),d(zn,On),d(Ln,Nn),d(Ln,In),d(Ln,Bn),d(Ln,Un),d(Un,jn),d(Un,Xn),p(e,Vn,f),p(e,Hn,f),d(Hn,Zn),d(Zn,Wn),d(Zn,Gn),d(Hn,Yn),d(Hn,Qn),d(Hn,Kn),d(Hn,Jn),d(Jn,er),d(Jn,tr),p(e,nr,f),p(e,rr,f),d(rr,ir),d(ir,sr),d(ir,ar),d(rr,or),d(rr,lr),d(rr,cr),d(rr,ur),d(ur,dr),d(ur,pr)},p(e,t){8&t&&fr!==(fr=e[3]("dB")+"")&&k(i,fr),8&t&&hr!==(hr=e[3]("Hz")+"")&&k(u,hr),8&t&&mr!==(mr=e[3]("dB")+"")&&k(E,mr),8&t&&vr!==(vr=e[3]("Hz")+"")&&k(S,vr),8&t&&gr!==(gr=e[3]("dB")+"")&&k(q,gr),8&t&&_r!==(_r=e[3]("Hz")+"")&&k(I,_r),8&t&&wr!==(wr=e[3]("dB")+"")&&k(V,wr),8&t&&yr!==(yr=e[3]("Hz")+"")&&k(Q,yr),8&t&&br!==(br=e[3]("dB")+"")&&k(ne,br),8&t&&kr!==(kr=e[3]("Hz")+"")&&k(le,kr),8&t&&Er!==(Er=e[3]("dB")+"")&&k(fe,Er),8&t&&$r!==($r=e[3]("Hz")+"")&&k(we,$r),8&t&&xr!==(xr=e[3]("dB")+"")&&k($e,xr),8&t&&Tr!==(Tr=e[3]("Hz")+"")&&k(Ce,Tr),8&t&&Rr!==(Rr=e[3]("dB")+"")&&k(Le,Rr),8&t&&Pr!==(Pr=e[3]("Hz")+"")&&k(Be,Pr),8&t&&Sr!==(Sr=e[3]("dB")+"")&&k(He,Sr),8&t&&Cr!==(Cr=e[3]("Hz")+"")&&k(Ke,Cr),8&t&&Ar!==(Ar=e[3]("dB")+"")&&k(rt,Ar),8&t&&Dr!==(Dr=e[3]("Hz")+"")&&k(ct,Dr),8&t&&Fr!==(Fr=e[3]("dB")+"")&&k(ht,Fr),8&t&&qr!==(qr=e[3]("kHz")+"")&&k(yt,qr),8&t&&Lr!==(Lr=e[3]("dB")+"")&&k(xt,Lr),8&t&&zr!==(zr=e[3]("kHz")+"")&&k(At,zr),8&t&&Mr!==(Mr=e[3]("dB")+"")&&k(zt,Mr),8&t&&Or!==(Or=e[3]("kHz")+"")&&k(Ut,Or),8&t&&Nr!==(Nr=e[3]("dB")+"")&&k(Zt,Nr),8&t&&Ir!==(Ir=e[3]("kHz")+"")&&k(Jt,Ir),8&t&&Br!==(Br=e[3]("dB")+"")&&k(sn,Br),8&t&&Ur!==(Ur=e[3]("kHz")+"")&&k(dn,Ur),8&t&&jr!==(jr=e[3]("dB")+"")&&k(vn,jr),8&t&&Xr!==(Xr=e[3]("kHz")+"")&&k(kn,Xr),8&t&&Vr!==(Vr=e[3]("dB")+"")&&k(Rn,Vr),8&t&&Hr!==(Hr=e[3]("kHz")+"")&&k(Fn,Hr),8&t&&Zr!==(Zr=e[3]("dB")+"")&&k(On,Zr),8&t&&Wr!==(Wr=e[3]("kHz")+"")&&k(Xn,Wr),8&t&&Gr!==(Gr=e[3]("dB")+"")&&k(Gn,Gr),8&t&&Yr!==(Yr=e[3]("kHz")+"")&&k(tr,Yr),8&t&&Qr!==(Qr=e[3]("dB")+"")&&k(ar,Qr),8&t&&Kr!==(Kr=e[3]("kHz")+"")&&k(pr,Kr)},d(e){e&&f(t),e&&f(h),e&&f(v),e&&f(C),e&&f(A),e&&f(B),e&&f(U),e&&f(K),e&&f(J),e&&f(ce),e&&f(ue),e&&f(ye),e&&f(be),e&&f(Ae),e&&f(De),e&&f(Ue),e&&f(je),e&&f(Je),e&&f(et),e&&f(ut),e&&f(dt),e&&f(bt),e&&f(kt),e&&f(Dt),e&&f(Ft),e&&f(jt),e&&f(Xt),e&&f(en),e&&f(tn),e&&f(pn),e&&f(fn),e&&f(En),e&&f($n),e&&f(qn),e&&f(Ln),e&&f(Vn),e&&f(Hn),e&&f(nr),e&&f(rr)}}}function kl(e){let t,n,r,i;function s(e,t){return 20===e[1]?bl:yl}let a=s(e),o=a(e);return{c(){t=m("div"),n=m("div"),o.c(),r=_(),i=m("div"),E(i,"clear","both"),b(n,"class","pk_h200 svelte-te7caa"),b(t,"class","svelte-te7caa"),x(t,"pk_dens",20===e[1])},m(s,a){p(s,t,a),d(t,n),o.m(n,null),d(n,r),d(n,i),e[5](t)},p(e,i){a===(a=s(e))&&o?o.p(e,i):(o.d(1),o=a(e),o&&(o.c(),o.m(n,r))),2&i&&x(t,"pk_dens",20===e[1])},d(n){n&&f(t),o.d(),e[5](null)}}}function El(e){let t,n;return t=new jo({props:{config:e[4],hide:e[0],$$slots:{default:[kl]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),2062&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const $l="modalfx";function xl(e,t,n){let r;o(e,Cr,(e=>n(3,r=e)));let i,{hide:s}=t,{num_of_bands:a}=t,l="graph_eq";const c=e=>{let t={};{t=[];const n=e.length;for(let r=0;r<n;++r){const n=e[r];t.push({type:n.getAttribute("data-type"),freq:n.getAttribute("data-freq")/1,val:n.value/1,q:d})}}return t};let u=[{name:"Reset",val:"0,0,0,0,0,0,0,0,0,0"},{name:"Old Radio",val:"-25,-22,-20,-18,-9,0,8,10,-8,-25"},{name:"Lo Fi",val:"-18,-12,0,2,0,4,4,-1,-6,-8"}],d=4.6;20===a&&(l+="_2",u=null,d=10.2);const p={id:l,title:r("graphic_eq"),custom_pres:Yo.Get(l),ondestroy:()=>{je.on=!1,We.removeLast("esc")},preview:()=>{const e=i.getElementsByTagName("input");e.length,ue.fireEvent("RequestActionFX_PREVIEW_PARAMEQ",c(e))},buttons:[{title:r("apply",{values:{s:"EQ"}}),clss:"pk_modal_a_accpt",callback:()=>{const e=i.getElementsByTagName("input");ue.fireEvent("RequestActionFX_PARAMEQ",c(e)),s()}}],presets:u};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByTagName("input"),t=e.length;for(let n=0;n<t;++n){e[n].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=`${this.value>>0} ${r("dB")}`,ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",c(e))}}ue.fireEvent("RequestPause"),je.checkAndSet($l),We.add("esc",(()=>{je.check($l)&&s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide),"num_of_bands"in e&&n(1,a=e.num_of_bands)},[s,a,i,r,p,function(e){F[e?"unshift":"push"]((()=>{i=e,n(2,i)}))}]}class Tl extends re{constructor(e){super(),ne(this,e,xl,El,s,{hide:0,num_of_bands:1})}}function Rl(e){let t,n;return t=new Tl({props:{hide:e[0],num_of_bands:10}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Pl(e,t,n){let{hide:r}=t;return e.$$set=e=>{"hide"in e&&n(0,r=e.hide)},[r]}class Sl extends re{constructor(e){super(),ne(this,e,Pl,Rl,s,{hide:0})}}function Cl(e){let t,n;return t=new Tl({props:{hide:e[0],num_of_bands:20}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Al(e,t,n){let{hide:r}=t;return e.$$set=e=>{"hide"in e&&n(0,r=e.hide)},[r]}class Dl extends re{constructor(e){super(),ne(this,e,Al,Cl,s,{hide:0})}}function Fl(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><input type="checkbox" class="pk_check" id="xighs" name="normEqually"/> \n            <label for="xighs">Hard Limiting</label></div> \n\n        <div class="pk_row"><label>Limit to</label> \n            <input type="range" min="0.1" max="1.0" class="pk_horiz pk_w180 svelte-wm4snn" step="0.01" value="0.99"/> \n            <span class="pk_val">99%</span></div> \n\n        <div class="pk_row"><label>Ratio between lows and highs</label> \n            <input type="range" min="0.0" max="1.0" class="pk_horiz pk_w180 svelte-wm4snn" step="0.01" value="0.0"/> \n            <span class="pk_val">Ratio 0%</span></div> \n\n        <div class="pk_row"><label>Look Ahead (ms)</label> \n            <input type="range" min="1.0" max="500.0" class="pk_horiz pk_w180 svelte-wm4snn" step="0.01" value="10.0"/> \n            <span class="pk_val">10 ms</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function ql(e){let t,n;return t=new jo({props:{config:e[2],hide:e[0],$$slots:{default:[Fl]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ll(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a={title:r("hard_limiter"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:"Hard Limiting",clss:"pk_modal_a_accpt",callback:()=>{ue.fireEvent("RequestActionFX_HardLimit",a.updateFilter()),s()}}],preview:()=>{ue.fireEvent("RequestActionFX_PREVIEW_HardLimit",a.updateFilter())},updateFilter:()=>{const e=[i.getElementsByClassName("pk_check")[0].checked],t=i.getElementsByClassName("pk_horiz");for(let n=0;n<t.length;++n){const r=t[n];e.push(r.value/1)}return e}};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByClassName("pk_horiz");e[0].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value/1*100>>0)+"%",ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",a.updateFilter())},e[1].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML="Ratio "+(this.value/1*100>>0)+"%",ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",a.updateFilter())},e[2].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=this.value/1+"ms",ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",a.updateFilter())},ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,a,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class zl extends re{constructor(e){super(),ne(this,e,Ll,ql,s,{hide:0})}}function Ml(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><input type="checkbox" id="vhcjgs" class="pk_check" name="normEqually"/> \n            <label for="vhcjgs">Normalize L/R Equally</label></div> \n        <div class="pk_row" style="border:none"><label>Normalize to</label> \n            <input type="range" min="0.0" max="2.0" class="pk_horiz" step="0.01" value="1.0"/> \n            <span class="pk_val">100%</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function Ol(e){let t,n;return t=new No({props:{config:e[2],hide:e[0],$$slots:{default:[Ml]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Nl(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a={title:r("normalize"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=i.getElementsByClassName("pk_horiz")[0].value/1,t=i.getElementsByClassName("pk_check")[0].checked;ue.fireEvent("RequestActionFX_Normalize",[t,e]),s()}}]};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByClassName("pk_horiz")[0],t=i.getElementsByClassName("pk_val")[0];e.oninput=()=>{t.innerHTML=(e.value/1*100>>0)+"%"},ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,a,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Il extends re{constructor(e){super(),ne(this,e,Nl,Ol,s,{hide:0})}}const Bl=(e,t)=>"peaking"===e.type&&"peaking"!==t.type?-1:"peaking"===t.type&&"peaking"!==e.type?1:0,Ul=e=>e*e*e*e*e,jl=e=>e*e*e*e,Xl=1e3,Vl=20,Hl=e=>{const t=[];for(let e=0;e<Xl;++e)t[e]=0;e._arr=t;const n=2/e.q*2e4,r=n/Vl>>0;if("peaking"!==e.type)if("highpass"!==e.type)if("lowpass"!==e.type);else{const i=e.freq+n,s=e.freq/Vl>>0,a=i/Vl>>0;for(let e=a;e<Xl;++e)t[e]=-35;let o=0;for(let e=s;e<a;++e)++o,t[e]-=35*jl(o/r)}else{const i=(e.freq-n)/Vl>>0,s=e.freq/Vl>>0;for(let e=0;e<i;++e)t[e]=-35;let a=r;for(let e=i;e<s;++e)--a,t[e]-=35*jl(a/r)}else{const i=e.freq-n/2,s=(e.freq+n/2)/Vl>>0;let a=0;for(let n=i/Vl>>0;n<s;++n){n*Vl<e.freq?(++a,t[n]+=Ul(a/(r/2))*e.gain):(--a,t[n]+=Ul(a/(r/2))*e.gain)}}},Zl="#d9d955",Wl=1e3,Gl=new Array(1e3);let Yl=null;const Ql=(e,t,n,r,i)=>{let s=!1;for(const t in r)if(n[t]!==r[t])if(s=!0,n[t],n[t]=r[t],"_on"===t){document.getElementById("pgon"+n.id).checked=n[t]}else if("freq"===t){n.el.getElementsByClassName("pk_freq")[0].value=n[t]}else if("gain"===t){n.el.getElementsByClassName("pk_gain")[0].value=n[t]}else if("q"===t){n.el.getElementsByClassName("pk_q")[0].value=n[t]}else if("type"===t){const r=n.el.getElementsByTagName("select")[0];"peaking"===n[t]?r.options[0].selected=!0:"lowpass"===n[t]?r.options[1].selected=!0:"highpass"===n[t]&&(r.options[2].selected=!0),Hl(n),e.ranges.sort(Bl)}if(s){if(i){const e=t.canvas_eq.width,r=t.canvas_eq.height;n.freq<=5e3?n._coords.x=parseFloat((n.freq/5e3*(e/2)).toFixed(1)):n._coords.x=parseFloat((e/2+(n.freq-5e3)/15e3*(e/2)).toFixed(1)),"peaking"===n.type?n._coords.y=parseFloat(((1-(n.gain+35)/70)*r).toFixed(1)):n._coords.y=parseFloat((r/2).toFixed(1))}Yl&&clearTimeout(Yl),Yl=setTimeout((()=>{e.Callback(),Yl=null}),38),e.Render()}},Kl=e=>{if(!e)return;const t=[],n=e.ranges;for(let e=0;e<n.length;++e){const r=n[e];r._on&&t.push({type:r.type,freq:r.freq,val:r.gain,q:r.q})}return t};function Jl(t){let n,i,s,a,o,l,c;return{c(){n=m("div"),i=m("select"),s=m("option"),s.textContent="peaking",a=m("option"),a.textContent="lowpass",o=m("option"),o.textContent="highpass",s.__value="peaking",s.value=s.__value,a.__value="lowpass",a.value=a.__value,o.__value="highpass",o.value=o.__value,b(i,"class","svelte-fyec2f"),void 0===t[0]&&O((()=>t[5].call(i))),b(n,"data-name","el_type")},m(e,r){p(e,n,r),d(n,i),d(i,s),d(i,a),d(i,o),$(i,t[0]),l||(c=[y(i,"change",t[5]),y(i,"change",t[1])],l=!0)},p(e,[t]){1&t&&$(i,e[0])},i:e,o:e,d(e){e&&f(n),l=!1,r(c)}}}function ec(e,t,n){let{q:r}=t,{ui:i}=t,{range:s}=t,{rangeType:a}=t;return e.$$set=e=>{"q"in e&&n(2,r=e.q),"ui"in e&&n(3,i=e.ui),"range"in e&&n(4,s=e.range),"rangeType"in e&&n(0,a=e.rangeType)},[a,()=>{Ql(r,i,s,{type:a},1)},r,i,s,function(){a=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(0,a)}]}class tc extends re{constructor(e){super(),ne(this,e,ec,Jl,s,{q:2,ui:3,range:4,rangeType:0})}}function nc(e){let t,n,r,i,s,a,o;return{c(){t=m("div"),n=m("div"),r=_(),i=m("input"),b(n,"class","pk_arr"),b(i,"type","range"),b(i,"min","-35"),b(i,"max","35"),b(i,"class","pk_horiz pk_gain"),b(i,"step","0.1"),i.value=s=e[0].gain,b(t,"data-name","bar"),b(t,"class","pk_pgeq_freq pk_gain")},m(s,l){p(s,t,l),d(t,n),d(t,r),d(t,i),e[11](i),a||(o=y(i,"input",e[6]),a=!0)},p(e,t){1&t&&s!==(s=e[0].gain)&&(i.value=s)},d(n){n&&f(t),e[11](null),a=!1,o()}}}function rc(t){let n,i,s,a,o,l,c=t[2]&&nc(t);return{c(){n=m("div"),i=m("input"),a=_(),c&&c.c(),b(i,"type","number"),i.value=s=t[0].gain,b(i,"class","pk_val pk_gain"),b(i,"min","-35"),b(i,"max","35"),b(n,"data-name","el_gain")},m(e,r){p(e,n,r),d(n,i),t[10](i),d(n,a),c&&c.m(n,null),o||(l=[y(i,"change",t[4]),y(i,"focus",t[5])],o=!0)},p(e,[t]){1&t&&s!==(s=e[0].gain)&&(i.value=s),e[2]?c?c.p(e,t):(c=nc(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&f(n),t[10](null),c&&c.d(),o=!1,r(l)}}}function ic(e,t,n){let r,i,{q:s}=t,{ui:a}=t,{range:o}=t,{wrapper:l}=t,c=!1;const u=()=>{r.value||n(1,r.value="0",r),c&&n(3,i.value=r.value,i),Ql(s,a,o,{gain:r.value/1},1),Hl(o)};return e.$$set=e=>{"q"in e&&n(7,s=e.q),"ui"in e&&n(8,a=e.ui),"range"in e&&n(0,o=e.range),"wrapper"in e&&n(9,l=e.wrapper)},[o,r,c,i,u,()=>{if(c)return;n(2,c=!0);const e=t=>{if(!t.target.classList.contains("pk_gain")||t.target.type===r.type&&t.target!==r)return n(2,c=!1),void l.removeEventListener("mousedown",e)};l.addEventListener("mousedown",e,!1)},e=>{r.value!=e.currentTarget.value&&(n(1,r.value=e.currentTarget.value,r),u())},s,a,l,function(e){F[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class sc extends re{constructor(e){super(),ne(this,e,ic,rc,s,{q:7,ui:8,range:0,wrapper:9})}}function ac(e){let t,n,r,i,s,a,o;return{c(){t=m("div"),n=m("div"),r=_(),i=m("input"),b(n,"class","pk_arr"),b(i,"type","range"),b(i,"min","16"),b(i,"max","20000"),b(i,"class","pk_horiz pk_freq"),b(i,"step","1"),i.value=s=e[0].freq,b(t,"data-name","bar"),b(t,"class","pk_pgeq_freq pk_freq")},m(s,l){p(s,t,l),d(t,n),d(t,r),d(t,i),e[11](i),a||(o=y(i,"input",e[6]),a=!0)},p(e,t){1&t&&s!==(s=e[0].freq)&&(i.value=s)},d(n){n&&f(t),e[11](null),a=!1,o()}}}function oc(t){let n,i,s,a,o,l,c=t[2]&&ac(t);return{c(){n=m("div"),i=m("input"),a=_(),c&&c.c(),b(i,"type","number"),i.value=s=t[0].freq,b(i,"class","pk_val pk_freq"),b(i,"min","16"),b(i,"max","20000"),b(n,"data-name","el_freq")},m(e,r){p(e,n,r),d(n,i),t[10](i),d(n,a),c&&c.m(n,null),o||(l=[y(i,"change",t[4]),y(i,"focus",t[5])],o=!0)},p(e,[t]){1&t&&s!==(s=e[0].freq)&&(i.value=s),e[2]?c?c.p(e,t):(c=ac(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&f(n),t[10](null),c&&c.d(),o=!1,r(l)}}}function lc(e,t,n){let r,i,{q:s}=t,{ui:a}=t,{range:o}=t,{wrapper:l}=t,c=!1;const u=()=>{r.value||n(1,r.value="500",r),c&&n(3,i.value=r.value,i),Ql(s,a,o,{freq:r.value/1},1),Hl(o)};return e.$$set=e=>{"q"in e&&n(7,s=e.q),"ui"in e&&n(8,a=e.ui),"range"in e&&n(0,o=e.range),"wrapper"in e&&n(9,l=e.wrapper)},[o,r,c,i,u,()=>{if(c)return;n(2,c=!0);const e=t=>{(!t.target.classList.contains("pk_freq")||t.target.type===r.type&&t.target!==r)&&(n(2,c=!1),l.removeEventListener("mousedown",e))};l.addEventListener("mousedown",e,!1)},e=>{r.value!=e.currentTarget.value&&(n(1,r.value=e.currentTarget.value,r),u())},s,a,l,function(e){F[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class cc extends re{constructor(e){super(),ne(this,e,lc,oc,s,{q:7,ui:8,range:0,wrapper:9})}}function uc(e){let t,n,r,i,s,a,o;return{c(){t=m("div"),n=m("div"),r=_(),i=m("input"),b(n,"class","pk_arr"),b(i,"type","range"),b(i,"min","1"),b(i,"max","50"),b(i,"class","pk_horiz pk_q"),b(i,"step","0.1"),i.value=s=e[0].q,b(t,"data-name","bar"),b(t,"class","pk_pgeq_freq pk_q")},m(s,l){p(s,t,l),d(t,n),d(t,r),d(t,i),e[11](i),a||(o=y(i,"input",e[6]),a=!0)},p(e,t){1&t&&s!==(s=e[0].q)&&(i.value=s)},d(n){n&&f(t),e[11](null),a=!1,o()}}}function dc(t){let n,i,s,a,o,l,c=t[2]&&uc(t);return{c(){n=m("div"),i=m("input"),a=_(),c&&c.c(),b(i,"type","number"),i.value=s=t[0].q,b(i,"class","pk_val pk_q"),b(i,"min","1"),b(i,"max","50"),b(n,"data-name","el_q")},m(e,r){p(e,n,r),d(n,i),t[10](i),d(n,a),c&&c.m(n,null),o||(l=[y(i,"change",t[4]),y(i,"focus",t[5])],o=!0)},p(e,[t]){1&t&&s!==(s=e[0].q)&&(i.value=s),e[2]?c?c.p(e,t):(c=uc(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&f(n),t[10](null),c&&c.d(),o=!1,r(l)}}}function pc(e,t,n){let r,i,{q:s}=t,{ui:a}=t,{range:o}=t,{wrapper:l}=t,c=!1;const u=()=>{r.value||n(1,r.value="1",r),c&&n(3,i.value=r.value,i),Ql(s,a,o,{q:r.value/1},1),Hl(o)};return e.$$set=e=>{"q"in e&&n(7,s=e.q),"ui"in e&&n(8,a=e.ui),"range"in e&&n(0,o=e.range),"wrapper"in e&&n(9,l=e.wrapper)},[o,r,c,i,u,()=>{if(c)return;n(2,c=!0);const e=t=>{(!t.target.classList.contains("pk_q")||t.target.type===r.type&&t.target!==r)&&(n(2,c=!1),l.removeEventListener("mousedown",e))};l.addEventListener("mousedown",e,!1)},e=>{r.value!=e.currentTarget.value&&(n(1,r.value=e.currentTarget.value,r),u())},s,a,l,function(e){F[e?"unshift":"push"]((()=>{r=e,n(1,r)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(3,i)}))}]}class fc extends re{constructor(e){super(),ne(this,e,pc,dc,s,{q:7,ui:8,range:0,wrapper:9})}}function hc(e){let t,n,i,s,a,o,l,c,u,h,v,w,E,$,T,R,P,S,C,A,D,q,L,z,M,O,I,B,U=e[0].id+"",j=e[0]._on?"ON":"OFF";function X(t){e[12](t)}let V={q:e[2],ui:e[3],range:e[0]};return void 0!==e[5]&&(V.rangeType=e[5]),E=new tc({props:V}),F.push((()=>Q(E,"rangeType",X))),R=new sc({props:{q:e[2],ui:e[3],range:e[0],wrapper:e[4]}}),S=new cc({props:{q:e[2],ui:e[3],range:e[0],wrapper:e[4]}}),A=new fc({props:{q:e[2],ui:e[3],range:e[0],wrapper:e[4]}}),z=new xi({props:{name:"delete"}}),{c(){t=m("div"),n=m("div"),i=m("i"),s=g(U),a=_(),o=m("input"),c=_(),u=m("label"),h=g(j),w=_(),K(E.$$.fragment),T=_(),K(R.$$.fragment),P=_(),K(S.$$.fragment),C=_(),K(A.$$.fragment),D=_(),q=m("div"),L=m("a"),K(z.$$.fragment),b(i,"class","svelte-doa6yf"),b(o,"type","checkbox"),b(o,"id",l="pgon"+e[0].id),b(o,"class","pk_check svelte-doa6yf"),b(o,"name","onoff"),b(u,"for",v="pgon"+e[0].id),b(u,"class","svelte-doa6yf"),b(n,"data-name","el_num"),b(n,"class","pk_txlft svelte-doa6yf"),b(L,"href","#del"),b(L,"class","svelte-doa6yf"),b(q,"data-name","el_del"),b(q,"class","pk_del svelte-doa6yf"),b(t,"data-id",M=e[0].id),b(t,"class","pk_pgeq_els svelte-doa6yf"),x(t,"pk_act",e[0]===e[1]),x(t,"pk_dis","peaking"!==e[5])},m(r,l){p(r,t,l),d(t,n),d(n,i),d(i,s),d(n,a),d(n,o),o.checked=e[0]._on,d(n,c),d(n,u),d(u,h),d(t,w),J(E,t,null),d(t,T),J(R,t,null),d(t,P),J(S,t,null),d(t,C),J(A,t,null),d(t,D),d(t,q),d(q,L),J(z,L,null),e[13](t),O=!0,I||(B=[y(o,"change",e[9]),y(o,"change",e[11]),y(q,"click",e[10]),y(t,"click",e[7]),y(t,"mouseover",e[8])],I=!0)},p(e,[n]){(!O||1&n)&&U!==(U=e[0].id+"")&&k(s,U),(!O||1&n&&l!==(l="pgon"+e[0].id))&&b(o,"id",l),1&n&&(o.checked=e[0]._on),(!O||1&n)&&j!==(j=e[0]._on?"ON":"OFF")&&k(h,j),(!O||1&n&&v!==(v="pgon"+e[0].id))&&b(u,"for",v);const r={};4&n&&(r.q=e[2]),8&n&&(r.ui=e[3]),1&n&&(r.range=e[0]),!$&&32&n&&($=!0,r.rangeType=e[5],N((()=>$=!1))),E.$set(r);const i={};4&n&&(i.q=e[2]),8&n&&(i.ui=e[3]),1&n&&(i.range=e[0]),16&n&&(i.wrapper=e[4]),R.$set(i);const a={};4&n&&(a.q=e[2]),8&n&&(a.ui=e[3]),1&n&&(a.range=e[0]),16&n&&(a.wrapper=e[4]),S.$set(a);const c={};4&n&&(c.q=e[2]),8&n&&(c.ui=e[3]),1&n&&(c.range=e[0]),16&n&&(c.wrapper=e[4]),A.$set(c),(!O||1&n&&M!==(M=e[0].id))&&b(t,"data-id",M),3&n&&x(t,"pk_act",e[0]===e[1]),32&n&&x(t,"pk_dis","peaking"!==e[5])},i(e){O||(W(E.$$.fragment,e),W(R.$$.fragment,e),W(S.$$.fragment,e),W(A.$$.fragment,e),W(z.$$.fragment,e),O=!0)},o(e){G(E.$$.fragment,e),G(R.$$.fragment,e),G(S.$$.fragment,e),G(A.$$.fragment,e),G(z.$$.fragment,e),O=!1},d(n){n&&f(t),ee(E),ee(R),ee(S),ee(A),ee(z),e[13](null),I=!1,r(B)}}}function mc(e,t,n){let{q:r}=t,{range:i}=t,{ui:s}=t,{wrapper:a}=t,{activeRange:o=null}=t,l=i.type;let c;C((()=>{n(0,i.el=c,i)}));return e.$$set=e=>{"q"in e&&n(2,r=e.q),"range"in e&&n(0,i=e.range),"ui"in e&&n(3,s=e.ui),"wrapper"in e&&n(4,a=e.wrapper),"activeRange"in e&&n(1,o=e.activeRange)},[i,o,r,s,a,l,c,()=>{i!==o&&(n(1,o=i),r.Render())},()=>{i._hov||(n(0,i._hov=!0,i),r.Render())},e=>{const t=e.currentTarget;Ql(r,s,i,{_on:!!t.checked})},e=>{e.preventDefault(),r.Remove(i)},function(){i._on=this.checked,n(0,i)},function(e){l=e,n(5,l)},function(e){F[e?"unshift":"push"]((()=>{c=e,n(6,c)}))}]}class vc extends re{constructor(e){super(),ne(this,e,mc,hc,s,{q:2,range:0,ui:3,wrapper:4,activeRange:1})}}function gc(e,t,n){const r=e.slice();return r[19]=t[n],r}function _c(e,t){let n,r,i,s;function a(e){t[9](e)}let o={range:t[19],q:t[5],ui:t[1],wrapper:t[2]};return void 0!==t[4]&&(o.activeRange=t[4]),r=new vc({props:o}),F.push((()=>Q(r,"activeRange",a))),{key:e,first:null,c(){n=w(),K(r.$$.fragment),this.first=n},m(e,t){p(e,n,t),J(r,e,t),s=!0},p(e,n){t=e;const s={};8&n&&(s.range=t[19]),32&n&&(s.q=t[5]),2&n&&(s.ui=t[1]),4&n&&(s.wrapper=t[2]),!i&&16&n&&(i=!0,s.activeRange=t[4],N((()=>i=!1))),r.$set(s)},i(e){s||(W(r.$$.fragment,e),s=!0)},o(e){G(r.$$.fragment,e),s=!1},d(e){e&&f(n),ee(r,e)}}}function wc(e){let t,n,r,i,s,a,o,l,c,u,h,v,g,w,y=[],k=new Map,E=[...e[3]].sort(Ec);const $=e=>e[19].id;for(let t=0;t<E.length;t+=1){let n=gc(e,E,t),r=$(n);k.set(r,y[t]=_c(r,n))}return{c(){t=m("div"),n=m("div"),r=m("canvas"),i=_(),s=m("canvas"),a=_(),o=m("div"),o.innerHTML='<span class="svelte-qzkr9z">32</span> \n                <span style="position:absolute;left:3.5%" class="svelte-qzkr9z">500<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:9%" class="svelte-qzkr9z">1k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:19%" class="svelte-qzkr9z">2k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:38%" class="svelte-qzkr9z">4k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:50%" class="svelte-qzkr9z">5k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:59%" class="svelte-qzkr9z">8k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:72%" class="svelte-qzkr9z">12k<span class="svelte-qzkr9z"></span></span> \n                <span style="position:absolute;left:85%" class="svelte-qzkr9z">16k<span class="svelte-qzkr9z"></span></span> \n                <span style="float:right" class="svelte-qzkr9z">20k</span>',l=_(),c=m("div"),c.innerHTML='<span style="top:0" class="svelte-qzkr9z">35</span> \n                <span style="top:10%" class="svelte-qzkr9z">28<span class="svelte-qzkr9z"></span></span> \n                <span style="top:20%" class="svelte-qzkr9z">21<span class="svelte-qzkr9z"></span></span> \n                <span style="top:30%" class="svelte-qzkr9z">14<span class="svelte-qzkr9z"></span></span> \n                <span style="top:40%" class="svelte-qzkr9z">7<span class="svelte-qzkr9z"></span></span> \n                <span class="svelte-qzkr9z">0<span class="svelte-qzkr9z"></span></span> \n                <span style="top:60%" class="svelte-qzkr9z">-7<span class="svelte-qzkr9z"></span></span> \n                <span style="top:70%" class="svelte-qzkr9z">-14<span class="svelte-qzkr9z"></span></span> \n                <span style="top:80%" class="svelte-qzkr9z">-21<span class="svelte-qzkr9z"></span></span> \n                <span style="top:90%" class="svelte-qzkr9z">-28<span class="svelte-qzkr9z"></span></span> \n                <span style="top:100%" class="svelte-qzkr9z">-35</span>',u=_(),h=m("div"),v=m("div"),v.innerHTML='<span class="pk_txlft svelte-qzkr9z">#</span> \n                <span class="svelte-qzkr9z">type</span> \n                <span class="svelte-qzkr9z">gain</span> \n                <span class="svelte-qzkr9z">freq</span> \n                <span class="svelte-qzkr9z">Q</span>',g=_();for(let e=0;e<y.length;e+=1)y[e].c();b(r,"data-name","canvas_bars"),b(r,"class","pk_peq2 svelte-qzkr9z"),b(r,"width",225),b(r,"height",112),b(s,"data-name","canvas_eq"),b(s,"class","pk_peq svelte-qzkr9z"),b(s,"width","450"),b(s,"height","225"),b(o,"data-name","marker_freqs"),b(o,"class","pk_peq3 pk_noselect svelte-qzkr9z"),b(c,"data-name","marker_dbs"),b(c,"class","pk_peq4 pk_noselect svelte-qzkr9z"),b(n,"data-name","el_drawer"),b(n,"class","pk_row"),b(v,"class","pk_pgeq_els svelte-qzkr9z"),b(h,"data-name","el_list"),b(h,"class","pk_row pk_noselect pk_pglst svelte-qzkr9z")},m(f,m){p(f,t,m),d(t,n),d(n,r),e[7](r),d(n,i),d(n,s),e[8](s),d(n,a),d(n,o),d(n,l),d(n,c),d(t,u),d(t,h),d(h,v),d(h,g);for(let e=0;e<y.length;e+=1)y[e].m(h,null);e[10](h),e[11](t),w=!0},p(e,t){62&t&&(E=[...e[3]].sort(Ec),H(),y=function(e,t,n,r,i,s,a,o,l,c,u,d){let p=e.length,f=s.length,h=p;const m={};for(;h--;)m[e[h].key]=h;const v=[],g=new Map,_=new Map;for(h=f;h--;){const e=d(i,s,h),o=n(e);let l=a.get(o);l?r&&l.p(e,t):(l=c(o,e),l.c()),g.set(o,v[h]=l),o in m&&_.set(o,Math.abs(h-m[o]))}const w=new Set,y=new Set;function b(e){W(e,1),e.m(o,u),a.set(e.key,e),u=e.first,f--}for(;p&&f;){const t=v[f-1],n=e[p-1],r=t.key,i=n.key;t===n?(u=t.first,p--,f--):g.has(i)?!a.has(r)||w.has(r)?b(t):y.has(i)?p--:_.get(r)>_.get(i)?(y.add(r),b(t)):(w.add(i),p--):(l(n,a),p--)}for(;p--;){const t=e[p];g.has(t.key)||l(t,a)}for(;f;)b(v[f-1]);return v}(y,t,$,1,e,E,k,h,Y,_c,null,gc),Z())},i(e){if(!w){for(let e=0;e<E.length;e+=1)W(y[e]);w=!0}},o(e){for(let e=0;e<y.length;e+=1)G(y[e]);w=!1},d(n){n&&f(t),e[7](null),e[8](null);for(let e=0;e<y.length;e+=1)y[e].d();e[10](null),e[11](null)}}}function yc(e){let t,n;return t=new jo({props:{config:e[6],hide:e[0],$$slots:{default:[wc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),4194366&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const bc="modalfx",kc="paragraphic_eq",Ec=(e,t)=>e.id-t.id;function $c(e,t,n){let r;o(e,Cr,(e=>n(16,r=e)));let{hide:i}=t;const s={canvas_bars:null,canvas_eq:null,el_list:null,ctx_bars:null,ctx_eq:null};let a,l=0,c=!1,u=[],d=null;let p=new class{constructor(){this._anim_render=()=>{f=!1,((e,t)=>{const n=t.canvas_eq.width,r=t.canvas_eq.height,i=r/2;if(t.ctx_eq.clearRect(0,0,n,r),t.ctx_eq.fillStyle=Zl,0===e.ranges.length)return t.ctx_eq.beginPath(),t.ctx_eq.moveTo(0,i),t.ctx_eq.lineTo(n,i),void t.ctx_eq.stroke();let s=!0;const a=[];for(let e=0;e<Wl;++e)a[e]=0;for(let t=0;t<e.ranges.length;++t){const n=e.ranges[t];if(n._on)if(s){s=!1;for(let e=0;e<Wl;++e)Gl[e]=n._arr[e]}else for(let e=0;e<Wl;++e)Gl[e]+=n._arr[e]}if(s)t.ctx_eq.beginPath(),t.ctx_eq.moveTo(0,i),t.ctx_eq.lineTo(n,i),t.ctx_eq.stroke();else{t.ctx_eq.beginPath(),t.ctx_eq.moveTo(0,i-Gl[0]*(i/35));for(let e=0;e<250;e+=1){const r=Gl[e],s=2*e*(n/Wl),a=i-r*(i/35);t.ctx_eq.lineTo(s,a)}let e=0;for(let r=250;r<Wl;r+=3){const s=Gl[r];e+=2;const a=(500+e)*(n/Wl),o=i-s*(i/35);t.ctx_eq.lineTo(a,o)}t.ctx_eq.stroke()}for(let n=0;n<e.ranges.length;++n){const r=e.ranges[n],i=r._coords.x,s=r._coords.y;t.ctx_eq.beginPath(),t.ctx_eq.arc(i,s,6,0,2*Math.PI,!1),r===e.act?(t.ctx_eq.shadowBlur=24,r._on?t.ctx_eq.fillStyle="#fff":t.ctx_eq.fillStyle="#686868",t.ctx_eq.stroke(),t.ctx_eq.fill(),t.ctx_eq.shadowBlur=0,t.ctx_eq.fillStyle=Zl):r._hov?(r._on?t.ctx_eq.fillStyle="blue":t.ctx_eq.fillStyle="darkblue",t.ctx_eq.stroke(),t.ctx_eq.fill(),t.ctx_eq.fillStyle=Zl):r._on?t.ctx_eq.fill():(t.ctx_eq.fillStyle="#555",t.ctx_eq.fill(),t.ctx_eq.fillStyle=Zl)}})(this,s)}}get act(){return d}set act(e){n(4,d=e)}get ranges(){return u}Callback(){}Add(e,t,r,i,s,a,o){const c={id:++l,type:e||"peaking",freq:r||0,gain:i||0,q:s||5,_on:t,_hov:!1,_el:null,_coords:{x:a||0,y:o||0},_arr:[],el:void 0};n(3,u=[...u,c].sort(Bl)),n(4,d=c),Hl(c),this.Callback&&this.Callback(),this.Render()}Remove(e){let t=u.length;for(;t-- >0;)if(u[t]===e){u.splice(t,1),n(3,u=[...u]);break}d&&d===e&&n(4,d=null),this.Render()}Render(){f||(f=!0,requestAnimationFrame(this._anim_render))}RenderBars(e,t){c||(c=!0,requestAnimationFrame((()=>{c=!1,((e,t)=>{if(!t)return;const n=e.canvas_bars.width,r=e.canvas_bars.height;e.ctx_bars.clearRect(0,0,n,r);const i=parseFloat((n/234).toFixed(1));let s=0,a=0;for(let n=0;n<117;++n){s=t[n];const o=s/256*r>>0;e.ctx_bars.fillRect(a,r-o,i,o),a+=i}for(let n=0;n<117;++n){s=t[117+(3.34*n>>0)];const o=s/256*r>>0;e.ctx_bars.fillRect(a,r-o,i,o),a+=i}})(s,t)})))}},f=!1;const h=(e,t)=>{p.RenderBars(e,t)},m={id:kc,title:r("paragraphic_eq"),ondestroy:()=>{ue.stopListeningFor("DidAudioProcess",h),je.on=!1,We.removeLast("esc"),n(5,p=null)},preview:()=>{ue.fireEvent("RequestActionFX_PREVIEW_PARAMEQ",Kl(p))},presets:[{name:"Old Telephone",val:"1,highpass,0,5800,5.8,1,lowpass,0,7060,5"}],custom_pres:Yo.Get(kc),onpreset:e=>{let t=u.length;for(;t-- >0;)p.Remove(u[t]);const n=s.canvas_eq.width,r=s.canvas_eq.height,i=e.split(","),a=i.length/5>>0;for(let e=0;e<a;++e){const t=[],s=5*e;t[0]=!!(i[s]/1),t[1]=i[s+1],t[2]=i[s+2]/1,t[3]=i[s+3]/1,t[4]=i[s+4]/1;let a=0,o=0;a=t[3]<5e3?t[3]/5e3*(n/2):parseFloat((n/2+(t[3]-5e3)/15e3*(n/2)).toFixed(1)),o="peaking"===t[1]?parseFloat(((1-(t[2]/1+35)/70)*r).toFixed(1)):parseFloat((r/2).toFixed(1)),p.Add(t[1],!!t[0],t[3]/1,t[2]/1,t[4]/1,a,o)}},buttons:[{title:r("apply",{values:{s:"EQ"}}),clss:"pk_modal_a_accpt",callback:()=>{ue.fireEvent("RequestActionFX_PARAMEQ",Kl(p)),i()}}]};return C((()=>{ue.fireEvent("RequestSelect",1),(e=>{e.ctx_bars=e.canvas_bars.getContext("2d",{alpha:!0,antialias:!1}),e.ctx_eq=e.canvas_eq.getContext("2d",{alpha:!0,antialias:!1}),e.ctx_bars.fillStyle="#365457",e.ctx_eq.strokeStyle="#FF0000",e.ctx_eq.shadowColor="#FF2222",e.ctx_eq.shadowBlur=0})(s),((e,t)=>{let n=0,r=!1;const i=n=>{if(!r||!e.act)return;let i=0,s=0;if(n.touches){if(n.touches.length>1)return;i=n.touches[0].clientX,s=n.touches[0].clientY}else i=n.clientX,s=n.clientY;const a=t.canvas_eq.getBoundingClientRect(),o=t.canvas_eq.width,l=t.canvas_eq.height,c=i-a.left,u=s-a.top,d=c/o,p=u/l;e.act._coords.x=c,e.act._coords.y=u;let f=0;f=d<=.5?2*d*5e3>>0:5e3+(2*(d-.5)*15e3>>0);const h=parseFloat((-2*(p-.5)*35).toFixed(2));Ql(e,t,e.act,{freq:f,gain:h}),Hl(e.act)},s=e=>{r=!1,t.canvas_eq.removeEventListener("mousemove",i),t.canvas_eq.removeEventListener("mouseup",s),t.canvas_eq.removeEventListener("touchmove",i),t.canvas_eq.removeEventListener("touchup",s)},a=function(n){const a=!!e.act;if(0===e.ranges.length)return void(a&&e.Render());const o=t.canvas_eq.getBoundingClientRect(),l=n.clientX-o.left,c=n.clientY-o.top,u=n.is_touch?20:10,d=n.is_touch?20:9;for(let a=0;a<e.ranges.length;++a){const o=e.ranges[a];if(Math.abs(o._coords.x-l)<u&&Math.abs(o._coords.y-c)<d)return e.act=o,r=!0,e.Render(),void(n.is_touch?(n.ev.preventDefault(),n.ev.stopPropagation(),t.canvas_eq.addEventListener("touchmove",i,!1),t.canvas_eq.addEventListener("touchup",s,!1)):(t.canvas_eq.addEventListener("mousemove",i,!1),t.canvas_eq.addEventListener("mouseup",s,!1)))}a&&(e.act=null,e.Render())};t.canvas_eq.addEventListener("mousedown",a,!1),t.canvas_eq.addEventListener("touchstart",(function(e){if(e.touches.length>1)return e.preventDefault(),void e.stopPropagation();const t={clientX:e.touches[0].clientX,clientY:e.touches[0].clientY,is_touch:!0,ev:e};a(t)})),t.canvas_eq.addEventListener("click",(r=>{if(r.timeStamp-n<260){const n=t.canvas_eq.getBoundingClientRect(),i=t.canvas_eq.width,s=t.canvas_eq.height,a=r.clientX-n.left,o=r.clientY-n.top,l=a/i;let c=0;c=l<=.5?2*l*5e3>>0:5e3+(2*(l-.5)*15e3>>0);const u=parseFloat((-2*(o/s-.5)*35).toFixed(2)),d=5,p="peaking";e.Add(p,!0,c,u,d,a,o)}n=r.timeStamp}),!1)})(p,s),p.Render(),n(5,p.Callback=()=>{ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",Kl(p))},p),ue.listenFor("DidAudioProcess",h),ue.fireEvent("RequestPause"),je.checkAndSet(bc),We.add("esc",(()=>{je.check(bc)&&i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide)},[i,s,a,u,d,p,m,function(e){F[e?"unshift":"push"]((()=>{s.canvas_bars=e,n(1,s)}))},function(e){F[e?"unshift":"push"]((()=>{s.canvas_eq=e,n(1,s)}))},function(e){d=e,n(4,d)},function(e){F[e?"unshift":"push"]((()=>{s.el_list=e,n(1,s)}))},function(e){F[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class xc extends re{constructor(e){super(),ne(this,e,$c,yc,s,{hide:0})}}function Tc(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="pk_row"><label>Time</label> \n            <input class="pk_horiz" type="range" min="0.0" max="3.0" step="0.01" value="0.3"/> \n            <span class="pk_val">0.3</span></div> \n\n        <div class="pk_row"><label>Decay</label> \n            <input class="pk_horiz" type="range" min="0.0" max="3.0" step="0.01" value="0.05"/> \n            <span class="pk_val">0.05</span></div> \n\n        <div class="pk_row"><label>Wet</label> \n            <input class="pk_horiz" type="range" min="0.0" max="1.0" step="0.01" value="0.6"/> \n            <span class="pk_val">0.6</span></div>'},m(e,r){p(e,n,r),t[3](n)},p:e,d(e){e&&f(n),t[3](null)}}}function Rc(e){let t,n;return t=new jo({props:{config:e[2],hide:e[0],$$slots:{default:[Tc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const Pc="modalfx",Sc="reverb";function Cc(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a={id:Sc,title:r("reverb"),big:!0,ondestroy:()=>{je.on=!1,We.removeLast("esc")},presets:[{name:"Classic",val:"0.3,0.4,0.4"},{name:"Spacey",val:"3.0,0.6,0.3"}],custom_pres:Yo.Get(Sc),preview:()=>{const e=i.getElementsByTagName("input"),t={time:e[0].value/1,decay:e[1].value/1,mix:e[2].value/1};ue.fireEvent("RequestActionFX_PREVIEW_REVERB",t)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=i.getElementsByTagName("input"),t={time:e[0].value/1,decay:e[1].value/1,mix:e[2].value/1};ue.fireEvent("RequestActionFX_REVERB",t),s()}}]};return C((()=>{ue.fireEvent("RequestSelect",1);const e=i.getElementsByTagName("input");for(let n=0;n<e.length;++n)e[n].oninput=function(){this.parentNode.getElementsByTagName("span")[0].innerHTML=(this.value/1).toFixed(3),t()};const t=()=>{const e=i.getElementsByTagName("input"),t={time:e[0].value/1,decay:e[1].value/1,mix:e[2].value/1};ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",t)};ue.fireEvent("RequestPause"),je.checkAndSet(Pc),We.add("esc",(()=>{je.check(Pc)&&s()}))})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,a,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Ac extends re{constructor(e){super(),ne(this,e,Cc,Rc,s,{hide:0})}}function Dc(t){let n,r,i,s,a,o;return{c(){n=m("div"),r=m("label"),r.textContent="Playback Rate",i=_(),s=m("input"),a=_(),o=m("span"),o.textContent="1.0",b(s,"type","range"),b(s,"class","pk_horiz"),b(s,"min","0.2"),b(s,"max","2.0"),b(s,"step","0.05"),s.value="1.0",b(o,"class","pk_val"),b(n,"class","pk_row"),E(n,"border","none")},m(e,l){p(e,n,l),d(n,r),d(n,i),d(n,s),t[4](s),d(n,a),d(n,o),t[5](o)},p:e,d(e){e&&f(n),t[4](null),t[5](null)}}}function Fc(e){let t,n;return t=new jo({props:{config:e[3],hide:e[0],$$slots:{default:[Dc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),262&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const qc="modalfx",Lc="speed";function zc(e,t,n){let r;o(e,Cr,(e=>n(7,r=e)));let i,s,{hide:a}=t;const l={id:Lc,title:r("speed"),presets:[{name:"-1/4",val:.25},{name:"-1/2",val:.5},{name:"Slightly slower",val:.85},{name:"Slightly faster%",val:1.1},{name:"+1/4",val:1.25},{name:"+1/2",val:1.5}],custom_pres:Yo.Get(Lc),ondestroy:()=>{je.on=!1,We.removeLast("esc")},preview:()=>{const e=i.value.trim()/1;ue.fireEvent("RequestActionFX_PREVIEW_SPEED",e)},buttons:[{title:r("apply",{values:{s:""}}),clss:"pk_modal_a_accpt",callback:()=>{const e=i.value.trim()/1;1!=e&&ue.fireEvent("RequestActionFX_SPEED",e),a()}}]};return C((()=>{ue.fireEvent("RequestSelect",1),n(1,i.oninput=()=>{n(2,s.innerHTML=i.value,s),ue.fireEvent("RequestActionFX_UPDATE_PREVIEW",i.value/1)},i),ue.fireEvent("RequestPause"),je.checkAndSet(qc),We.add("esc",(()=>{je.check(qc)&&a()}))})),e.$$set=e=>{"hide"in e&&n(0,a=e.hide)},[a,i,s,l,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(2,s)}))}]}class Mc extends re{constructor(e){super(),ne(this,e,zc,Fc,s,{hide:0})}}function Oc(e){let t,n,r;var i=e[0];function s(e){return{props:{hide:e[1]}}}return i&&(t=new i(s(e))),{c(){t&&K(t.$$.fragment),n=w()},m(e,i){t&&J(t,e,i),p(e,n,i),r=!0},p(e,[r]){if(i!==(i=e[0])){if(t){H();const e=t;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}i?(t=new i(s(e)),K(t.$$.fragment),W(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}},i(e){r||(t&&W(t.$$.fragment,e),r=!0)},o(e){t&&G(t.$$.fragment,e),r=!1},d(e){e&&f(n),t&&ee(t,e)}}}function Nc(e,t,n){let r=null;ue.listenFor("RequestActionFXUI_Compressor",(()=>{n(0,r=nl)})),ue.listenFor("RequestActionFXUI_Delay",(()=>{n(0,r=ll)})),ue.listenFor("RequestActionFXUI_Distortion",(()=>{n(0,r=fl)})),ue.listenFor("RequestFXUI_Gain",(()=>{n(0,r=wl)})),ue.listenFor("effect:modal:graphic-eq:10",(()=>{n(0,r=Sl)})),ue.listenFor("effect:modal:graphic-eq:20",(()=>{n(0,r=Dl)})),ue.listenFor("RequestActionFXUI_HardLimiter",(()=>{n(0,r=zl)})),ue.listenFor("RequestActionFXUI_Normalize",(()=>{n(0,r=Il)})),ue.listenFor("RequestActionFXUI_ParaGraphicEQ",(()=>{n(0,r=xc)})),ue.listenFor("RequestActionFXUI_Reverb",(()=>{n(0,r=Ac)})),ue.listenFor("RequestActionFXUI_Speed",(()=>{n(0,r=Mc)}));return[r,()=>{n(0,r=null)}]}class Ic extends re{constructor(e){super(),ne(this,e,Nc,Oc,s,{})}}function Bc(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R,P,S,C,A,D,F;return{c(){n=m("div"),r=m("div"),i=m("input"),s=_(),a=m("label"),a.textContent="Make Mono",o=_(),l=m("div"),c=m("input"),u=_(),h=m("label"),h.textContent="Left Channel",v=_(),g=m("input"),w=_(),y=m("label"),y.textContent="Right Channel",k=_(),$=m("div"),x=m("input"),T=_(),R=m("label"),R.textContent="Flip Channels",P=_(),S=m("div"),C=m("div"),A=m("input"),D=_(),F=m("label"),F.textContent="Make Stereo",b(i,"type","checkbox"),b(i,"class","pk_check pk_c_mm"),b(i,"id","xmm"),b(i,"name","makeMono"),b(a,"for","xmm"),b(r,"class","pk_row"),b(c,"type","radio"),b(c,"class","pk_check pk_c_c"),b(c,"id","kf6"),b(c,"name","chnl"),c.value="left",b(h,"class","pk_dis"),b(h,"for","kf6"),b(g,"type","radio"),b(g,"class","pk_check pk_c_c"),b(g,"id","kf7"),b(g,"name","chnl"),g.value="right",b(y,"class","pk_dis"),b(y,"for","kf7"),b(l,"class","pk_row"),E(l,"padding-left","30px"),b(x,"type","checkbox"),b(x,"class","pk_check pk_c_fl"),b(x,"id","xfc"),b(x,"name","flipChn"),b(R,"for","xfc"),b($,"class","pk_row"),b(n,"class","pk_row pk_mm"),E(n,"border","none"),E(n,"display","none"),b(A,"type","checkbox"),b(A,"class","pk_check pk_c_ms"),b(A,"id","xms"),A.checked=!0,b(A,"name","makeStereo"),b(F,"for","xms"),b(C,"class","pk_row"),b(S,"class","pk_row pk_ms"),E(S,"border","none"),E(S,"display","none")},m(e,f){p(e,n,f),d(n,r),d(r,i),t[9](i),d(r,s),d(r,a),d(n,o),d(n,l),d(l,c),t[10](c),d(l,u),d(l,h),d(l,v),d(l,g),t[11](g),d(l,w),d(l,y),d(n,k),d(n,$),d($,x),t[12](x),d($,T),d($,R),t[13](n),p(e,P,f),p(e,S,f),d(S,C),d(C,A),t[14](A),d(C,D),d(C,F),t[15](S)},p:e,d(e){e&&f(n),t[9](null),t[10](null),t[11](null),t[12](null),t[13](null),e&&f(P),e&&f(S),t[14](null),t[15](null)}}}function Uc(e){let t,n;return t=new jo({props:{config:e[8],hide:e[0],$$slots:{default:[Bc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),524542&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const jc="modalfx";function Xc(e,t,n){let r;o(e,Cr,(e=>n(18,r=e)));let{hide:i}=t;ft.engine.is_ready||i();let s,a,l,c,u,d=0;const p={id:"flip",title:r("channel_modal"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:"Apply Changes",clss:"pk_modal_a_accpt",callback:e=>{1===d?a.checked?c.checked?ue.fireEvent("RequestActionFX_Flip","mono",0):u.checked&&ue.fireEvent("RequestActionFX_Flip","mono",1):l.checked&&ue.fireEvent("RequestActionFX_Flip","flip"):2===d&&s.checked&&ue.fireEvent("RequestActionFX_Flip","stereo"),i()}}]};let f,h;return C((()=>{ue.fireEvent("RequestRegionClear"),ue.fireEvent("RequestSelect",1);let e=null;if(2===ft.engine.wavesurfer.backend.buffer.numberOfChannels){d=1,e=f;const t=e.getElementsByClassName("pk_dis"),r=[t[0],t[1]];n(2,a.onchange=e=>{a.checked?(n(3,l.checked=!1,l),n(4,c.checked=!0,c),r[0].className="",r[1].className=""):(n(4,c.checked=!1,c),n(5,u.checked=!1,u),r[0].className="pk_dis",r[1].className="pk_dis")},a),n(3,l.onchange=e=>{l.checked&&(n(2,a.checked=!1,a),a.onchange())},l)}else d=2,e=h;e.style.display="block",ue.fireEvent("RequestPause"),je.checkAndSet(jc),We.add("esc",(()=>{je.check(jc)&&i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide)},[i,s,a,l,c,u,f,h,p,function(e){F[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(e){F[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},function(e){F[e?"unshift":"push"]((()=>{u=e,n(5,u)}))},function(e){F[e?"unshift":"push"]((()=>{l=e,n(3,l)}))},function(e){F[e?"unshift":"push"]((()=>{f=e,n(6,f)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(1,s)}))},function(e){F[e?"unshift":"push"]((()=>{h=e,n(7,h)}))}]}class Vc extends re{constructor(e){super(),ne(this,e,Xc,Uc,s,{hide:0})}}function Hc(e){let t,n,r,i,s,a=e[3]("preset_name")+"";return{c(){t=m("label"),n=g(a),r=_(),i=m("input"),b(t,"for","k07"),E(i,"min-width","340px"),b(i,"maxlength","16"),b(i,"placeholder",s=e[3]("enter_name")+"..."),b(i,"default_txt",e[1]),b(i,"class","pk_txt mousetrap"),b(i,"type","text"),b(i,"id","k07")},m(s,a){p(s,t,a),d(t,n),p(s,r,a),p(s,i,a),e[6](i)},p(e,t){8&t&&a!==(a=e[3]("preset_name")+"")&&k(n,a),8&t&&s!==(s=e[3]("enter_name")+"...")&&b(i,"placeholder",s),2&t&&b(i,"default_txt",e[1])},d(n){n&&f(t),n&&f(r),n&&f(i),e[6](null)}}}function Zc(e){let t,n;return t=new No({props:{config:e[4],hide:e[0],$$slots:{default:[Hc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),262158&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const Wc="_ctPr";function Gc(e,t,n){let r;o(e,Cr,(e=>n(3,r=e)));let{curr_filter_ui:i}=t,{hide:s}=t;i||s();const a=i.el_body;let l;a||s();let c={},u={};const d=function(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))};let p=!0,f=null;const h=i.el_presets,m=h.options[h.selectedIndex],v=a.querySelectorAll("select, input"),g={target:i.id,name:"My Preset",id:i.id+"_"+(99*Math.random()>>0),date:Date.now(),val:""};m&&m.getAttribute("data-custom")&&(p=!1,f=m.getAttribute("data-custom"));for(let e=0;e<v.length;++e)"checkbox"===v[e].type?g.val+=(v[e].checked?"1":"0")+",":g.val+=v[e].value+",";if(g.val.length>0){g.val=g.val.substring(0,g.val.length-1),l="";let e=null;if(p||(e=Yo.GetSingle(g.target,f),l='value="'+e.name+'"',c={title:"Delete",clss:"pk_modal_a_red",callback:()=>{Le("Successfully deleted preset!",1400);const e=Yo.Del(g.target,f);ue.fireEvent("DidSetPresets",g.target,e),s()}},u={title:"Update",callback(t){if(e){let n=t.el_body.getElementsByTagName("input")[0].value.trim();if(n=d(n),n.length>0){Le("Successfully updated preset!",1400),e.name=n,e.val=g.val,Yo.Save();const t=Yo.Get(g.target);ue.fireEvent("DidSetPresets",g.target,t),s()}else Le("Name is too short...",1200)}}}),i.id,!p){e.name;i.id}}const _={title:r("save_preset"),ondestroy:()=>{je.forceUnset(Wc),We.removeLast("esc"),We.removeLast("enter")},buttons:[{title:p?r("save"):"Save As New",clss:"pk_modal_a_accpt",callback:()=>{let e=w.value.trim();if(e=d(e),e.length>0){Le("Successfully saved preset!",1400),g.name=e;const t=Yo.Set(g.target,g);ue.fireEvent("DidSetPresets",g.target,t),ue.fireEvent("RequestSetPresetActive",g.target,g.id),s()}else Le("Name is too short...",1200)}},u,c]};let w;return C((()=>{je.forceSet(Wc),We.add("esc",(()=>{je.check(Wc)&&s()})),setTimeout((()=>{w.focus(),w.value.length>0&&n(2,w.selectionStart=n(2,w.selectionEnd=w.value.length,w),w)}),20)})),e.$$set=e=>{"curr_filter_ui"in e&&n(5,i=e.curr_filter_ui),"hide"in e&&n(0,s=e.hide)},[s,l,w,r,_,i,function(e){F[e?"unshift":"push"]((()=>{w=e,n(2,w)}))}]}class Yc extends re{constructor(e){super(),ne(this,e,Gc,Zc,s,{curr_filter_ui:5,hide:0})}}function Qc(t){let n,r,i,s,a,o,l,c,u,h,v,w,y,k,E,$,x,T,R;return{c(){n=m("div"),r=m("input"),i=_(),s=m("label"),s.textContent="Insert silence at beginning",a=m("br"),o=_(),l=m("input"),c=_(),u=m("label"),h=g("Insert silence at current cursor ("),v=m("span"),w=g(")"),y=_(),k=m("div"),E=m("label"),E.textContent="Silence in seconds",$=_(),x=m("input"),T=_(),R=m("span"),R.textContent="5s",b(r,"type","radio"),b(r,"class","pk_check"),b(r,"id","ifeq"),b(r,"name","rdslnc"),r.value="beginning",b(s,"for","ifeq"),b(l,"type","radio"),b(l,"class","pk_check"),b(l,"id","vgdja"),b(l,"name","rdslnc"),l.checked=!0,l.value="cursor",b(v,"class","pkcdpk"),b(u,"for","vgdja"),b(n,"class","pk_row"),b(x,"type","range"),b(x,"min","0.0"),b(x,"max","30.0"),b(x,"class","pk_horiz"),b(x,"step","0.01"),x.value="5.0",b(R,"class","pk_val"),b(k,"class","pk_row")},m(e,f){p(e,n,f),d(n,r),d(n,i),d(n,s),d(n,a),d(n,o),d(n,l),t[6](l),d(n,c),d(n,u),d(u,h),d(u,v),t[7](v),d(u,w),p(e,y,f),p(e,k,f),d(k,E),d(k,$),d(k,x),t[8](x),d(k,T),d(k,R),t[9](R)},p:e,d(e){e&&f(n),t[6](null),t[7](null),e&&f(y),e&&f(k),t[8](null),t[9](null)}}}function Kc(e){let t,n;return t=new No({props:{hide:e[0],config:e[5],$$slots:{default:[Qc]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),4126&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Jc(e,t,n){let r;o(e,Cr,(e=>n(11,r=e)));let i,s,a,l,{hide:c}=t;C((()=>{console.log("onMount silence"),n(1,i.innerHTML=ft.engine.wavesurfer.getCurrentTime().toFixed(2)+"s",i),n(2,s.oninput=()=>{n(3,a.innerHTML=(s.value/1).toFixed(2)+"s",a)},s),ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{c()}))}));const u={title:r("insert_silence"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:r("insert_silence"),clss:"pk_modal_a_accpt",callback:()=>{const e=s.value.trim()/1;let t=0;l.checked&&(t=ft.engine.wavesurfer.getCurrentTime().toFixed(3)/1),e>.001&&ue.fireEvent("RequestActionSilence",t,e),c()}}]};return e.$$set=e=>{"hide"in e&&n(0,c=e.hide)},[c,i,s,a,l,u,function(e){F[e?"unshift":"push"]((()=>{l=e,n(4,l)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},function(e){F[e?"unshift":"push"]((()=>{a=e,n(3,a)}))}]}class eu extends re{constructor(e){super(),ne(this,e,Jc,Kc,s,{hide:0})}}function tu(t){let n,r,i;return{c(){n=m("input"),r=_(),i=m("div"),i.textContent="Choose file to view audio metatags!",b(n,"type","file"),b(n,"accept","audio/*"),b(i,"class","pk_row pk_ttx")},m(e,s){p(e,n,s),t[5](n),p(e,r,s),p(e,i,s),t[6](i)},p:e,d(e){e&&f(n),t[5](null),e&&f(r),e&&f(i),t[6](null)}}}function nu(e){let t,n;return t=new No({props:{hide:e[0],config:e[3],$$slots:{default:[tu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),518&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}const ru="_id3";function iu(e,t,n){let r;o(e,Cr,(e=>n(7,r=e)));let{hide:i}=t,{current_tags:s}=t;const a=(e,t)=>{let n='<div style="margin-top:18px">';if(n+='<div><span class="pk_id3ttl">Artist</span><span>'+(t.artist||"-")+"</span></div>",n+='<div><span class="pk_id3ttl">Title</span><span>'+(t.title||"-")+"</span></div>",n+='<div><span class="pk_id3ttl">Album</span><span>'+(t.album||"-")+"</span></div>",n+='<div><span class="pk_id3ttl">Year</span><span>'+(t.year||"-")+"</span></div>",n+='<div><span class="pk_id3ttl">Genre</span><span>'+(t.genre||"-")+"</span></div>",n+='<div style="max-width:700px"><span class="pk_id3ttl">Comment</span><span>'+((t.comment||{}).text||"-")+"</span></div>",n+='<div><span class="pk_id3ttl">Track</span><span>'+(t.track||"-")+"</span></div>",n+='<div style="max-width:700px"><span class="pk_id3ttl">Lyrics</span><span>'+((t.lyrics||{}).lyrics||"-")+"</span></div>","picture"in t){const e=t.picture;let r="";for(let t=0;t<e.data.length;++t)r+=String.fromCharCode(e.data[t]);n+='<div><span style="float:left" class="pk_id3ttl">Cover</span><span><img style="max-width:340px" src="data:'+e.format+";base64,"+window.btoa(r)+'"/></span></div>'}e.innerHTML=n+"</div>"},l={title:r("metadata"),ondestroy:()=>{je.forceUnset(ru),We.removeLast("esc")},buttons:[]};let c,u;return C((()=>{n(1,c.onchange=function(e){const t=new FileReader;t.onload=function(){const e=ft.engine.ID3(this.result);e?a(u,e):n(2,u.innerHTML='<div style="padding:30px 0">No audio metadata found...</div>',u)},t.readAsArrayBuffer(this.files[0])},c),s&&a(u,s),je.forceSet(ru),We.add("esc",(()=>{je.check(ru)&&i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide),"current_tags"in e&&n(4,s=e.current_tags)},[i,c,u,l,s,function(e){F[e?"unshift":"push"]((()=>{c=e,n(1,c)}))},function(e){F[e?"unshift":"push"]((()=>{u=e,n(2,u)}))}]}class su extends re{constructor(e){super(),ne(this,e,iu,nu,s,{hide:0,current_tags:4})}}function au(t){let n;return{c(){n=m("div"),n.innerHTML='<a class="pk_tbsa">Tempo Tap</a> \n        <a class="pk_tbsa">Metronome</a>',b(n,"class","pk_tbs")},m(e,r){p(e,n,r),t[4](n)},p:e,d(e){e&&f(n),t[4](null)}}}function ou(e){let t,n,r;function i(t){e[5](t)}let s={config:e[3],hide:e[0],$$slots:{default:[au]},$$scope:{ctx:e}};return void 0!==e[1]&&(s.el_body=e[1]),t=new jo({props:s}),F.push((()=>Q(t,"el_body",i))),{c(){K(t.$$.fragment)},m(e,n){J(t,e,n),r=!0},p(e,[r]){const i={};1&r&&(i.hide=e[0]),65540&r&&(i.$$scope={dirty:r,ctx:e}),!n&&2&r&&(n=!0,i.el_body=e[1],N((()=>n=!1))),t.$set(i)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){G(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}const lu="modalfx";function cu(e,t,n){let r,{hide:i}=t;ue.fireEvent("RequestSelect",1);let s=0,a=null;const o=function(){const e=this;e.app=ft;let t=120,n=null,r=0,i=60/t*1e3>>0,s=null,a=null,o=null,l=!1,c=.5,u=!0,d=null,p=null,f=null,h=null;e.Init=function(e){const s=this;s.el=e,function(e){const t=document.createElement("div");t.className="pk_row",t.innerHTML='<div class="pk_row"><label>BPM</label><input type="range" min="20" max="300" class="pk_horiz" step="1" value="120" /><span class="pk_val">120</span></div><div class="pk_row"><label>Volume</label><input type="range" min="0.0" max="1.0" class="pk_horiz" step="0.1" value="0.5" /><span class="pk_val">50%</span></div><div class="pk_row"><input type="checkbox" id="xxcjgs" class="pk_check" checked name="metroAccent"><label for="xxcjgs">Accentuate metronome click</label></div><div class="pk_row"><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Metronome</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Track</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Both</a></div>',e.body=t,e.el.appendChild(t)}(s),function(e){const s=e.body.getElementsByClassName("pk_horiz")[0],a=e.body.getElementsByClassName("pk_val")[0],o=e.body.getElementsByClassName("pk_horiz")[1],g=e.body.getElementsByClassName("pk_val")[1],_=e.body.getElementsByClassName("pk_check")[0];s.oninput=function(){t=s.value/1,a.innerHTML=t,i=60/t*1e3>>0},o.oninput=function(){const e=o.value/1;c=e,g.innerHTML=(100*e>>0)+"%"},_.oninput=function(){u=_.checked};const w=e.body.getElementsByClassName("pk_modal_a_bottom")[0],y=e.body.getElementsByClassName("pk_modal_a_bottom")[1],b=e.body.getElementsByClassName("pk_modal_a_bottom")[2];w.onclick=function(){if(n)return clearTimeout(n),n=null,r=0,void ue.fireEvent("DidStopMetro");const e=function(){n=setTimeout((function(){n&&(++r%4==0?m(1):m(0),e())}),i)};r=0,l||v(),ue.fireEvent("DidStartMetro"),m(1),e()},h=()=>{w.classList.remove("pk_act")},f=()=>{w.classList.add("pk_act")},ue.listenFor("DidStartMetro",f),ue.listenFor("DidStopMetro",h),y.onclick=()=>{ft.engine.wavesurfer.isPlaying()?ue.fireEvent("RequestStop"):ue.fireEvent("RequestPlay")},ft.engine.wavesurfer.isReady||(y.className+=" pk_inact",b.className+=" pk_inact");ft.engine.wavesurfer.isPlaying()&&(y.className+=" pk_act");d=()=>{y.classList.remove("pk_act"),y.innerText="Play Track"},p=()=>{y.classList.add("pk_act"),y.innerText="Stop Track"},ue.listenFor("DidStopPlay",d),ue.listenFor("DidPlay",p),b.onclick=()=>{n&&w.onclick(),ft.engine.wavesurfer.isPlaying()&&y.onclick(),setTimeout((function(){n||ft.engine.wavesurfer.isPlaying()||(y.onclick(),setTimeout((function(){w.onclick()}),0))}),66)}}(s)},e.Destroy=function(){if(ue.stopListeningFor("DidStopPlay",d),ue.stopListeningFor("DidPlay",p),ue.stopListeningFor("DidStartMetro",f),ue.stopListeningFor("DidStopMetro",h),d=null,p=null,f=null,h=null,l&&(n&&(clearTimeout(n),n=null),s)){const e=s.currentTime;a.stop(e),o.disconnect(),a.disconnect(),s=null,l=!1}e.body&&(e.body.parentNode.removeChild(e.body),e.body=null),e.app=null};const m=e=>{a.frequency.value=1===e&&u?880:440,o.gain.setValueAtTime(o.gain.value,s.currentTime),o.gain.linearRampToValueAtTime(c,s.currentTime+.01),o.gain.linearRampToValueAtTime(0,s.currentTime+.12)},v=()=>{s=new(window.AudioContext||window.webkitAudioContext),a=s.createOscillator(),o=s.createGain(),o.gain.value=0,a.connect(o),o.connect(s.destination),a.start(0),l=!0}},l=function(){const e=this;e.app=ft;let t=null,n=null,r=null,i=null;e.Init=function(e){const a=this;a.el=e,s(a),function(e){const s=e.body.querySelectorAll("#pk_tmp_tap")[0],a=e.body.querySelectorAll("#pk_tmp_tap3")[0],o=e.body.getElementsByClassName("pk_modal_a_bottom")[0],l=e.body.getElementsByClassName("pk_modal_a_bottom")[1],c=e.body.getElementsByClassName("pk_modal_a_bottom")[2],u=e.body.getElementsByTagName("canvas")[0],d=u.getContext("2d",{alpha:!1,antialias:!1}),p=document.createElement("canvas");p.width=1e3,p.height=200;const f=p.getContext("2d",{alpha:!1,antialias:!1});d.imageSmoothingEnabled=!0,f.imageSmoothingEnabled=!0;const h=e.body.getElementsByClassName("pk_val"),m=s.getElementsByClassName("pk_obj2");a.getElementsByTagName("span")[0];const v=h[0],g=h[1],_=h[2],w=3e3;let y=0,b=0,k=0,E=0,$=0,x=0,T=!0,R=!1;const P=e=>{if(T&&(m[1].style.opacity="0"),E=0,x=0,T=!0,setTimeout((()=>{T&&(m[0].style.opacity="0.5",e||(o.className+=" pk_act",setTimeout((()=>{o.classList.remove("pk_act")}),140)),setTimeout((()=>{T?(m[0].style.opacity="0",m[1].style.opacity="0.5"):(m[0].style.opacity="0",m[1].style.opacity="0")}),e?490:874))}),e?0:150),e){v.value="-",g.value="-",_.value="-";const e=s.parentNode.getElementsByClassName("pk_obj");let t=e.length;for(;t-- >0;)e[t]&&e[t].parentNode.removeChild(e[t])}};o.onclick=()=>{P(!0)},l.onclick=()=>{ft.engine.wavesurfer.isPlaying()?ue.fireEvent("RequestStop"):ue.fireEvent("RequestPlay")},ft.engine.wavesurfer.isReady||(l.className+=" pk_inact",c.className+=" pk_inact");ft.engine.wavesurfer.isPlaying()&&(l.className+=" pk_act");t=()=>{R=!1,l.classList.remove("pk_act"),l.innerText="Play Track"},n=()=>{R=!0,l.classList.add("pk_act"),l.innerText="Stop Track"},ue.listenFor("DidStopPlay",t),ue.listenFor("DidPlay",n);let S=-999999,C=[],A=0;i=function(){const e=ft.engine.wavesurfer,t=e.backend.buffer,n=t.getChannelData(0),r=t.sampleRate,i=e.getCurrentTime(),s=500,a=100,o=a/2*2;let l=s,c=0,h=0,m=0;const v=3,g=i-v/2,_=i+v/2;let w=!1,y=g*r>>0,b=(g+v)*r>>0,k=b-y,E=k/s>>0;if(g<S){if(m=(_-S)/v*s,h=Math.round(m),m=(1e3*m>>0)/1e3,h>=0){if(0===h)return;l=h,y=S*r>>0,b=_*r>>0,k=b-y,E=k/h>>0,C=C.slice(2*h),c=s-h,w=!0}}S=_;let $=0,x=0;for(let e=0;e<l;++e){const t=y+E*e;if($=0,x=0,t>=0)for(let e=0;e<E;e+=3)n[t+e]>$?$=n[t+e]:n[t+e]<x&&(x=n[t+e]);C[2*(e+c)]=$,C[2*(e+c)+1]=x}if(w&&f.drawImage(u,0,0),d.fillStyle="#000",d.fillRect(0,0,2*s,2*a),d.fillStyle="#99c2c6",w){let e=Math.round(2*m);A+=e-2*m,A>1&&(e-=1,A=0),d.translate(-e,0),d.drawImage(p,0,0),d.setTransform(1,0,0,1,0,0),d.beginPath();let t=C[2*(s-h-2)],n=Math.round(t*o);d.moveTo(2*(s-h-2),o-n);for(let e=s-h-1;e<s;++e)t=C[2*e],n=Math.round(t*o),d.lineTo(2*e,o-n);for(let e=s-1;e>=s-h-1;--e){const t=C[2*e+1],n=Math.round(t*o);d.lineTo(2*e,o-n)}d.closePath(),d.fill()}else{d.beginPath(),d.moveTo(0,o);for(let e=0;e<s;++e){const t=C[2*e],n=Math.round(t*o);d.lineTo(2*e,o-n)}for(let e=s-1;e>=0;--e){const t=C[2*e+1],n=Math.round(t*o);d.lineTo(2*e,o-n)}d.closePath(),d.fill()}},ue.listenFor("DidAudioProcess",i),ft.engine.wavesurfer.regions.list[0]&&ft.engine.wavesurfer.regions.list[0].loop&&(c.className+=" pk_act");c.onclick=()=>{ue.fireEvent("RequestSetLoop")},r=e=>{e?c.classList.add("pk_act"):c.classList.remove("pk_act")},ue.listenFor("DidSetLoop",r),s.parentNode.addEventListener("transitionend",(function(e){if(!s)return;const t=e.target;"DIV"===t.tagName&&(t.parentNode.removeChild(t),--x,0===x&&(R?setTimeout((function(){0===x&&P()}),1100):P()))})),a.onclick=function(e){e&&(e.preventDefault(),e.stopPropagation()),T&&(T=!1,m[1].style.opacity="0"),y=Date.now(),y-b>w&&(E=0),0===E?(k=y,E=1,v.value="First Beat",g.value="First Beat",_.value=E):($=6e4*E/(y-k),++E,v.value=Math.round(100*$)/100,g.value=Math.round($),_.value=E);const t=document.createElement("div");t.className="pk_obj",R?u.parentNode.appendChild(t):s.appendChild(t),++x,a.classList.add("pk_act"),requestAnimationFrame((function(){t.style.transform="translate3d(-10%,0,0)",setTimeout((function(){a.classList.remove("pk_act")}),56)})),b=y},We.add("space",(e=>{je.check(lu)&&(e.preventDefault(),e.stopPropagation(),a.onclick(null))}))}(a)},e.Destroy=()=>{ue.stopListeningFor("DidStopPlay",t),ue.stopListeningFor("DidPlay",n),ue.stopListeningFor("DidSetLoop",r),ue.stopListeningFor("DidAudioProcess",i),t=null,n=null,r=null,i=null,We.removeLast("space"),e.body&&(e.body.parentNode.removeChild(e.body),e.body=null),e.app=null};const s=e=>{const t=document.createElement("div");t.className="pk_row",t.innerHTML='<div class="pk_row pk_pgeq_els"><span>Average BPM</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"></div><div class="pk_row pk_pgeq_els"><span>Nearest BPM</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"></div><div class="pk_row pk_pgeq_els"><span>Timing Taps</span><input style="margin-left:2px;min-width:64px;max-width:64px" type="text" class="pk_val pk_gain" value="-"><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Reset</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Play Track</a><a class="pk_modal_a_bottom" style="display:inline-block;float:none">Loop</a></div><div><div id="pk_tmp_tap"><span style="opacity:0" class="pk_obj2">CLEARED...</span><span class="pk_obj2">STAND BY...</span></div><div id="pk_tmp_tap2" style="position:relative"><canvas width="1000" height="200" style="image-rendering:pixelated;width:500px;height:100px;display:block;background:#000"></canvas><span style="z-index:3;background:red;position:absolute;display:block;width:2px;height:100px;left:50%;margin-left:-1px;top:0"></span></div></div><div id="pk_tmp_tap3"><span style="position:absolute;top:50%;display:block;width:80%;left:10%;font-size:12px;margin-top:-20px;user-select:none;text-align:center;pointer-events:none;color:#ccc">Tap in this area, or hit [SPACE] rhythmically, to measure BPM.</span></div>',e.body=t,e.el.appendChild(t)}};let c;C((()=>{const e=c.getElementsByClassName("pk_tbsa"),t=()=>{a&&(a.Destroy(),a=null,e[s].classList.remove("pk_act"))},n=()=>{0===s?(e[0].className+=" pk_act",a=new l):1===s&&(e[1].className+=" pk_act",a=new o),a&&a.Init(r)};e[0].onclick=()=>{0!==s&&(t(),s=0,n())},e[1].onclick=()=>{1!==s&&(t(),s=1,n())},n(),ue.fireEvent("RequestPause"),je.checkAndSet(lu),We.add("esc",(()=>{je.check(lu)&&i()}))}));const u={id:"tempo_tools",title:"",ondestroy:()=>{je.on=!1,We.removeLast("esc"),a.Destroy(),a=null,ue.fireEvent("RequestStop")}};return e.$$set=e=>{"hide"in e&&n(0,i=e.hide)},[i,r,c,u,function(e){F[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},function(e){r=e,n(1,r)}]}class uu extends re{constructor(e){super(),ne(this,e,cu,ou,s,{hide:0})}}function du(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,W,G,Y,Q,K,J,ee,te,ne,re,ie,se,ae,oe=e[4]("Hz")+"";return{c(){t=m("div"),n=m("label"),n.textContent="File Name",r=_(),i=m("input"),s=_(),a=m("div"),o=m("label"),o.textContent="Format",l=_(),c=m("input"),u=_(),h=m("label"),h.textContent="mp3",v=_(),w=m("input"),y=_(),$=m("label"),x=g("wav "),T=m("i"),R=g("(44100"),P=g(oe),S=g(")"),C=_(),A=m("div"),D=m("input"),F=_(),q=m("label"),q.textContent="128kbps",L=_(),z=m("input"),M=_(),O=m("label"),O.textContent="192kbps",N=_(),I=m("input"),B=_(),U=m("label"),U.textContent="256kbps",j=_(),X=m("div"),V=m("input"),H=_(),Z=m("label"),Z.textContent="Mono",W=_(),G=m("input"),Y=_(),Q=m("label"),Q.textContent="Stereo",K=_(),J=m("div"),ee=m("input"),te=_(),ne=m("label"),ne.textContent="Export whole file",re=_(),ie=m("input"),se=_(),ae=m("label"),ae.textContent="Export Selection Only",b(n,"for","k0"),E(i,"min-width","250px"),b(i,"placeholder","mp3 filename"),i.value="audio-editor-output.mp3",b(i,"class","pk_txt mousetrap"),b(i,"type","text"),b(i,"id","k0"),b(t,"class","pk_row"),E(o,"display","inline"),b(c,"type","radio"),b(c,"class","pk_check"),b(c,"id","k01"),b(c,"name","frmtex"),c.checked=!0,c.value="mp3",b(h,"for","k01"),b(w,"type","radio"),b(w,"class","pk_check"),b(w,"id","k02"),b(w,"name","frmtex"),w.value="wav",b($,"for","k02"),b(a,"class","pk_row"),b(a,"id","frmtex"),E(a,"padding-bottom","4px"),b(D,"type","radio"),b(D,"class","pk_check"),b(D,"id","k1"),b(D,"name","rdslnc"),D.checked=!0,D.value="128",b(q,"for","k1"),b(z,"type","radio"),b(z,"class","pk_check"),b(z,"id","k2"),b(z,"name","rdslnc"),z.value="192",b(O,"for","k2"),b(I,"type","radio"),b(I,"class","pk_check"),b(I,"id","k3"),b(I,"name","rdslnc"),I.value="256",b(U,"for","k3"),b(A,"class","pk_row"),b(A,"id","frmtex-mp3"),b(V,"type","radio"),b(V,"class","pk_check"),b(V,"id","k6"),b(V,"name","chnl"),V.checked=!0,V.value="mono",b(Z,"for","k6"),b(G,"type","radio"),b(G,"class","pk_check pk_stereo"),b(G,"id","k7"),b(G,"name","chnl"),G.value="stereo",b(Q,"for","k7"),b(X,"class","pk_row"),E(X,"padding-bottom","5px"),b(ee,"type","radio"),b(ee,"class","pk_check"),b(ee,"id","k4"),b(ee,"name","xport"),ee.checked=!0,ee.value="whole",b(ne,"for","k4"),b(ie,"type","radio"),b(ie,"class","pk_check"),b(ie,"id","k5"),b(ie,"name","xport"),ie.value="sel",b(ae,"class","pk_lblmp3"),b(ae,"for","k5"),b(J,"class","pk_row")},m(f,m){p(f,t,m),d(t,n),d(t,r),d(t,i),e[6](i),p(f,s,m),p(f,a,m),d(a,o),d(a,l),d(a,c),e[7](c),d(a,u),d(a,h),d(a,v),d(a,w),e[8](w),d(a,y),d(a,$),d($,x),d($,T),d(T,R),d(T,P),d(T,S),p(f,C,m),p(f,A,m),d(A,D),e[9](D),d(A,F),d(A,q),d(A,L),d(A,z),e[10](z),d(A,M),d(A,O),d(A,N),d(A,I),e[11](I),d(A,B),d(A,U),p(f,j,m),p(f,X,m),d(X,V),e[12](V),d(X,H),d(X,Z),d(X,W),d(X,G),e[13](G),d(X,Y),d(X,Q),p(f,K,m),p(f,J,m),d(J,ee),e[14](ee),d(J,te),d(J,ne),d(J,re),d(J,ie),e[15](ie),d(J,se),d(J,ae),e[16](ae)},p(e,t){16&t&&oe!==(oe=e[4]("Hz")+"")&&k(P,oe)},d(n){n&&f(t),e[6](null),n&&f(s),n&&f(a),e[7](null),e[8](null),n&&f(C),n&&f(A),e[9](null),e[10](null),e[11](null),n&&f(j),n&&f(X),e[12](null),e[13](null),n&&f(K),n&&f(J),e[14](null),e[15](null),e[16](null)}}}function pu(e){let t,n;return t=new No({props:{hide:e[0],config:e[5],$$slots:{default:[du]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),524318&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function fu(e,t,n){let r;o(e,Cr,(e=>n(4,r=e)));let i,s,a,{hide:l}=t,c=[];const u={title:r("export"),ondestroy:e=>{je.on=!1,We.removeLast("esc")},buttons:[{title:"Export",clss:"pk_modal_a_accpt",callback:()=>{const e=a.value.trim();let t="mp3",n=128,r=!1,i=!1,s=c.length;for(;s-- >0;)if(c[s].checked)if("frmtex"==c[s].name)t=c[s].value;else if("xport"==c[s].name){if("sel"===c[s].value){const e=ft.engine.wavesurfer.regions.list[0];r=!!e&&[e.start,e.end]}}else"chnl"==c[s].name?"stereo"===c[s].value&&(i=!0):n=c[s].value/1;ft.engine.DownloadFile(e,t,n,r,i),l()}}]};return C((()=>{Ke("export_modal","main",10,"file"),s=c[6];const e=ft.engine.wavesurfer;e.regions.list[0]||n(1,i.className="pk_dis",i);2===e.backend.buffer.numberOfChannels&&(s.checked=!0),ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{l()})),setTimeout((()=>{a&&a.select();const e=document.getElementById("frmtex"),t=document.getElementById("frmtex-mp3");e&&e.addEventListener("change",(function(e){const r=this.getElementsByTagName("input");for(let e=0;e<r.length;++e)r[e].checked&&("mp3"===r[e].value?(t.style.display="block",n(2,a.value=a.value.replace(".wav",".mp3"),a)):(t.style.display="none",n(2,a.value=a.value.replace(".mp3",".wav"),a)))}),!1)}),20)})),e.$$set=e=>{"hide"in e&&n(0,l=e.hide)},[l,i,a,c,r,u,function(e){F[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(e){F[e?"unshift":"push"]((()=>{c[0]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[1]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[2]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[3]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[4]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[5]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[6]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[7]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{c[8]=e,n(3,c)}))},function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class hu extends re{constructor(e){super(),ne(this,e,fu,pu,s,{hide:0})}}function mu(t){let n,r,i;return{c(){n=m("label"),n.textContent="Insert url",r=_(),i=m("input"),b(n,"for","k00"),E(i,"min-width","250px"),b(i,"placeholder","Please insert url"),b(i,"class","pk_txt"),b(i,"type","text"),b(i,"id","k00")},m(e,s){p(e,n,s),p(e,r,s),p(e,i,s),t[3](i)},p:e,d(e){e&&f(n),e&&f(r),e&&f(i),t[3](null)}}}function vu(e){let t,n;return t=new No({props:{hide:e[0],config:e[2],$$slots:{default:[mu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),66&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function gu(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let i,{hide:s}=t;const a={title:r("load_url"),ondestroy:e=>{je.on=!1,We.removeLast("esc")},buttons:[{title:r("open"),clss:"pk_modal_a_accpt",callback:e=>{const t=i.value.trim();var n;n=t,new RegExp("^((https?:)?\\/\\/)?(?:\\S+(?::\\S*)?@)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(n)?(ft.engine.LoadURL(t),s()):Le("Invalid URL entered",1100)}}]};return C((()=>{Ke("load_from_url_modal","main",10,"file"),ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{s()})),setTimeout((()=>{i.focus()}),20)})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,a,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class _u extends re{constructor(e){super(),ne(this,e,gu,vu,s,{hide:0})}}function wu(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R;return{c(){n=m("p"),n.textContent="Please choose source...",r=_(),i=m("div"),s=m("input"),a=_(),o=m("label"),o.textContent="Whole Track",l=_(),c=m("input"),u=_(),h=m("label"),h.innerHTML='Selection <i style="display:block;font-size:11px;margin-top:-5px"></i>',v=_(),g=m("input"),w=_(),y=m("label"),y.textContent='"Copy" clipboard/buffer',k=_(),$=m("div"),x=m("label"),x.textContent="Draft Name",T=_(),R=m("input"),b(s,"type","radio"),b(s,"class","pk_check"),b(s,"id","sl1"),b(s,"name","rdslnc"),s.checked=!0,s.value="whole",E(o,"vertical-align","top"),b(o,"for","sl1"),b(c,"type","radio"),b(c,"class","pk_check"),b(c,"id","sl2"),b(c,"name","rdslnc"),c.value="sel",E(h,"vertical-align","top"),b(h,"class","pk_lblsel"),b(h,"for","sl2"),b(g,"type","radio"),b(g,"class","pk_check"),b(g,"id","sl3"),b(g,"name","rdslnc"),g.value="copy",E(y,"vertical-align","top"),b(y,"class","pk_lblsel2"),b(y,"for","sl3"),b(i,"class","pk_row"),b(x,"for","slk0"),E(R,"min-width","250px"),b(R,"placeholder","(optional) filename"),b(R,"maxlength","100"),b(R,"class","pk_txt"),b(R,"type","text"),b(R,"id","slk0"),b($,"class","pk_row")},m(e,f){p(e,n,f),p(e,r,f),p(e,i,f),d(i,s),t[8](s),d(i,a),d(i,o),d(i,l),d(i,c),t[9](c),d(i,u),d(i,h),t[10](h),d(i,v),d(i,g),t[11](g),d(i,w),d(i,y),t[12](y),p(e,k,f),p(e,$,f),d($,x),d($,T),d($,R),t[13](R)},p:e,d(e){e&&f(n),e&&f(r),e&&f(i),t[8](null),t[9](null),t[10](null),t[11](null),t[12](null),e&&f(k),e&&f($),t[13](null)}}}function yu(e){let t,n;return t=new No({props:{config:e[7],hide:e[0],$$slots:{default:[wu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),131198&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function bu(e,t,n){let r;o(e,Cr,(e=>n(15,r=e)));let{hide:i}=t;let s,a,l,c;const u={title:r("save_draft"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:r("save"),clss:"pk_modal_a_accpt",callback:e=>{let t="whole";const n=[a,l,c,s];let r=n[n.length-1].value;r?(r=r.trim(),r.length>=100&&(r=r.substr(0,99).trim()),0===r.length&&(r=null)):r=null;for(let e=0;e<n.length;++e)if(n[e].checked){t=n[e].value;break}((e,t)=>{let n=ft.engine.wavesurfer.backend.buffer;"copy"===e?n=ft.engine.GetCopyBuff():"sel"===e&&(n=ft.engine.GetSel());const r=e=>{const i=Math.random().toString(36).substring(7);e.SaveSession(n,i,t),ue.stopListeningFor("DidOpenDB",r)};ue.listenFor("DidOpenDB",r),ft.fls.on?ue.fireEvent("DidOpenDB",ft.fls):ft.fls.Init((e=>{e&&alert("db error")}))})(t,r),i()}}]};let d,p;return C((()=>{Ke("save_draft_locally_modal","main",10,"file");const e=ft.engine.wavesurfer.regions.list[0];e?(n(3,l.checked=!0,l),n(5,d.childNodes[1].textContent=Oa(e.start)+" to "+Oa(e.end),d)):n(5,d.className="pk_dis",d);ft.engine.GetCopyBuff()||n(6,p.className="pk_dis",p),Oe||setTimeout((()=>{s.focus()}),20),ue.fireEvent("RequestPause"),je.checkAndSet("modal"),We.add("esc",(()=>{i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide)},[i,s,a,l,c,d,p,u,function(e){F[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(e){F[e?"unshift":"push"]((()=>{l=e,n(3,l)}))},function(e){F[e?"unshift":"push"]((()=>{d=e,n(5,d)}))},function(e){F[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},function(e){F[e?"unshift":"push"]((()=>{p=e,n(6,p)}))},function(e){F[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class ku extends re{constructor(e){super(),ne(this,e,bu,yu,s,{hide:0})}}function Eu(e){let t,n,r,i,s,a,o,l,c,u,h,v,w,y,$,x,T,R,P=e[1].id+"",S=e[1].durr+"",C=1===e[1].chans?"mono":"stereo";return{c(){t=m("p"),t.textContent="Open in new window?",n=_(),r=m("div"),i=g(P),s=_(),a=m("div"),o=m("span"),l=g("durr: "),c=g(S),u=g("s"),h=g("\n        \n        "),v=m("span"),w=g("chan: "),y=g(C),$=_(),x=m("div"),T=m("img"),E(r,"padding","2px 0"),E(a,"padding","2px 0"),T.src!==(R=e[1].thumb)&&b(T,"src",R),E(x,"padding","2px 0")},m(e,f){p(e,t,f),p(e,n,f),p(e,r,f),d(r,i),p(e,s,f),p(e,a,f),d(a,o),d(o,l),d(o,c),d(o,u),d(a,h),d(a,v),d(v,w),d(v,y),p(e,$,f),p(e,x,f),d(x,T)},p(e,t){2&t&&P!==(P=e[1].id+"")&&k(i,P),2&t&&S!==(S=e[1].durr+"")&&k(c,S),2&t&&C!==(C=1===e[1].chans?"mono":"stereo")&&k(y,C),2&t&&T.src!==(R=e[1].thumb)&&b(T,"src",R)},d(e){e&&f(t),e&&f(n),e&&f(r),e&&f(s),e&&f(a),e&&f($),e&&f(x)}}}function $u(e){let t,n;return t=new No({props:{config:e[2],hide:e[0],$$slots:{default:[Eu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),34&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function xu(e,t,n){let r;o(e,Cr,(e=>n(4,r=e)));let{hide:i}=t,{obj:s}=t;const a={title:r("successfully_stored"),ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[{title:"OPEN IN NEW WINDOW",callback:()=>{window.open(window.location.pathname+"?local="+s.id),i()}}]};return C((()=>{ue.fireEvent("RequestPause"),ue.fireEvent("RequestRegionClear"),je.checkAndSet("modal"),We.add("esc",(()=>{i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide),"obj"in e&&n(1,s=e.obj)},[i,s,a]}class Tu extends re{constructor(e){super(),ne(this,e,xu,$u,s,{hide:0,obj:1})}}function Ru(e){let t;return{c(){t=m("div")},m(n,r){p(n,t,r),t.innerHTML=e[4],e[5](t)},p(e,n){16&n&&(t.innerHTML=e[4])},d(n){n&&f(t),e[5](null)}}}function Pu(e){let t,n,r;var i=e[2];function s(e){return{props:{hide:e[0],config:e[3],$$slots:{default:[Ru]},$$scope:{ctx:e}}}}return i&&(t=new i(s(e))),{c(){t&&K(t.$$.fragment),n=w()},m(e,i){t&&J(t,e,i),p(e,n,i),r=!0},p(e,[r]){const a={};if(1&r&&(a.hide=e[0]),8&r&&(a.config=e[3]),2066&r&&(a.$$scope={dirty:r,ctx:e}),i!==(i=e[2])){if(t){H();const e=t;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}i?(t=new i(s(e)),K(t.$$.fragment),W(t.$$.fragment,1),J(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){r||(t&&W(t.$$.fragment,e),r=!0)},o(e){t&&G(t.$$.fragment,e),r=!1},d(e){e&&f(n),t&&ee(t,e)}}}function Su(e,t,n){let r;o(e,Cr,(e=>n(8,r=e)));let i,{hide:s}=t,a=+new Date;const l=e=>{let t=(a-e)/1e3>>0;return 59>=t?(a=1<t?"s":"",t+" second"+a+" ago"):60<=t&&3599>=t?(t=Math.floor(t/60),t+" minute"+(1<t?"s":"")+" ago"):3600<=t&&86399>=t?(t=Math.floor(t/3600),t+" hour"+(1<t?"s":"")+" ago"):86400<=t&&2592030>=t?(t=Math.floor(t/86400),t+" day"+(1<t?"s":"")+" ago"):2592031<=t?(t=Math.floor(t/2592e3),t+" month"+(1<t?"s":"")+" ago"):void 0};let c,u,d="";const p=e=>{e.ListSessions((e=>{if(0===e.length)n(4,d+="No drafts found...");else for(let t=0;t<e.length;++t){const i=e[t],s=new Date(i.created),a=s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear()+"  "+s.getHours()+":"+s.getMinutes()+":"+s.getSeconds(),o=l(s),c=i.name||"-",u=i.durr,p=i.thumb,f=1===i.chans?"mono":"stereo";n(4,d+=`<div id="pk_${i.id}" class="pk_lcldrf">\n                        <div style="padding-bottom:2px">\n                        <span>\n                            <i class="pk_i">name:</i>\n                            ${c}\n                        </span>\n                        </div>\n                        <div>\n                            <span class="pk_lcls">\n                                <i class="pk_i">id:</i>\n                                <strong>${i.id}</strong>\n                                <br/>\n                                <i class="pk_i">chn:</i>\n                                ${f}\n                            </span>\n                            <span class="pk_lcls" style="width:50%;text-align:center">\n                                <i class="pk_i">date:</i><span>\n                                ${a}\n                                <br/>${o}\n                            </span>\n                        </span>\n                        <span style="text-align:right;float:right" class="pk_lcls">\n                            <i class="pk_i">durr:</i>\n                            ${u}s\n                        </span>\n                        </div>\n                        <div>\n\n                        <img class="pk_lcli" src="${p}" />\n                        <a class="pk_lcla2" onclick="EventObserver.fireEvent('LoadDraft','${i.id}', 3);">${r("play")}</a>\n                        <a class="pk_lcla" onclick="EventObserver.fireEvent('LoadDraft','${i.id}');">${r("open")}</a>`),ft.engine.is_ready&&n(4,d+="<a onclick=\"EventObserver.fireEvent('LoadDraft','"+i.id+'\',1);" class="pk_lcla">Append to Current Track</a>'),n(4,d+='<a class="pk_lcla" style="color:#ad2b2b" onclick="EventObserver.fireEvent(\'LoadDraft\',\''+i.id+"',2);\">Del</a>"),n(4,d+="</div></div>")}const t=(e,t)=>{2!==t&&3!==t&&s()},a=(e,t)=>{let n;if(t){const t=document.getElementById("pk_"+e);t&&(n=t.getElementsByClassName("pk_lcla2")[0],n&&n.classList.add("pk_act"))}else n=i.getElementsByClassName("pk_act")[0],n&&n.classList.remove("pk_act")};ue.listenFor("_lclStart",a),n(3,u={title:r("open_drafts"),big:!0,ondestroy:()=>{ue.fireEvent("_lclStop"),je.on=!1,We.removeLast("esc"),ue.stopListeningFor("LoadDraft",t),ue.stopListeningFor("_lclStart",a)},buttons:[]});n(2,c=No),ue.fireEvent("RequestPause"),ue.fireEvent("RequestRegionClear"),ue.listenFor("LoadDraft",t),je.checkAndSet("modal"),We.add("esc",(()=>{s()}))})),ue.stopListeningFor("DidOpenDB",p)};return ue.listenFor("DidOpenDB",p),ft.fls.on?ue.fireEvent("DidOpenDB",ft.fls):ft.fls.Init((e=>{e&&alert("db error")})),C((()=>{Ke("open_local_drafts_modal","main",10,"file")})),e.$$set=e=>{"hide"in e&&n(0,s=e.hide)},[s,i,c,u,d,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class Cu extends re{constructor(e){super(),ne(this,e,Su,Pu,s,{hide:0})}}function Au(e){let t;return{c(){t=m("div"),t.textContent="Open in new window, or in the current one?"},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Du(e){let t,n;return t=new No({props:{config:e[1],hide:e[0],$$slots:{default:[Au]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),64&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Fu(e,t,n){let r;o(e,Cr,(e=>n(5,r=e)));let{hide:i}=t,{overwrite:s}=t,{name:a}=t;const l={title:r("open_in_existing"),buttons:[{title:"OPEN",clss:"pk_modal_a_accpt",callback:e=>{s(),i()}},{title:"OPEN IN NEW",clss:"pk_modal_a_accpt",callback:e=>{window.open(window.location.pathname+"?local="+a),i()}}],ondestroy:()=>{n(2,s=null),je.on=!1,We.removeLast("esc")}};return C((()=>{je.checkAndSet("mm"),We.add("esc",(()=>{i()}))})),e.$$set=e=>{"hide"in e&&n(0,i=e.hide),"overwrite"in e&&n(2,s=e.overwrite),"name"in e&&n(3,a=e.name)},[i,l,s,a]}class qu extends re{constructor(e){super(),ne(this,e,Fu,Du,s,{hide:0,overwrite:2,name:3})}}function Lu(e){let t;return{c(){t=m("p"),t.textContent="Append file to existing track?"},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function zu(e){let t,n;return t=new No({props:{config:e[1],hide:e[0],$$slots:{default:[Lu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Mu(e,t,n){let{hide:r}=t,{openData:i}=t;const{func:s,file:a}=i,o={title:"Open or append",clss:"pk_modal_anim pk_fnt10",ondestroy:e=>{je.on=!1,We.removeLast("esc")},buttons:[{title:"OPEN NEW",callback:e=>{ft.engine.wavesurfer.backend._add=0,s(a),r()}},{title:"ADD IN EXISTING",callback:e=>{ft.engine.wavesurfer.backend._add=1,s(a),r()}}]};return C((()=>{je.checkAndSet("modal"),We.add("esc",(()=>{r()}))})),e.$$set=e=>{"hide"in e&&n(0,r=e.hide),"openData"in e&&n(2,i=e.openData)},[r,o,i]}class Ou extends re{constructor(e){super(),ne(this,e,Mu,zu,s,{hide:0,openData:2})}}function Nu(e){let t,n;return{c(){t=m("p"),n=g(e[1])},m(e,r){p(e,t,r),d(t,n)},p(e,t){2&t&&k(n,e[1])},d(e){e&&f(t)}}}function Iu(e){let t,n;return t=new No({props:{config:e[2],hide:e[0],$$slots:{default:[Nu]},$$scope:{ctx:e}}}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.hide=e[0]),18&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Bu(e,t,n){let{hide:r}=t,{message:i}=t;const s={title:"Oops! Something is not right",clss:"pk_modal_anim",ondestroy:()=>{je.on=!1,We.removeLast("esc")},buttons:[]};return C((()=>{ue.fireEvent("RequestPause"),ue.fireEvent("RequestRegionClear"),je.checkAndSet("modal"),We.add("esc",(()=>{r()}))})),e.$$set=e=>{"hide"in e&&n(0,r=e.hide),"message"in e&&n(1,i=e.message)},[r,i,s]}class Uu extends re{constructor(e){super(),ne(this,e,Bu,Iu,s,{hide:0,message:1})}}function ju(e){let t,n,r,i,s,a,o,l,c,u,d,h,m,v,g,y,b;t=new Ic({});var k=e[0];function E(e){return{props:{hide:e[14]}}}k&&(r=new k(E(e)));var $=e[1];function x(e){return{props:{hide:e[15],curr_filter_ui:e[5]}}}$&&(s=new $(x(e)));var T=e[2];function R(e){return{props:{hide:e[16],current_tags:e[8]}}}T&&(o=new T(R(e)));var P=e[10];function S(e){return{props:{hide:e[17],obj:e[9]}}}P&&(c=new P(S(e)));var C=e[12];function A(e){return{props:{hide:e[18],overwrite:e[11],name:e[13]}}}C&&(d=new C(A(e)));var D=e[3];function F(e){return{props:{hide:e[19],openData:e[6]}}}D&&(m=new D(F(e)));var q=e[4];function L(e){return{props:{hide:e[20],message:e[7]}}}return q&&(g=new q(L(e))),{c(){K(t.$$.fragment),n=_(),r&&K(r.$$.fragment),i=_(),s&&K(s.$$.fragment),a=_(),o&&K(o.$$.fragment),l=_(),c&&K(c.$$.fragment),u=_(),d&&K(d.$$.fragment),h=_(),m&&K(m.$$.fragment),v=_(),g&&K(g.$$.fragment),y=w()},m(e,f){J(t,e,f),p(e,n,f),r&&J(r,e,f),p(e,i,f),s&&J(s,e,f),p(e,a,f),o&&J(o,e,f),p(e,l,f),c&&J(c,e,f),p(e,u,f),d&&J(d,e,f),p(e,h,f),m&&J(m,e,f),p(e,v,f),g&&J(g,e,f),p(e,y,f),b=!0},p(e,[t]){if(k!==(k=e[0])){if(r){H();const e=r;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}k?(r=new k(E(e)),K(r.$$.fragment),W(r.$$.fragment,1),J(r,i.parentNode,i)):r=null}const n={};if(32&t&&(n.curr_filter_ui=e[5]),$!==($=e[1])){if(s){H();const e=s;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}$?(s=new $(x(e)),K(s.$$.fragment),W(s.$$.fragment,1),J(s,a.parentNode,a)):s=null}else $&&s.$set(n);const p={};if(256&t&&(p.current_tags=e[8]),T!==(T=e[2])){if(o){H();const e=o;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}T?(o=new T(R(e)),K(o.$$.fragment),W(o.$$.fragment,1),J(o,l.parentNode,l)):o=null}else T&&o.$set(p);const f={};if(512&t&&(f.obj=e[9]),P!==(P=e[10])){if(c){H();const e=c;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}P?(c=new P(S(e)),K(c.$$.fragment),W(c.$$.fragment,1),J(c,u.parentNode,u)):c=null}else P&&c.$set(f);const _={};if(2048&t&&(_.overwrite=e[11]),8192&t&&(_.name=e[13]),C!==(C=e[12])){if(d){H();const e=d;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}C?(d=new C(A(e)),K(d.$$.fragment),W(d.$$.fragment,1),J(d,h.parentNode,h)):d=null}else C&&d.$set(_);const w={};if(64&t&&(w.openData=e[6]),D!==(D=e[3])){if(m){H();const e=m;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}D?(m=new D(F(e)),K(m.$$.fragment),W(m.$$.fragment,1),J(m,v.parentNode,v)):m=null}else D&&m.$set(w);const b={};if(128&t&&(b.message=e[7]),q!==(q=e[4])){if(g){H();const e=g;G(e.$$.fragment,1,0,(()=>{ee(e,1)})),Z()}q?(g=new q(L(e)),K(g.$$.fragment),W(g.$$.fragment,1),J(g,y.parentNode,y)):g=null}else q&&g.$set(b)},i(e){b||(W(t.$$.fragment,e),r&&W(r.$$.fragment,e),s&&W(s.$$.fragment,e),o&&W(o.$$.fragment,e),c&&W(c.$$.fragment,e),d&&W(d.$$.fragment,e),m&&W(m.$$.fragment,e),g&&W(g.$$.fragment,e),b=!0)},o(e){G(t.$$.fragment,e),r&&G(r.$$.fragment,e),s&&G(s.$$.fragment,e),o&&G(o.$$.fragment,e),c&&G(c.$$.fragment,e),d&&G(d.$$.fragment,e),m&&G(m.$$.fragment,e),g&&G(g.$$.fragment,e),b=!1},d(e){ee(t,e),e&&f(n),r&&ee(r,e),e&&f(i),s&&ee(s,e),e&&f(a),o&&ee(o,e),e&&f(l),c&&ee(c,e),e&&f(u),d&&ee(d,e),e&&f(h),m&&ee(m,e),e&&f(v),e&&f(y),g&&ee(g,e)}}}function Xu(e,t,n){let r,i,s,a=null,o=null,l=null,c=null,u=null;ue.listenFor("RequestActionNewRec",(()=>{n(0,a=Go)})),ue.listenFor("RequestActionFXUI_Flip",(()=>{n(0,a=Vc)})),ue.listenFor("RequestFXUI_Silence",(()=>{n(0,a=eu)})),ue.listenFor("modal:export",(()=>{n(0,a=hu)})),ue.listenFor("modal:load-from-url",(()=>{n(0,a=_u)})),ue.listenFor("modal:save-draft-locally",(()=>{n(0,a=ku)})),ue.listenFor("RequestSavePreset",(e=>{Ke("save-preset","main",10,"file"),n(5,r=e),n(1,o=Yc)})),ue.listenFor("modal:open-or-append",(e=>{n(6,i=e),n(3,c=Ou)}));let d=null;ue.listenFor("RequestActionID3",((e,t)=>{e?n(8,d=t):n(2,l=su)})),ue.listenFor("RequestActionTempo",(()=>{n(0,a=uu)})),ue.listenFor("modal:open-local-drafts",(()=>{n(0,a=Cu)}));let p=null,f=null;ue.listenFor("DidStoreDB",(e=>{n(9,p=e),n(10,f=Tu)}));let h=null,m=null,v=null;ue.listenFor("modal:open-in-existing",((e,t)=>{n(13,v=e),n(11,h=t),n(12,m=qu)})),ue.listenFor("ShowError",(e=>{n(4,u=Uu),n(7,s=e)}));return[a,o,l,c,u,r,i,s,d,p,f,h,m,v,()=>{n(0,a=null)},()=>{n(1,o=null),n(5,r=null)},()=>{n(2,l=null)},()=>{n(10,f=null)},()=>{n(12,m=null)},()=>{n(3,c=null),n(6,i=null)},()=>{n(4,u=null),n(7,s=null)}]}class Vu extends re{constructor(e){super(),ne(this,e,Xu,ju,s,{})}}function Hu(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,Y,Q,te,ne;return i=new Ts({}),a=new us({}),l=new vs({}),u=new ys({}),v=new Ws({}),w=new Pa({}),$=new Cs({}),T=new qs({}),P=new Os({}),C=new Us({}),q=new $a({}),M=new Ks({}),N=new na({}),B=new aa({}),j=new ua({}),Z=new ya({}),te=new rs({}),{c(){n=m("div"),r=m("div"),K(i.$$.fragment),s=_(),K(a.$$.fragment),o=_(),K(l.$$.fragment),c=_(),K(u.$$.fragment),h=_(),K(v.$$.fragment),g=_(),K(w.$$.fragment),y=_(),k=m("div"),K($.$$.fragment),x=_(),K(T.$$.fragment),R=_(),K(P.$$.fragment),S=_(),K(C.$$.fragment),A=_(),D=m("div"),F=_(),K(q.$$.fragment),L=_(),z=m("div"),K(M.$$.fragment),O=_(),K(N.$$.fragment),I=_(),K(B.$$.fragment),U=_(),K(j.$$.fragment),X=_(),V=m("div"),H=_(),K(Z.$$.fragment),Y=_(),Q=m("div"),K(te.$$.fragment),b(r,"class","row svelte-1a933q"),b(D,"class","plug svelte-1a933q"),b(k,"class","row svelte-1a933q"),b(V,"class","plug svelte-1a933q"),b(z,"class","row svelte-1a933q"),E(Q,"margin-top","5px"),b(n,"class","toolbar svelte-1a933q")},m(e,t){p(e,n,t),d(n,r),J(i,r,null),d(r,s),J(a,r,null),d(r,o),J(l,r,null),d(r,c),J(u,r,null),d(r,h),J(v,r,null),d(r,g),J(w,r,null),d(n,y),d(n,k),J($,k,null),d(k,x),J(T,k,null),d(k,R),J(P,k,null),d(k,S),J(C,k,null),d(k,A),d(k,D),d(k,F),J(q,k,null),d(n,L),d(n,z),J(M,z,null),d(z,O),J(N,z,null),d(z,I),J(B,z,null),d(z,U),J(j,z,null),d(z,X),d(z,V),d(z,H),J(Z,z,null),d(n,Y),d(n,Q),J(te,Q,null),ne=!0},p:e,i(e){ne||(W(i.$$.fragment,e),W(a.$$.fragment,e),W(l.$$.fragment,e),W(u.$$.fragment,e),W(v.$$.fragment,e),W(w.$$.fragment,e),W($.$$.fragment,e),W(T.$$.fragment,e),W(P.$$.fragment,e),W(C.$$.fragment,e),W(q.$$.fragment,e),W(M.$$.fragment,e),W(N.$$.fragment,e),W(B.$$.fragment,e),W(j.$$.fragment,e),W(Z.$$.fragment,e),W(te.$$.fragment,e),ne=!0)},o(e){G(i.$$.fragment,e),G(a.$$.fragment,e),G(l.$$.fragment,e),G(u.$$.fragment,e),G(v.$$.fragment,e),G(w.$$.fragment,e),G($.$$.fragment,e),G(T.$$.fragment,e),G(P.$$.fragment,e),G(C.$$.fragment,e),G(q.$$.fragment,e),G(M.$$.fragment,e),G(N.$$.fragment,e),G(B.$$.fragment,e),G(j.$$.fragment,e),G(Z.$$.fragment,e),G(te.$$.fragment,e),ne=!1},d(e){e&&f(n),ee(i),ee(a),ee(l),ee(u),ee(v),ee(w),ee($),ee(T),ee(P),ee(C),ee(q),ee(M),ee(N),ee(B),ee(j),ee(Z),ee(te)}}}class Zu extends re{constructor(e){super(),ne(this,e,null,Hu,s,{})}}function Wu(t){let n,r,i,s,a,o,l,c,u,h,v,g,w,y,k,$,x,T,R,P,S,C,A,D,F,q,L,z,M,O,N,I,B,U,j,X,V,H,Z,Y;return s=new rs({}),o=new Ma({}),u=new Ts({}),v=new us({}),w=new vs({}),k=new ys({}),x=new Ws({}),R=new Cs({}),S=new qs({}),A=new Os({}),F=new Us({}),L=new Ks({}),M=new na({}),N=new aa({}),B=new ua({}),j=new $a({}),V=new ya({}),Z=new Pa({}),{c(){n=m("div"),r=m("div"),i=m("div"),K(s.$$.fragment),a=_(),K(o.$$.fragment),l=_(),c=m("div"),K(u.$$.fragment),h=_(),K(v.$$.fragment),g=_(),K(w.$$.fragment),y=_(),K(k.$$.fragment),$=_(),K(x.$$.fragment),T=_(),K(R.$$.fragment),P=_(),K(S.$$.fragment),C=_(),K(A.$$.fragment),D=_(),K(F.$$.fragment),q=_(),K(L.$$.fragment),z=_(),K(M.$$.fragment),O=_(),K(N.$$.fragment),I=_(),K(B.$$.fragment),U=_(),K(j.$$.fragment),X=_(),K(V.$$.fragment),H=_(),K(Z.$$.fragment),b(i,"class","col svelte-gsa3bc"),E(i,"padding-right","10px"),b(r,"class","row svelte-gsa3bc"),b(c,"class","row svelte-gsa3bc"),E(c,"padding-bottom","5px"),b(n,"class","toolbar svelte-gsa3bc")},m(e,t){p(e,n,t),d(n,r),d(r,i),J(s,i,null),d(r,a),J(o,r,null),d(n,l),d(n,c),J(u,c,null),d(c,h),J(v,c,null),d(c,g),J(w,c,null),d(c,y),J(k,c,null),d(c,$),J(x,c,null),d(c,T),J(R,c,null),d(c,P),J(S,c,null),d(c,C),J(A,c,null),d(c,D),J(F,c,null),d(c,q),J(L,c,null),d(c,z),J(M,c,null),d(c,O),J(N,c,null),d(c,I),J(B,c,null),d(c,U),J(j,c,null),d(c,X),J(V,c,null),d(c,H),J(Z,c,null),Y=!0},p:e,i(e){Y||(W(s.$$.fragment,e),W(o.$$.fragment,e),W(u.$$.fragment,e),W(v.$$.fragment,e),W(w.$$.fragment,e),W(k.$$.fragment,e),W(x.$$.fragment,e),W(R.$$.fragment,e),W(S.$$.fragment,e),W(A.$$.fragment,e),W(F.$$.fragment,e),W(L.$$.fragment,e),W(M.$$.fragment,e),W(N.$$.fragment,e),W(B.$$.fragment,e),W(j.$$.fragment,e),W(V.$$.fragment,e),W(Z.$$.fragment,e),Y=!0)},o(e){G(s.$$.fragment,e),G(o.$$.fragment,e),G(u.$$.fragment,e),G(v.$$.fragment,e),G(w.$$.fragment,e),G(k.$$.fragment,e),G(x.$$.fragment,e),G(R.$$.fragment,e),G(S.$$.fragment,e),G(A.$$.fragment,e),G(F.$$.fragment,e),G(L.$$.fragment,e),G(M.$$.fragment,e),G(N.$$.fragment,e),G(B.$$.fragment,e),G(j.$$.fragment,e),G(V.$$.fragment,e),G(Z.$$.fragment,e),Y=!1},d(e){e&&f(n),ee(s),ee(o),ee(u),ee(v),ee(w),ee(k),ee(x),ee(R),ee(S),ee(A),ee(F),ee(L),ee(M),ee(N),ee(B),ee(j),ee(V),ee(Z)}}}class Gu extends re{constructor(e){super(),ne(this,e,null,Wu,s,{})}}function Yu(t){let n,r;return n=new ja({}),{c(){K(n.$$.fragment)},m(e,t){J(n,e,t),r=!0},p:e,i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){ee(n,e)}}}function Qu(e){let t,n,r,i;const s=[Ju,Ku],a=[];function o(e,t){return"portrait"===e[1]?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=w()},m(e,n){a[t].m(e,n),p(e,r,n),i=!0},p(e,i){let l=t;t=o(e),t!==l&&(H(),G(a[l],1,1,(()=>{a[l]=null})),Z(),n=a[t],n||(n=a[t]=s[t](e),n.c()),W(n,1),n.m(r.parentNode,r))},i(e){i||(W(n),i=!0)},o(e){G(n),i=!1},d(e){a[t].d(e),e&&f(r)}}}function Ku(e){let t,n;return t=new Gu({}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function Ju(e){let t,n;return t=new Zu({}),{c(){K(t.$$.fragment)},m(e,r){J(t,e,r),n=!0},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function ed(e){let t,n,r;return n=new Ma({}),{c(){t=m("div"),K(n.$$.fragment),b(t,"class","selection-wrapper svelte-et15nh")},m(e,i){p(e,t,i),J(n,t,null),r=!0},i(e){r||(W(n.$$.fragment,e),r=!0)},o(e){G(n.$$.fragment,e),r=!1},d(e){e&&f(t),ee(n)}}}function td(e){let t,n,r,i,s,a,o,l,c,u,h,v,g,w;r=new Ii({});const y=[Qu,Yu],k=[];s=Qe.isMobile?0:1,a=k[s]=y[s](e),l=new So({props:{isMobile:Qe.isMobile}});let E=Qe.isMobile&&"portrait"===e[1]&&ed();return h=new zo({}),g=new Vu({}),{c(){t=m("main"),n=m("div"),K(r.$$.fragment),i=_(),a.c(),o=_(),K(l.$$.fragment),c=_(),E&&E.c(),u=_(),K(h.$$.fragment),v=_(),K(g.$$.fragment),b(n,"class","pk_app svelte-et15nh"),b(t,"class","svelte-et15nh"),x(t,"mobile",Qe.isMobile)},m(a,f){p(a,t,f),d(t,n),J(r,n,null),d(n,i),k[s].m(n,null),d(n,o),J(l,n,null),d(n,c),E&&E.m(n,null),e[2](n),p(a,u,f),J(h,a,f),p(a,v,f),J(g,a,f),w=!0},p(e,[t]){a.p(e,t),Qe.isMobile&&"portrait"===e[1]?E?2&t&&W(E,1):(E=ed(),E.c(),W(E,1),E.m(n,null)):E&&(H(),G(E,1,1,(()=>{E=null})),Z())},i(e){w||(W(r.$$.fragment,e),W(a),W(l.$$.fragment,e),W(E),W(h.$$.fragment,e),W(g.$$.fragment,e),w=!0)},o(e){G(r.$$.fragment,e),G(a),G(l.$$.fragment,e),G(E),G(h.$$.fragment,e),G(g.$$.fragment,e),w=!1},d(n){n&&f(t),ee(r),k[s].d(),ee(l),E&&E.d(),e[2](null),n&&f(u),ee(h,n),n&&f(v),ee(g,n)}}}function nd(e,t,n){let r,i;o(e,Cr,(e=>n(3,r=e)));let{orientation:s}=Qe;return window.addEventListener("orientationchange",(()=>{n(1,s=Qe.orientation)}),!1),C((()=>{We.add("mod+d",(()=>{Ke("bookmark","shortcut",5)}));const e=document.createElement("div");e.title=r("close"),e.classList.add("close"),e.innerHTML='<svg width="48" height="48" viewBox="0 0 48 48" style="width: 30px; height: 30px">\n            <path fill="#fff" d="M38 12.83L35.17 10 24 21.17 12.83 10 10 12.83 21.17 24 10 35.17 12.83 38 24 26.83 35.17 38 38 35.17 26.83 24z"/>\n        </svg>';const t=document.querySelector("article.about");t.appendChild(e),e.addEventListener("mouseup",(()=>{t.style.display="none",ue.fireEvent("about:change:visibility"),Ke("close_about","main",10,"greeting")})),Ue.set(i),ft.init(),Fo(),ue.listenFor("RequestShowFreqAn",((e,t)=>{console.log("new RequestShowFreqAn"),console.log(e),console.log(t)}))})),[i,s,function(e){F[e?"unshift":"push"]((()=>{i=e,n(0,i)}))}]}return new class extends re{constructor(e){super(),ne(this,e,nd,td,s,{})}}({target:document.querySelector(".app")})}();
